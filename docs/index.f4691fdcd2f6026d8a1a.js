(self["webpackChunkwebpack_demo"] = self["webpackChunkwebpack_demo"] || []).push([["index"],{

/***/ 1402:
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/style.css ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ 7537);
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ 3645);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.webgl {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    outline: none;\r\n}\r\n\r\nbody {\r\n    -moz-user-select: none;\r\n    /*火狐*/\r\n    -webkit-user-select: none;\r\n    /*webkit浏览器*/\r\n    -ms-user-select: none;\r\n    /*IE10*/\r\n    -khtml-user-select: none;\r\n    /*早期浏览器*/\r\n    user-select: none;\r\n}\r\n\r\n.text {\r\n    top: 0;\r\n    left: 0;\r\n    color: #ffffff;\r\n    font-size: 6px;\r\n    position: relative;\r\n    text-align: right;\r\n    pointer-events: none;\r\n}\r\n\r\n#language {\r\n    color: #ffffff;\r\n    text-align: right;\r\n    text-decoration: underline;\r\n    position: relative;\r\n}\r\n\r\n.region {\r\n    background: rgb(35, 31, 34);\r\n    border-radius: 8px;\r\n    width: calc(100% - 100px);\r\n    height: 120px;\r\n    max-width: 300px;\r\n    padding: 34px 30px 17px;\r\n\r\n    color: #ffffff;\r\n\r\n    font-family: \"Lucida Console\", \"Courier New\", monospace;\r\n    font-size: 16px;\r\n\r\n    position: fixed;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 10%;\r\n    left: 5%;\r\n  \r\n}\r\n\r\n.regionTitle{\r\n    font-size: 24px;\r\n    letter-spacing:8px;\r\n}\r\n\r\n.regionDescription{\r\n    font-size: 12px;\r\n    letter-spacing:1px;\r\n    padding-top: 10px;\r\n    padding-bottom:10px;\r\n}\r\n\r\n.discover{\r\n    position: absolute;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 12%;\r\n    left: -2%;\r\n\r\n    background-color: #ffffff;\r\n    border-radius: 4px;\r\n    color: rgb(21, 0, 156);\r\n    padding: 5px 3px 3px 10px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    letter-spacing:2px;\r\n    cursor: pointer;\r\n}\r\n\r\n", "",{"version":3,"sources":["webpack://./src/css/style.css"],"names":[],"mappings":"AAAA;IACI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,eAAe;IACf,MAAM;IACN,OAAO;IACP,aAAa;AACjB;;AAEA;IACI,sBAAsB;IACtB,KAAK;IACL,yBAAyB;IACzB,YAAY;IACZ,qBAAqB;IACrB,OAAO;IACP,wBAAwB;IACxB,QAAQ;IACR,iBAAiB;AACrB;;AAEA;IACI,MAAM;IACN,OAAO;IACP,cAAc;IACd,cAAc;IACd,kBAAkB;IAClB,iBAAiB;IACjB,oBAAoB;AACxB;;AAEA;IACI,cAAc;IACd,iBAAiB;IACjB,0BAA0B;IAC1B,kBAAkB;AACtB;;AAEA;IACI,2BAA2B;IAC3B,kBAAkB;IAClB,yBAAyB;IACzB,aAAa;IACb,gBAAgB;IAChB,uBAAuB;;IAEvB,cAAc;;IAEd,uDAAuD;IACvD,eAAe;;IAEf,eAAe;IACf,SAAS;IACT,WAAW;IACX,WAAW;IACX,QAAQ;;AAEZ;;AAEA;IACI,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;IACX,WAAW;IACX,SAAS;;IAET,yBAAyB;IACzB,kBAAkB;IAClB,sBAAsB;IACtB,yBAAyB;IACzB,kBAAkB;IAClB,qBAAqB;IACrB,qBAAqB;IACrB,eAAe;IACf,kBAAkB;IAClB,eAAe;AACnB","sourcesContent":["* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.webgl {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    outline: none;\r\n}\r\n\r\nbody {\r\n    -moz-user-select: none;\r\n    /*火狐*/\r\n    -webkit-user-select: none;\r\n    /*webkit浏览器*/\r\n    -ms-user-select: none;\r\n    /*IE10*/\r\n    -khtml-user-select: none;\r\n    /*早期浏览器*/\r\n    user-select: none;\r\n}\r\n\r\n.text {\r\n    top: 0;\r\n    left: 0;\r\n    color: #ffffff;\r\n    font-size: 6px;\r\n    position: relative;\r\n    text-align: right;\r\n    pointer-events: none;\r\n}\r\n\r\n#language {\r\n    color: #ffffff;\r\n    text-align: right;\r\n    text-decoration: underline;\r\n    position: relative;\r\n}\r\n\r\n.region {\r\n    background: rgb(35, 31, 34);\r\n    border-radius: 8px;\r\n    width: calc(100% - 100px);\r\n    height: 120px;\r\n    max-width: 300px;\r\n    padding: 34px 30px 17px;\r\n\r\n    color: #ffffff;\r\n\r\n    font-family: \"Lucida Console\", \"Courier New\", monospace;\r\n    font-size: 16px;\r\n\r\n    position: fixed;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 10%;\r\n    left: 5%;\r\n  \r\n}\r\n\r\n.regionTitle{\r\n    font-size: 24px;\r\n    letter-spacing:8px;\r\n}\r\n\r\n.regionDescription{\r\n    font-size: 12px;\r\n    letter-spacing:1px;\r\n    padding-top: 10px;\r\n    padding-bottom:10px;\r\n}\r\n\r\n.discover{\r\n    position: absolute;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 12%;\r\n    left: -2%;\r\n\r\n    background-color: #ffffff;\r\n    border-radius: 4px;\r\n    color: rgb(21, 0, 156);\r\n    padding: 5px 3px 3px 10px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    letter-spacing:2px;\r\n    cursor: pointer;\r\n}\r\n\r\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6962:
/*!***************************!*\
  !*** ./src/css/style.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ 3379);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ 7795);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ 569);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ 3565);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ 9216);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ 4589);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ 1402);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ 4119:
/*!**********************************!*\
  !*** ./src/Experience/Camera.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Camera)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Override_OrbitControls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Override/OrbitControls */ 9664);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Experience */ 9387);
// All rights reserved by Yon
// Camera.js 
// Manager the camera control
// here use the OrbitControls form THREE.js and override it with zoon scale customization







class Camera {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_1__["default"]()
        this.sizes = this.experience.sizes
        this.scene = this.experience.scene
        this.eCanvas = this.experience.eCanvas

        this.setInstance()
        this.setOrbitControl()
    }

    setInstance() {
        this.instance = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(
            60,
            this.sizes.width / this.sizes.height,
            0.1,
            1000
        )
        this.instance.position.set(0, 51.9615, 30)
        this.scene.add(this.instance)
    }

    setOrbitControl() {
        this.controls = new _Override_OrbitControls__WEBPACK_IMPORTED_MODULE_0__.OrbitControls(this.instance, this.eCanvas)
        this.controls.enableDamping = true
        this.controls.dampingFactor = 0.2
        this.controls.screenSpacePanning = false

        this.controls.mouseButtons = {
            RIGHT: three__WEBPACK_IMPORTED_MODULE_2__.MOUSE.ROTATE,
            MIDDLE: three__WEBPACK_IMPORTED_MODULE_2__.MOUSE.DOLLY,
            LEFT: three__WEBPACK_IMPORTED_MODULE_2__.MOUSE.PAN,
        }


        this.controls.maxDistance = 120
        this.controls.minDistance = 30

        this.controls.enableRotate = true
        this.controls.minAzimuthAngle = -Math.PI / 3
        this.controls.maxAzimuthAngle = Math.PI / 3
        this.controls.minPolarAngle = Math.PI/12
        this.controls.maxPolarAngle = Math.PI/4

        this.controls.zoomSpeed = 0.5

        this.controls.minPanBox = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-95,0,-66)
        this.controls.maxPanBox = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(95,0,66)
        this.controls.limitPan = true

    }

    resize() {
        this.instance.aspect = this.sizes.width / this.sizes.height
        this.instance.updateProjectionMatrix()
    }

    update() {
        this.controls.update()

    }
}


/***/ }),

/***/ 5360:
/*!**********************************!*\
  !*** ./src/Experience/Caster.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Caster)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Experience */ 9387);
// All rights reserved by Yon
// Caster.js 
// Manager the raycaster from three
// raycaster contain the move event and click event, call from experience
// rayMove/rayIn/rayOut/rayClick
// they will keep pass call to the currentObjt event function same name as themselves
// this class can pass event call to the canvasjs, and canvasjs will keep pass these event call to other html element





class Caster {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.canvas = this.experience.canvas 


        this.raycaster = new three__WEBPACK_IMPORTED_MODULE_1__.Raycaster()

        this.camera = this.experience.camera
        this.cursor = this.experience.cursor

        this.casterObjects = {}
        this.casterModels = []
        //final Intersect Struct, contain intersect information
        this.currentIntersect = null
        //final Intersect model, only contain Mesh information
        this.currentModel = null
        //final intersect class, have all class information
        this.currentObj = null

        this.raycaster.setFromCamera(this.cursor.coord, this.camera.instance)
    }

    rayMove() {
        // update the picking ray with the camera and pointer position
        this.raycaster.setFromCamera(this.cursor.coord, this.camera.instance)

        const intersects = this.raycaster.intersectObjects(this.casterModels)

        //In Out Event
        if (intersects.length) {
            if (this.currentModel != intersects[0].object) {
                if (this.currentModel) {
                    this.rayOut()
                }
                this.currentIntersect = intersects[0]
                this.currentModel = intersects[0].object
                this.currentObj = this.casterObjects[this.currentModel.name]
                this.rayIn()
            }
        } else {
            if (this.currentModel) {
                this.rayOut()
            }
            this.currentIntersect = null
            this.currentModel = null
            this.currentObj = null
        }
        
        if (this.currentObj) {
            console.log("move " + this.currentModel.name)

            if(this.currentObj.rayMove){
                this.currentObj.rayMove()
            }
        }
    }

    rayIn() {
        console.log("in " + this.currentModel.name)
        if (this.currentObj.rayIn) {
            this.currentObj.rayIn()
        }
    }

    rayOut() {
        console.log("out " + this.currentModel.name)
        if (this.currentObj.rayOut) {
            this.currentObj.rayOut()
        }
    }

    rayClick() {
        if (this.currentObj) {
            console.log("click " + this.currentModel.name)
            if (this.currentObj.rayClick) {
                this.currentObj.rayClick()
            }
            //Event pass to canvas and profile
            if(this.canvas.rayClick){
                this.canvas.rayClick(this.currentObj,this.currentModel)
            }
        }
    }

    register(obj) {
        if (obj.model) {
            obj.model.traverse((child) => {
                if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {
                    this.casterObjects[child.name] = obj
                    console.log(child)
                    this.casterModels.push(child)
                }
            })
        } else {
            console.log(obj.type)
        }
    }
}


/***/ }),

/***/ 9387:
/*!**************************************!*\
  !*** ./src/Experience/Experience.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Experience)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Camera__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Camera */ 4119);
/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Renderer */ 4903);
/* harmony import */ var _Caster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Caster */ 5360);
/* harmony import */ var _World_World__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./World/World */ 5336);
/* harmony import */ var _Utils_Sizes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Utils/Sizes */ 5721);
/* harmony import */ var _Utils_Time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Utils/Time */ 6490);
/* harmony import */ var _Utils_Cursor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Utils/Cursor */ 7617);
/* harmony import */ var _Utils_Debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Utils/Debug */ 3859);
/* harmony import */ var _Utils_Resources__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Utils/Resources */ 4449);
/* harmony import */ var _sources__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sources */ 9780);
// All rights reserved by Yon
// Experience.js 
// Manager all classes load and dispose
// Manager tick resize event

















let instance = null

class Experience {
    constructor(canvas) {
        if (instance) {
            return instance
        }

        instance = this

        window.experience = this

        this.eCanvas = canvas.eCanvas
        this.canvas = canvas

        this.debug = new _Utils_Debug__WEBPACK_IMPORTED_MODULE_7__["default"]()
        this.sizes = new _Utils_Sizes__WEBPACK_IMPORTED_MODULE_4__["default"]()
        this.time = new _Utils_Time__WEBPACK_IMPORTED_MODULE_5__["default"]()
        this.cursor = new _Utils_Cursor__WEBPACK_IMPORTED_MODULE_6__["default"]()

        this.scene = new three__WEBPACK_IMPORTED_MODULE_10__.Scene()
        this.resources = new _Utils_Resources__WEBPACK_IMPORTED_MODULE_8__["default"](_sources__WEBPACK_IMPORTED_MODULE_9__["default"])
        this.camera = new _Camera__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.caster = new _Caster__WEBPACK_IMPORTED_MODULE_2__["default"]()
        this.renderer = new _Renderer__WEBPACK_IMPORTED_MODULE_1__["default"]()

        this.world = new _World_World__WEBPACK_IMPORTED_MODULE_3__["default"]()

        this.sizes.on("resize", () => {
            this.resize()
        })

        this.time.on("tick", () => {
            this.update()
        })

        this.cursor.on("move",()=>{
            this.move()
        })

        this.cursor.on("click",()=>{
            this.click()
        })
    }

    resize() {
        this.camera.resize()
        this.renderer.resize()
    }

    update() {
        this.camera.update()
        this.world.update()
        this.renderer.update()
    }

    move(){
        this.caster.rayMove()
    }

    click(){
        this.caster.rayClick()
    }

    destroy() {
        this.sizes.off('resize')
        this.time.off('tick')

        this.scene.traverse((child)=>{
            if(child instanceof three__WEBPACK_IMPORTED_MODULE_10__.Mesh){
                child.geometry.dispose()
                for(const key in child.material){
                    const value = child.material[key]
                    if(value && typeof value.dispose === 'function'){
                        value.dispose()
                    }
                }
            }
        })

        this.camera.controls.dispose()
        this.renderer.instance.dispose()
    }
}


/***/ }),

/***/ 9664:
/*!**************************************************!*\
  !*** ./src/Experience/Override/OrbitControls.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OrbitControls": () => (/* binding */ OrbitControls),
/* harmony export */   "MapControls": () => (/* binding */ MapControls)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ 9477);


// This set of controls performs orbiting, dollying (zooming), and panning.
// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
//
//    Orbit - left mouse / touch: one-finger move
//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish
//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move

const _changeEvent = { type: 'change' };
const _startEvent = { type: 'start' };
const _endEvent = { type: 'end' };

class OrbitControls extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {

	constructor( object, domElement ) {

		super();

		if ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter "domElement" is now mandatory.' );
		if ( domElement === document ) console.error( 'THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.' );

		this.object = object;
		this.domElement = domElement;
		this.domElement.style.touchAction = 'none'; // disable touch scroll

		// Set to false to disable this control
		this.enabled = true;

		// "target" sets the location of focus, where the object orbits around
		this.target = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

		// How far you can dolly in and out ( PerspectiveCamera only )
		this.minDistance = 0;
		this.maxDistance = Infinity;

		// How far you can zoom in and out ( OrthographicCamera only )
		this.minZoom = 0;
		this.maxZoom = Infinity;

		// How far you can orbit vertically, upper and lower limits.
		// Range is 0 to Math.PI radians.
		this.minPolarAngle = 0; // radians
		this.maxPolarAngle = Math.PI; // radians

		// How far you can orbit horizontally, upper and lower limits.
		// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )
		this.minAzimuthAngle = - Infinity; // radians
		this.maxAzimuthAngle = Infinity; // radians


		// Set to true to enable damping (inertia)
		// If damping is enabled, you must call controls.update() in your animation loop
		this.enableDamping = false;
		this.dampingFactor = 0.05;

		// This option actually enables dollying in and out; left as "zoom" for backwards compatibility.
		// Set to false to disable zooming
		this.enableZoom = true;
		this.zoomSpeed = 1.0;

		// Set to false to disable rotating
		this.enableRotate = true;
		this.rotateSpeed = 1.0;

		// Set to false to disable panning
		this.enablePan = true;
		this.panSpeed = 1.0;
		this.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up
		this.keyPanSpeed = 7.0;	// pixels moved per arrow key push

        //yonjiang add 2022 03 29
        this.limitPan = false;
        this.minPanBox = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3( - 20, - 20, - 20 )
        this.maxPanBox = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3( 20, 20, 20 )
        //yonjiang end 2022 03 29

		// Set to true to automatically rotate around the target
		// If auto-rotate is enabled, you must call controls.update() in your animation loop
		this.autoRotate = false;
		this.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60

		// The four arrow keys
		this.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };

		// Mouse buttons
		this.mouseButtons = { LEFT: three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE, MIDDLE: three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.DOLLY, RIGHT: three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN };

		// Touch fingers
		this.touches = { ONE: three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.ROTATE, TWO: three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_PAN };

		// for reset
		this.target0 = this.target.clone();
		this.position0 = this.object.position.clone();
		this.zoom0 = this.object.zoom;

		// the target DOM element for key events
		this._domElementKeyEvents = null;

		//
		// public methods
		//

		this.getPolarAngle = function () {

			return spherical.phi;

		};

		this.getAzimuthalAngle = function () {

			return spherical.theta;

		};

		this.getDistance = function () {

			return this.object.position.distanceTo( this.target );

		};

		this.listenToKeyEvents = function ( domElement ) {

			domElement.addEventListener( 'keydown', onKeyDown );
			this._domElementKeyEvents = domElement;

		};

		this.saveState = function () {

			scope.target0.copy( scope.target );
			scope.position0.copy( scope.object.position );
			scope.zoom0 = scope.object.zoom;

		};

		this.reset = function () {

			scope.target.copy( scope.target0 );
			scope.object.position.copy( scope.position0 );
			scope.object.zoom = scope.zoom0;

			scope.object.updateProjectionMatrix();
			scope.dispatchEvent( _changeEvent );

			scope.update();

			state = STATE.NONE;

		};

		// this method is exposed, but perhaps it would be better if we can make it private...
		this.update = function () {

			const offset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			// so camera.up is the orbit axis
			const quat = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion().setFromUnitVectors( object.up, new three__WEBPACK_IMPORTED_MODULE_0__.Vector3( 0, 1, 0 ) );
			const quatInverse = quat.clone().invert();

			const lastPosition = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
			const lastQuaternion = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion();

			const twoPI = 2 * Math.PI;

			return function update() {

				const position = scope.object.position;

				offset.copy( position ).sub( scope.target );

				// rotate offset to "y-axis-is-up" space
				offset.applyQuaternion( quat );

				// angle from z-axis around y-axis
				spherical.setFromVector3( offset );

				if ( scope.autoRotate && state === STATE.NONE ) {

					rotateLeft( getAutoRotationAngle() );

				}

				if ( scope.enableDamping ) {

					spherical.theta += sphericalDelta.theta * scope.dampingFactor;
					spherical.phi += sphericalDelta.phi * scope.dampingFactor;

				} else {

					spherical.theta += sphericalDelta.theta;
					spherical.phi += sphericalDelta.phi;

				}

				// restrict theta to be between desired limits

				let min = scope.minAzimuthAngle;
				let max = scope.maxAzimuthAngle;

				if ( isFinite( min ) && isFinite( max ) ) {

					if ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;

					if ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;

					if ( min <= max ) {

						spherical.theta = Math.max( min, Math.min( max, spherical.theta ) );

					} else {

						spherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?
							Math.max( min, spherical.theta ) :
							Math.min( max, spherical.theta );

					}

				}

				// restrict phi to be between desired limits
				spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );

				spherical.makeSafe();


				spherical.radius *= scale;

				// restrict radius to be between desired limits
				spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );

				// move target to panned location

                


				if ( scope.enableDamping === true ) {

					scope.target.addScaledVector( panOffset, scope.dampingFactor );

				} else {

					scope.target.add( panOffset );
				}

                //yonjiang add 2022 03 29
                if(this.limitPan === true) {
                    const offset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3()
                    const position = scope.object.position;
                    offset.copy( position ).sub( scope.target );
                    let targetDistance = offset.length();
                    // let limitScale = 0

                    // if(this.enableDamping === true) {
                        limitPanScale = (this.maxDistance-targetDistance)/(this.maxDistance-this.minDistance)
                        
                        let min = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
                        min.copy(this.minPanBox)
                        let max = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
                        max.copy(this.maxPanBox)

                        scope.target.clamp(min.multiplyScalar(limitPanScale),max.multiplyScalar(limitPanScale));

                    // }else{
                        
                    //     limitPanScale = (this.maxDistance-targetDistance)/(this.maxDistance-this.minDistance)

                    //     let min = new Vector3();
                    //     min.copy(this.minPanBox)
                    //     let max = new Vector3();
                    //     max.copy(this.maxPanBox)
                    //     scope.target.clamp(min.multiplyScalar(limitPanScale),max.multiplyScalar(limitPanScale));
                    //     limitPanScale = 0;
                    // }
                }
                //yonjiang end 2022 03 29

				offset.setFromSpherical( spherical );

				// rotate offset back to "camera-up-vector-is-up" space
				offset.applyQuaternion( quatInverse );

				position.copy( scope.target ).add( offset );

				scope.object.lookAt( scope.target );

				if ( scope.enableDamping === true ) {

					sphericalDelta.theta *= ( 1 - scope.dampingFactor );
					sphericalDelta.phi *= ( 1 - scope.dampingFactor );

					panOffset.multiplyScalar( 1 - scope.dampingFactor );

				} else {

					sphericalDelta.set( 0, 0, 0 );

					panOffset.set( 0, 0, 0 );

				}

				scale = 1;

				// update condition is:
				// min(camera displacement, camera rotation in radians)^2 > EPS
				// using small-angle approximation cos(x/2) = 1 - x^2 / 8

				if ( zoomChanged ||
					lastPosition.distanceToSquared( scope.object.position ) > EPS ||
					8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {

					scope.dispatchEvent( _changeEvent );

					lastPosition.copy( scope.object.position );
					lastQuaternion.copy( scope.object.quaternion );
					zoomChanged = false;

					return true;

				}

				return false;

			};

		}();

		this.dispose = function () {

			scope.domElement.removeEventListener( 'contextmenu', onContextMenu );

			scope.domElement.removeEventListener( 'pointerdown', onPointerDown );
			scope.domElement.removeEventListener( 'pointercancel', onPointerCancel );
			scope.domElement.removeEventListener( 'wheel', onMouseWheel );

			scope.domElement.removeEventListener( 'pointermove', onPointerMove );
			scope.domElement.removeEventListener( 'pointerup', onPointerUp );


			if ( scope._domElementKeyEvents !== null ) {

				scope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );

			}

			//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?

		};

		//
		// internals
		//

		const scope = this;

		const STATE = {
			NONE: - 1,
			ROTATE: 0,
			DOLLY: 1,
			PAN: 2,
			TOUCH_ROTATE: 3,
			TOUCH_PAN: 4,
			TOUCH_DOLLY_PAN: 5,
			TOUCH_DOLLY_ROTATE: 6
		};

		let state = STATE.NONE;

		const EPS = 0.000001;

		// current position in spherical coordinates
		const spherical = new three__WEBPACK_IMPORTED_MODULE_0__.Spherical();
		const sphericalDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Spherical();

		let scale = 1;
		const panOffset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
		let zoomChanged = false;

		const rotateStart = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const rotateEnd = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const rotateDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();

		const panStart = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const panEnd = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const panDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();

		const dollyStart = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const dollyEnd = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const dollyDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();

		const pointers = [];
		const pointerPositions = {};

        let limitPanScale = 1;

		function getAutoRotationAngle() {

			return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;

		}

		function getZoomScale() {

			return Math.pow( 0.95, scope.zoomSpeed );

		}

		function rotateLeft( angle ) {

			sphericalDelta.theta -= angle;

		}

		function rotateUp( angle ) {

			sphericalDelta.phi -= angle;

		}

		const panLeft = function () {

			const v = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			return function panLeft( distance, objectMatrix ) {

				v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix
				v.multiplyScalar( - distance );

				panOffset.add( v );

			};

		}();

		const panUp = function () {

			const v = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			return function panUp( distance, objectMatrix ) {

				if ( scope.screenSpacePanning === true ) {

					v.setFromMatrixColumn( objectMatrix, 1 );

				} else {

					v.setFromMatrixColumn( objectMatrix, 0 );
					v.crossVectors( scope.object.up, v );

				}
                
				v.multiplyScalar( distance );
				panOffset.add( v );

			};

		}();

		// deltaX and deltaY are in pixels; right and down are positive
		const pan = function () {

			const offset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			return function pan( deltaX, deltaY ) {

				const element = scope.domElement;

				if ( scope.object.isPerspectiveCamera ) {

					// perspective
					const position = scope.object.position;
					offset.copy( position ).sub( scope.target );
					let targetDistance = offset.length();

					// half of the fov is center to top of screen
					targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );

					// we use only clientHeight here so aspect ratio does not distort speed
					panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );
					panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );

				} else if ( scope.object.isOrthographicCamera ) {

					// orthographic
					panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );
					panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );

				} else {

					// camera neither orthographic nor perspective
					console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );
					scope.enablePan = false;

				}

			};

		}();

		function dollyOut( dollyScale ) {

			if ( scope.object.isPerspectiveCamera ) {

				scale /= dollyScale;

			} else if ( scope.object.isOrthographicCamera ) {

				scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );
				scope.object.updateProjectionMatrix();
				zoomChanged = true;

			} else {

				console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );
				scope.enableZoom = false;

			}

		}

		function dollyIn( dollyScale ) {

			if ( scope.object.isPerspectiveCamera ) {

				scale *= dollyScale;

			} else if ( scope.object.isOrthographicCamera ) {

				scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );
				scope.object.updateProjectionMatrix();
				zoomChanged = true;

			} else {

				console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );
				scope.enableZoom = false;

			}

		}

		//
		// event callbacks - update the object state
		//

		function handleMouseDownRotate( event ) {

			rotateStart.set( event.clientX, event.clientY );

		}

		function handleMouseDownDolly( event ) {

			dollyStart.set( event.clientX, event.clientY );

		}

		function handleMouseDownPan( event ) {

			panStart.set( event.clientX, event.clientY );

		}

		function handleMouseMoveRotate( event ) {

			rotateEnd.set( event.clientX, event.clientY );

			rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );

			const element = scope.domElement;

			rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height

			rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );

			rotateStart.copy( rotateEnd );

			scope.update();

		}

		function handleMouseMoveDolly( event ) {

			dollyEnd.set( event.clientX, event.clientY );

			dollyDelta.subVectors( dollyEnd, dollyStart );

			if ( dollyDelta.y > 0 ) {

				dollyOut( getZoomScale() );

			} else if ( dollyDelta.y < 0 ) {

				dollyIn( getZoomScale() );

			}

			dollyStart.copy( dollyEnd );

			scope.update();

		}

		function handleMouseMovePan( event ) {

			panEnd.set( event.clientX, event.clientY );

			panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );

			pan( panDelta.x, panDelta.y );

			panStart.copy( panEnd );

			scope.update();

		}

		function handleMouseWheel( event ) {

			if ( event.deltaY < 0 ) {

				dollyIn( getZoomScale() );

			} else if ( event.deltaY > 0 ) {

				dollyOut( getZoomScale() );

			}

			scope.update();

		}

		function handleKeyDown( event ) {

			let needsUpdate = false;

			switch ( event.code ) {

				case scope.keys.UP:
					pan( 0, scope.keyPanSpeed );
					needsUpdate = true;
					break;

				case scope.keys.BOTTOM:
					pan( 0, - scope.keyPanSpeed );
					needsUpdate = true;
					break;

				case scope.keys.LEFT:
					pan( scope.keyPanSpeed, 0 );
					needsUpdate = true;
					break;

				case scope.keys.RIGHT:
					pan( - scope.keyPanSpeed, 0 );
					needsUpdate = true;
					break;

			}

			if ( needsUpdate ) {

				// prevent the browser from scrolling on cursor keys
				event.preventDefault();

				scope.update();

			}


		}

		function handleTouchStartRotate() {

			if ( pointers.length === 1 ) {

				rotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );

			} else {

				const x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );
				const y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );

				rotateStart.set( x, y );

			}

		}

		function handleTouchStartPan() {

			if ( pointers.length === 1 ) {

				panStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );

			} else {

				const x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );
				const y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );

				panStart.set( x, y );

			}

		}

		function handleTouchStartDolly() {

			const dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;
			const dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;

			const distance = Math.sqrt( dx * dx + dy * dy );

			dollyStart.set( 0, distance );

		}

		function handleTouchStartDollyPan() {

			if ( scope.enableZoom ) handleTouchStartDolly();

			if ( scope.enablePan ) handleTouchStartPan();

		}

		function handleTouchStartDollyRotate() {

			if ( scope.enableZoom ) handleTouchStartDolly();

			if ( scope.enableRotate ) handleTouchStartRotate();

		}

		function handleTouchMoveRotate( event ) {

			if ( pointers.length == 1 ) {

				rotateEnd.set( event.pageX, event.pageY );

			} else {

				const position = getSecondPointerPosition( event );

				const x = 0.5 * ( event.pageX + position.x );
				const y = 0.5 * ( event.pageY + position.y );

				rotateEnd.set( x, y );

			}

			rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );

			const element = scope.domElement;

			rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height

			rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );

			rotateStart.copy( rotateEnd );

		}

		function handleTouchMovePan( event ) {

			if ( pointers.length === 1 ) {

				panEnd.set( event.pageX, event.pageY );

			} else {

				const position = getSecondPointerPosition( event );

				const x = 0.5 * ( event.pageX + position.x );
				const y = 0.5 * ( event.pageY + position.y );

				panEnd.set( x, y );

			}

			panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );

			pan( panDelta.x, panDelta.y );

			panStart.copy( panEnd );

		}

		function handleTouchMoveDolly( event ) {

			const position = getSecondPointerPosition( event );

			const dx = event.pageX - position.x;
			const dy = event.pageY - position.y;

			const distance = Math.sqrt( dx * dx + dy * dy );

			dollyEnd.set( 0, distance );

			dollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );

			dollyOut( dollyDelta.y );

			dollyStart.copy( dollyEnd );

		}

		function handleTouchMoveDollyPan( event ) {

			if ( scope.enableZoom ) handleTouchMoveDolly( event );

			if ( scope.enablePan ) handleTouchMovePan( event );

		}

		function handleTouchMoveDollyRotate( event ) {

			if ( scope.enableZoom ) handleTouchMoveDolly( event );

			if ( scope.enableRotate ) handleTouchMoveRotate( event );

		}

		//
		// event handlers - FSM: listen for events and reset state
		//

		function onPointerDown( event ) {

			if ( scope.enabled === false ) return;

			if ( pointers.length === 0 ) {

				scope.domElement.setPointerCapture( event.pointerId );

				scope.domElement.addEventListener( 'pointermove', onPointerMove );
				scope.domElement.addEventListener( 'pointerup', onPointerUp );

			}

			//

			addPointer( event );

			if ( event.pointerType === 'touch' ) {

				onTouchStart( event );

			} else {

				onMouseDown( event );

			}

		}

		function onPointerMove( event ) {

			if ( scope.enabled === false ) return;

			if ( event.pointerType === 'touch' ) {

				onTouchMove( event );

			} else {

				onMouseMove( event );

			}

		}

		function onPointerUp( event ) {

		    removePointer( event );

		    if ( pointers.length === 0 ) {

		        scope.domElement.releasePointerCapture( event.pointerId );

		        scope.domElement.removeEventListener( 'pointermove', onPointerMove );
		        scope.domElement.removeEventListener( 'pointerup', onPointerUp );

		    }

		    scope.dispatchEvent( _endEvent );

		    state = STATE.NONE;

		}

		function onPointerCancel( event ) {

			removePointer( event );

		}

		function onMouseDown( event ) {

			let mouseAction;

			switch ( event.button ) {

				case 0:

					mouseAction = scope.mouseButtons.LEFT;
					break;

				case 1:

					mouseAction = scope.mouseButtons.MIDDLE;
					break;

				case 2:

					mouseAction = scope.mouseButtons.RIGHT;
					break;

				default:

					mouseAction = - 1;

			}

			switch ( mouseAction ) {

				case three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.DOLLY:

					if ( scope.enableZoom === false ) return;

					handleMouseDownDolly( event );

					state = STATE.DOLLY;

					break;

				case three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE:

					if ( event.ctrlKey || event.metaKey || event.shiftKey ) {

						if ( scope.enablePan === false ) return;

						handleMouseDownPan( event );

						state = STATE.PAN;

					} else {

						if ( scope.enableRotate === false ) return;

						handleMouseDownRotate( event );

						state = STATE.ROTATE;

					}

					break;

				case three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN:

					if ( event.ctrlKey || event.metaKey || event.shiftKey ) {

						if ( scope.enableRotate === false ) return;

						handleMouseDownRotate( event );

						state = STATE.ROTATE;

					} else {

						if ( scope.enablePan === false ) return;

						handleMouseDownPan( event );

						state = STATE.PAN;

					}

					break;

				default:

					state = STATE.NONE;

			}

			if ( state !== STATE.NONE ) {

				scope.dispatchEvent( _startEvent );

			}

		}

		function onMouseMove( event ) {

			if ( scope.enabled === false ) return;

			switch ( state ) {

				case STATE.ROTATE:

					if ( scope.enableRotate === false ) return;

					handleMouseMoveRotate( event );

					break;

				case STATE.DOLLY:

					if ( scope.enableZoom === false ) return;

					handleMouseMoveDolly( event );

					break;

				case STATE.PAN:

					if ( scope.enablePan === false ) return;

					handleMouseMovePan( event );

					break;

			}

		}

		function onMouseWheel( event ) {

			if ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;

			event.preventDefault();

			scope.dispatchEvent( _startEvent );

			handleMouseWheel( event );

			scope.dispatchEvent( _endEvent );

		}

		function onKeyDown( event ) {

			if ( scope.enabled === false || scope.enablePan === false ) return;

			handleKeyDown( event );

		}

		function onTouchStart( event ) {

			trackPointer( event );

			switch ( pointers.length ) {

				case 1:

					switch ( scope.touches.ONE ) {

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.ROTATE:

							if ( scope.enableRotate === false ) return;

							handleTouchStartRotate();

							state = STATE.TOUCH_ROTATE;

							break;

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.PAN:

							if ( scope.enablePan === false ) return;

							handleTouchStartPan();

							state = STATE.TOUCH_PAN;

							break;

						default:

							state = STATE.NONE;

					}

					break;

				case 2:

					switch ( scope.touches.TWO ) {

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_PAN:

							if ( scope.enableZoom === false && scope.enablePan === false ) return;

							handleTouchStartDollyPan();

							state = STATE.TOUCH_DOLLY_PAN;

							break;

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_ROTATE:

							if ( scope.enableZoom === false && scope.enableRotate === false ) return;

							handleTouchStartDollyRotate();

							state = STATE.TOUCH_DOLLY_ROTATE;

							break;

						default:

							state = STATE.NONE;

					}

					break;

				default:

					state = STATE.NONE;

			}

			if ( state !== STATE.NONE ) {

				scope.dispatchEvent( _startEvent );

			}

		}

		function onTouchMove( event ) {

			trackPointer( event );

			switch ( state ) {

				case STATE.TOUCH_ROTATE:

					if ( scope.enableRotate === false ) return;

					handleTouchMoveRotate( event );

					scope.update();

					break;

				case STATE.TOUCH_PAN:

					if ( scope.enablePan === false ) return;

					handleTouchMovePan( event );

					scope.update();

					break;

				case STATE.TOUCH_DOLLY_PAN:

					if ( scope.enableZoom === false && scope.enablePan === false ) return;

					handleTouchMoveDollyPan( event );

					scope.update();

					break;

				case STATE.TOUCH_DOLLY_ROTATE:

					if ( scope.enableZoom === false && scope.enableRotate === false ) return;

					handleTouchMoveDollyRotate( event );

					scope.update();

					break;

				default:

					state = STATE.NONE;

			}

		}

		function onContextMenu( event ) {

			if ( scope.enabled === false ) return;

			event.preventDefault();

		}

		function addPointer( event ) {

			pointers.push( event );

		}

		function removePointer( event ) {

			delete pointerPositions[ event.pointerId ];

			for ( let i = 0; i < pointers.length; i ++ ) {

				if ( pointers[ i ].pointerId == event.pointerId ) {

					pointers.splice( i, 1 );
					return;

				}

			}

		}

		function trackPointer( event ) {

			let position = pointerPositions[ event.pointerId ];

			if ( position === undefined ) {

				position = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
				pointerPositions[ event.pointerId ] = position;

			}

			position.set( event.pageX, event.pageY );

		}

		function getSecondPointerPosition( event ) {

			const pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];

			return pointerPositions[ pointer.pointerId ];

		}

		//

		scope.domElement.addEventListener( 'contextmenu', onContextMenu );

		scope.domElement.addEventListener( 'pointerdown', onPointerDown );
		scope.domElement.addEventListener( 'pointercancel', onPointerCancel );
		scope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );

		// force an update at start

		this.update();

	}

}


// This set of controls performs orbiting, dollying (zooming), and panning.
// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
// This is very similar to OrbitControls, another set of touch behavior
//
//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate
//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish
//    Pan - left mouse, or arrow keys / touch: one-finger move

class MapControls extends OrbitControls {

	constructor( object, domElement ) {

		super( object, domElement );

		this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up

		this.mouseButtons.LEFT = three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN;
		this.mouseButtons.RIGHT = three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE;

		this.touches.ONE = three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.PAN;
		this.touches.TWO = three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_ROTATE;

	}

}




/***/ }),

/***/ 4903:
/*!************************************!*\
  !*** ./src/Experience/Renderer.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Renderer)
/* harmony export */ });
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Experience */ 9387);
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
// All rights reserved by Yon
// Renderer.js 
// Manager the THEE.JS Renderer Create




class Renderer {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.sizes = this.experience.sizes
        this.scene = this.experience.scene
        this.eCanvas = this.experience.eCanvas
        this.camera = this.experience.camera

        this.setInstance()
    }

    setInstance() {
        this.instance = new three__WEBPACK_IMPORTED_MODULE_1__.WebGLRenderer({
            canvas: this.eCanvas,
            antialias: true,
        })
        this.instance.physicallyCorrectLights = true;
        this.instance.outputEncoding = three__WEBPACK_IMPORTED_MODULE_1__.sRGBEncoding;
        this.instance.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__.ReinhardToneMapping;
        this.instance.shadowMap.enabled = true;
        this.instance.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__.PCFSoftShadowMap;
        this.instance.setClearColor('#211d20')
        this.instance.setSize(this.sizes.width,this.sizes.height)
        this.instance.setPixelRatio(this.sizes.pixelRatio)
    }

    resize(){
        this.instance.setSize(this.sizes.width,this.sizes.height)
        this.instance.setPixelRatio(this.sizes.pixelRatio)
    }

    update(){
        this.instance.render(this.scene,this.camera.instance)
    }
}


/***/ }),

/***/ 9739:
/*!*********************************************!*\
  !*** ./src/Experience/World/Atlas/Atlas.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Atlas)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Experience */ 9387);
// All rights reserved by Yon
// Atlas.js
// Manager the basic atlas renderer






class Atlas {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug
        this.caster = this.experience.caster

        if (this.debug.active) {
            this.debugFolder = this.debug.ui.addFolder("Atlas")
        }

        this.setGeometry()
        this.setTextures()
        this.setMaterial()
        this.setMesh()
        
        this.caster.register(this)
    }

    setGeometry() {
        this.geometry = new three__WEBPACK_IMPORTED_MODULE_1__.PlaneBufferGeometry(191.6, 132.9, 256, 128)
        this.geometry.attributes.uv2 = this.geometry.attributes.uv
    }
    setTextures() {
        this.textures = {}

        this.textures.atlas = this.resources.items.atlas
        this.textures.atlas.encoding = three__WEBPACK_IMPORTED_MODULE_1__.sRGBEncoding
        this.textures.atlas.repeat.set(1, 1)
        this.textures.atlas.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.atlas.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.normal = this.resources.items.atlasNormal
        this.textures.normal.encoding = three__WEBPACK_IMPORTED_MODULE_1__.LinearEncoding
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.displacement = this.resources.items.atlasDisplacement
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.occlusion = this.resources.items.atlasOcclusion
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.roughness = this.resources.items.atlasRoughness
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
    }
    setMaterial() {
        this.material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({
            map: this.textures.atlas,
            normalMap: this.textures.normal,
            aoMap: this.textures.occlusion,
            displacementMap: this.textures.displacement,
        })
        this.material.aoMapIntensity = 35
        this.material.displacementScale = 1.5
        this.material.normalScale = new three__WEBPACK_IMPORTED_MODULE_1__.Vector2(0.3, 0.3)
    }
    setMesh() {
        this.model = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(this.geometry, this.material)
        this.model.name = "atlas"

        this.model.rotation.x = -Math.PI * 0.5
        this.model.receiveShadow = true
        this.scene.add(this.model)
    }

    click(){
    }


    update() {}
}


/***/ }),

/***/ 4060:
/*!*******************************************!*\
  !*** ./src/Experience/World/Atlas/Fox.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Fox)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Experience */ 9387);
// All rights reserved by Yon
// Fox.js 
// Manager the Fox Resources





class Fox {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug
        this.caster = this.experience.caster

        if (this.debug.active) {
            this.debugFolder = this.debug.ui.addFolder("fox")
        }

        this.resource = this.resources.items.fox


        this.setModel()
        this.setAnimation()
        this.caster.register(this)
    
    }

    setModel() {
        this.model = this.resource.scene
        this.model.name = "fox"
        this.model.scale.set(0.02, 0.02, 0.02)
        this.scene.add(this.model)

        this.model.traverse((child) => {
            if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {

                child.castShadow = true
            }
        })
    }

    setAnimation() {
        this.animation = {}

        // Mixer
        this.animation.mixer = new three__WEBPACK_IMPORTED_MODULE_1__.AnimationMixer(this.model)

        // Actions
        this.animation.actions = {}

        this.animation.actions.idle = this.animation.mixer.clipAction(
            this.resource.animations[0]
        )
        this.animation.actions.walking = this.animation.mixer.clipAction(
            this.resource.animations[1]
        )
        this.animation.actions.running = this.animation.mixer.clipAction(
            this.resource.animations[2]
        )

        this.animation.actions.current = this.animation.actions.walking

        // this.animation.actions.current.play()

        this.animation.play = (name) => {
            const newAction = this.animation.actions[name]
            const oldAction = this.animation.actions.current
            newAction.reset()
            newAction.play()
            newAction.crossFadeFrom(oldAction, 1)

            this.animation.actions.current = newAction
        }

        if (this.debug.active) {
            const debugObject = {
                playIdle: () => {
                    this.animation.play("idle")
                },
                playWalking: () => {
                    this.animation.play("walking")
                },
                playRunning: () => {
                    this.animation.play("running")
                },
            }
            this.debugFolder.add(debugObject, "playIdle")
            this.debugFolder.add(debugObject, "playWalking")
            this.debugFolder.add(debugObject,'playRunning')
        }
    }



    update() {
        this.animation.mixer.update(this.time.delta * 0.001)
    }
}


/***/ }),

/***/ 8696:
/*!**********************************************!*\
  !*** ./src/Experience/World/Atlas/Monkey.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Monkey)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Experience */ 9387);




class Monkey {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug

        this.resource = this.resources.items.monkey

        this.setModel()

        this.caster = this.experience.caster
        this.caster.register(this)
    }

    setModel() {
        this.model = this.resource.scene
        this.model.scale.set(2, 2, 2)
        this.model.position.set(-25, 2, 30)
        this.scene.add(this.model)
        this.model.traverse((child) => {
            if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {
                child.castShadow = true
            }
        })
    }

    cursorClick() {
        
    }
}


/***/ }),

/***/ 9121:
/*!*********************************************!*\
  !*** ./src/Experience/World/Environment.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Environment)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience */ 9387);
// All rights reserved by Yon
// Environment.js 
// Manager the Environment
// Include light, envirMap
// Include how envirMap effect the material, it has a loop set for every object in scene





class Environment {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.debug = this.experience.debug

        if(this.debug.active){
            this.debugFolder = this.debug.ui.addFolder("environment")
        }

        this.setSunLight()
        this.setEnvironmentMap()
    }

    setSunLight() {
        const directionalLightIntensity = 10
        this.sunLight = new three__WEBPACK_IMPORTED_MODULE_1__.DirectionalLight(
            0xffffff,
            directionalLightIntensity
        )
        this.sunLight.position.set(-40, 40, 40)
        this.sunLight.castShadow = true
        // this.sunLight.shadow.camera.far = 15
        // this.sunLight.shadow.mapSize.width = 512
        // this.sunLight.shadow.mapSize.height = 512

        this.scene.add(this.sunLight)

        if(this.debug.active){
            this.debugFolder.add(this.sunLight,"intensity").name('sunLightIntensity').min(0).max(10).step(0.001)
            this.debugFolder.add(this.sunLight.position,"x").name('sunLightIntensity').min(-5).max(5).step(0.001)
            this.debugFolder.add(this.sunLight.position,"y").name('sunLightIntensity').min(-5).max(5).step(0.001)
            this.debugFolder.add(this.sunLight.position,"z").name('sunLightIntensity').min(-5).max(5).step(0.001)
        }

    }

    setEnvironmentMap() {
        this.environmentMap = {}
        this.environmentMap.intensity = 0.3
        this.environmentMap.texture = this.resources.items.environmentMapTexture
        this.environmentMap.texture.encoding = three__WEBPACK_IMPORTED_MODULE_1__.sRGBEncoding

        this.scene.environment = this.environmentMap.texture

        this.environmentMap.updateMaterial = () => {
            this.scene.traverse((child) => {
                if (
                    child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh &&
                    child.material instanceof three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial
                ) {
                    child.material.envMap = this.environmentMap.texture
                    child.material.envMapIntensity =
                        this.environmentMap.intensity
                    child.material.needsUpdate = true
                }
            })
        }
        this.environmentMap.updateMaterial()

        if(this.debug.active){
            this.debugFolder.add(this.environmentMap,"intensity").name('envMapIntensity').min(0).max(4).step(0.001).onChange(this.environmentMap.updateMaterial)
        }
    }
}


/***/ }),

/***/ 5336:
/*!***************************************!*\
  !*** ./src/Experience/World/World.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience */ 9387);
/* harmony import */ var _Environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Environment */ 9121);
/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Utils/Helper */ 4920);
/* harmony import */ var _Atlas_Fox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Atlas/Fox */ 4060);
/* harmony import */ var _Atlas_Monkey__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Atlas/Monkey */ 8696);
/* harmony import */ var _Atlas_Atlas__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Atlas/Atlas */ 9739);
// All rights reserved by Yon
// word.js
// Manager the render world outline









class World {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.caster = this.experience.caster

        this.resources.on("ready", () => {
            console.log("resources are ready")

            this.fox = new _Atlas_Fox__WEBPACK_IMPORTED_MODULE_3__["default"]()
            this.monkey = new _Atlas_Monkey__WEBPACK_IMPORTED_MODULE_4__["default"]()
            this.atlas = new _Atlas_Atlas__WEBPACK_IMPORTED_MODULE_5__["default"]()

            this.environment = new _Environment__WEBPACK_IMPORTED_MODULE_1__["default"]()

            this.helper = new _Utils_Helper__WEBPACK_IMPORTED_MODULE_2__["default"]()
        })
    }

    update() {
        if (this.fox) {
            this.fox.update()
        }
    }
}


/***/ }),

/***/ 9780:
/*!***********************************!*\
  !*** ./src/Experience/sources.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// All rights reserved by Yon
// sources.js 
// Manager the art resources load path and type information
// support *tex *gltfModel *cubeTex
// Manager By Resources.js

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([
    {
        name: "environmentMapTexture",
        type: "cubeTex",
        path: [
            "static/textures/environmentMaps/0/px.jpg",
            "static/textures/environmentMaps/0/nx.jpg",
            "static/textures/environmentMaps/0/py.jpg",
            "static/textures/environmentMaps/0/ny.jpg",
            "static/textures/environmentMaps/0/pz.jpg",
            "static/textures/environmentMaps/0/nz.jpg",
        ],
    },


    {
        name: "fox",
        type: "gltfModel",
        path: "static/models/Fox/glTF/Fox.gltf",
    },
    {
        name: "monkey",
        type: "gltfModel",
        path: "static/models/Monkey/Monkey.gltf",
    },

    {
        name: "atlas",
        type:"tex",
        path: "static/textures/atlas/atlasMeta.png"
    },
    {
        name: "atlasNormal",
        type: "tex",
        path: "static/textures/atlas/normal.png",
    },
    {
        name: "atlasDisplacement",
        type: "tex",
        path: "static/textures/atlas/displacement.png",
    },
    {
        name: "atlasOcclusion",
        type: "tex",
        path: "static/textures/atlas/occlusion.png",
    },
    {
        name: "atlasRoughness",
        type: "tex",
        path: "static/textures/atlas/roughness.png",
    }
]);


/***/ }),

/***/ 6221:
/*!********************************!*\
  !*** ./src/Profile/ECanvas.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ECanvas)
/* harmony export */ });
/* harmony import */ var _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience/Experience */ 9387);
/* harmony import */ var _Profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Profile */ 2796);
// All rights reserved by Yon
// Canvas.js
// Manager the THREE.js Renderer
// Manager the event from Renderer





class ECanvas {
    constructor() {
        this.init()
        this.profile = new _Profile__WEBPACK_IMPORTED_MODULE_1__["default"]()
        this.region = this.profile.region
        console.log(this.region)
    }

    init(){
        this.eCanvas = document.createElement("canvas")
        this.eCanvas.className = "webgl"
        this.experience = new _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__["default"](this)
        document.body.insertBefore(this.eCanvas, document.body.children[0])
    }

    //call in experience
    rayClick(obj,model){
        console.log("click from: "+ model.name+ " in ecanvas")
        if(this.region.rayClick){
            this.region.rayClick(obj,model)
        }
    }
}


/***/ }),

/***/ 7355:
/*!********************************!*\
  !*** ./src/Profile/ERegion.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ERegion)
/* harmony export */ });
/* harmony import */ var _Profile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Profile */ 2796);


class ERegion {
    constructor() {
        this.profile = new _Profile__WEBPACK_IMPORTED_MODULE_0__["default"]()

        this.init()
    }

    init() {
        this.eRegionalProfile = document.createElement("div")
        this.eRegionalProfile.className = "region"

        this.eRegionalTitle = document.createElement("h3")
        this.eRegionalTitle.className = "regionTitle"
        this.eRegionalTitle.innerHTML = "GrayLand"
        this.eRegionalProfile.appendChild(this.eRegionalTitle)

        this.eRegionalDescription = document.createElement("p")
        this.eRegionalDescription.className = "regionDescription"
        this.eRegionalDescription.innerHTML =
            "But the coin slipped through the slot, and she picked it up again, just like last time."
        this.eRegionalProfile.appendChild(this.eRegionalDescription)

        this.eDiscover = document.createElement("a")
        this.eDiscover.className = "discover"
        this.eDiscover.href = ""
        this.eDiscover.innerHTML = "Discover..."
        this.eRegionalProfile.appendChild(this.eDiscover)

        document.body.appendChild(this.eRegionalProfile)
    }

    rayClick(obj, model) {
        // id = model.name != content folder name
        // id is equall to current model clicked, data may not refresh when clicked
        
        this.id = model.name;
        console.log("click from: " + this.id + " in eRegion")
        try{
            this.data = __webpack_require__(2428)("./" + this.id + "/main.json")
        }catch(err){
            console.log("no content about " +this.id)
        }

        //refresh the eRegion
        if (this.data) {
            this.eRegionalTitle.innerHTML = this.data.title
            this.eRegionalDescription.innerHTML = this.data.description
            this.eDiscover.href = "/explore?place=" + this.data.id
            console.log(this.eDiscover.href)
        }
    }
}


/***/ }),

/***/ 4762:
/*!******************************!*\
  !*** ./src/Profile/ETemp.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ETemp)
/* harmony export */ });

class ETemp{
    constructor() {

        this.data = __webpack_require__(/*! ../../../static/content/temp.json */ 1199)

        this.element = document.createElement("div")

        this.currentLanguage = 0

        this.initLanguage()

        this.initIntroduce()

        this.switchIntroduce()

        document.body.appendChild(this.element)
    }

    initLanguage() {
        this.eLanguage = document
            .createElement("div")
        this.eLanguage.id = "language"
        this.eLanguage.innerHTML = this.data.language

        this.element.appendChild(this.eLanguage)
    }

    initIntroduce() {
        this.eIntroduce = document.createElement("div")
        this.eIntroduce.className = "text"
        this.putIntroduce()
        this.element.appendChild(this.eIntroduce)
    }

    switchIntroduce() {
        this.eLanguage.addEventListener("click", () => {
            if (this.currentLanguage != 0) {
                this.currentLanguage = 0
            } else {
                this.currentLanguage = 1
            }
            this.putIntroduce();
        })
    }

    putIntroduce() {
        if (this.currentLanguage == 0) {
            this.sIntroduce = this.wordLine(this.data.chinese)
        } else {
            this.sIntroduce = this.wordLine(this.data.english)
        }
        this.eIntroduce.innerHTML = this.sIntroduce
    }

    wordLine(language) {
        let i,
            word = "<li>"
        for (i in language.word) {
            word += language.word[i] + "</li>"
            word += "<li>"
        }
        return word
    }
}


/***/ }),

/***/ 2796:
/*!********************************!*\
  !*** ./src/Profile/Profile.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Profile)
/* harmony export */ });
/* harmony import */ var _ETemp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ETemp */ 4762);
/* harmony import */ var _ERegion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ERegion */ 7355);
/* harmony import */ var _ECanvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ECanvas */ 6221);




let instance = null

class Profile {
    constructor() {
        if (instance) {
            return instance
        }
        instance = this

        window.profile = this

        this.temp = new _ETemp__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.region = new _ERegion__WEBPACK_IMPORTED_MODULE_1__["default"]()
        
        //create this finally
        this.canvas = new _ECanvas__WEBPACK_IMPORTED_MODULE_2__["default"]()

    }
}


/***/ }),

/***/ 7617:
/*!*****************************!*\
  !*** ./src/Utils/Cursor.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Cursor)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventEmitter.js */ 4841);




class Cursor extends _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super()

        this.coord = new three__WEBPACK_IMPORTED_MODULE_1__.Vector2()

        let drag = false

        window.addEventListener("mousemove", (event) => {
            drag = true

            // calculate pointer position in normalized device coordinates
            // (-1 to +1) for both components

            this.coord.x = (event.clientX / window.innerWidth) * 2 - 1
            this.coord.y = -(event.clientY / window.innerHeight) * 2 + 1

            this.trigger("move")
        })

        window.addEventListener("mousedown", () => (drag = false))

        window.addEventListener("mouseup", () => {
            if (!drag) this.trigger("click")
        })

        window.onscroll = () => {
            if (window.pageYOffset > 0) {
                this.trigger("scroll")
            }
        }
    }
}


/***/ }),

/***/ 3859:
/*!****************************!*\
  !*** ./src/Utils/Debug.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Debug)
/* harmony export */ });
/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ 4376);


class Debug{
    constructor(){
        this.active = window.location.hash ==='#debug'
        console.log("DebugMode:"+this.active)
        if (this.active) {
            this.ui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__.GUI()
        }       
    }
}

/***/ }),

/***/ 4841:
/*!***********************************!*\
  !*** ./src/Utils/EventEmitter.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EventEmitter)
/* harmony export */ });
class EventEmitter
{
    constructor()
    {
        this.callbacks = {}
        this.callbacks.base = {}
    }

    on(_names, callback)
    {
        // Errors
        if(typeof _names === 'undefined' || _names === '')
        {
            console.warn('wrong names')
            return false
        }

        if(typeof callback === 'undefined')
        {
            console.warn('wrong callback')
            return false
        }

        // Resolve names
        const names = this.resolveNames(_names)

        // Each name
        names.forEach((_name) =>
        {
            // Resolve name
            const name = this.resolveName(_name)

            // Create namespace if not exist
            if(!(this.callbacks[ name.namespace ] instanceof Object))
                this.callbacks[ name.namespace ] = {}

            // Create callback if not exist
            if(!(this.callbacks[ name.namespace ][ name.value ] instanceof Array))
                this.callbacks[ name.namespace ][ name.value ] = []

            // Add callback
            this.callbacks[ name.namespace ][ name.value ].push(callback)
        })

        return this
    }

    off(_names)
    {
        // Errors
        if(typeof _names === 'undefined' || _names === '')
        {
            console.warn('wrong name')
            return false
        }

        // Resolve names
        const names = this.resolveNames(_names)

        // Each name
        names.forEach((_name) =>
        {
            // Resolve name
            const name = this.resolveName(_name)

            // Remove namespace
            if(name.namespace !== 'base' && name.value === '')
            {
                delete this.callbacks[ name.namespace ]
            }

            // Remove specific callback in namespace
            else
            {
                // Default
                if(name.namespace === 'base')
                {
                    // Try to remove from each namespace
                    for(const namespace in this.callbacks)
                    {
                        if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)
                        {
                            delete this.callbacks[ namespace ][ name.value ]

                            // Remove namespace if empty
                            if(Object.keys(this.callbacks[ namespace ]).length === 0)
                                delete this.callbacks[ namespace ]
                        }
                    }
                }

                // Specified namespace
                else if(this.callbacks[ name.namespace ] instanceof Object && this.callbacks[ name.namespace ][ name.value ] instanceof Array)
                {
                    delete this.callbacks[ name.namespace ][ name.value ]

                    // Remove namespace if empty
                    if(Object.keys(this.callbacks[ name.namespace ]).length === 0)
                        delete this.callbacks[ name.namespace ]
                }
            }
        })

        return this
    }

    trigger(_name, _args)
    {
        // Errors
        if(typeof _name === 'undefined' || _name === '')
        {
            console.warn('wrong name')
            return false
        }

        let finalResult = null
        let result = null

        // Default args
        const args = !(_args instanceof Array) ? [] : _args

        // Resolve names (should on have one event)
        let name = this.resolveNames(_name)

        // Resolve name
        name = this.resolveName(name[ 0 ])

        // Default namespace
        if(name.namespace === 'base')
        {
            // Try to find callback in each namespace
            for(const namespace in this.callbacks)
            {
                if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)
                {
                    this.callbacks[ namespace ][ name.value ].forEach(function(callback)
                    {
                        result = callback.apply(this, args)

                        if(typeof finalResult === 'undefined')
                        {
                            finalResult = result
                        }
                    })
                }
            }
        }

        // Specified namespace
        else if(this.callbacks[ name.namespace ] instanceof Object)
        {
            if(name.value === '')
            {
                console.warn('wrong name')
                return this
            }

            this.callbacks[ name.namespace ][ name.value ].forEach(function(callback)
            {
                result = callback.apply(this, args)

                if(typeof finalResult === 'undefined')
                    finalResult = result
            })
        }

        return finalResult
    }

    resolveNames(_names)
    {
        let names = _names
        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '')
        names = names.replace(/[,/]+/g, ' ')
        names = names.split(' ')

        return names
    }

    resolveName(name)
    {
        const newName = {}
        const parts = name.split('.')

        newName.original  = name
        newName.value     = parts[ 0 ]
        newName.namespace = 'base' // Base namespace

        // Specified namespace
        if(parts.length > 1 && parts[ 1 ] !== '')
        {
            newName.namespace = parts[ 1 ]
        }

        return newName
    }
}

/***/ }),

/***/ 4920:
/*!*****************************!*\
  !*** ./src/Utils/Helper.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Helper)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience/Experience */ 9387);




class Helper {
    constructor() {
        this.experience = new _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug
        this.camera = this.experience.camera

        if(this.debug.active){
        
            const cameraHelper = new three__WEBPACK_IMPORTED_MODULE_1__.CameraHelper( this.camera.instance );
            this.scene.add(cameraHelper)
    
            const axesHelper = new three__WEBPACK_IMPORTED_MODULE_1__.AxesHelper(10)
            this.scene.add(axesHelper)
    
            if (this.experience.world.environment) {
                this.environment = this.experience.world.environment
    
                const directionalLightHelper = new three__WEBPACK_IMPORTED_MODULE_1__.DirectionalLightHelper(
                    this.environment.sunLight,
                    0.2
                )
                const directionalLightCameraHelper = new three__WEBPACK_IMPORTED_MODULE_1__.CameraHelper(
                    this.environment.sunLight.shadow.camera
                )
                this.scene.add(directionalLightCameraHelper)
                this.scene.add(directionalLightHelper)
            }
        }

    }
}


/***/ }),

/***/ 4449:
/*!********************************!*\
  !*** ./src/Utils/Resources.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Resources)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ 1217);
/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventEmitter */ 4841);





class Resources extends _EventEmitter__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(sources) {
        super()
        this.sources = sources

        this.items = {}
        this.toLoad = this.sources.length
        this.loaded = 0

        this.setLoaders()
        this.startLoading()
    }

    setLoaders() {
        this.loaders = {}
        this.loaders.gltfLoader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__.GLTFLoader()
        this.loaders.textureLoader = new three__WEBPACK_IMPORTED_MODULE_2__.TextureLoader()
        this.loaders.cubeTextureLoader = new three__WEBPACK_IMPORTED_MODULE_2__.CubeTextureLoader()
    }

    startLoading() {
        for (const source of this.sources) {
            if (source.type === "gltfModel") {
                this.loaders.gltfLoader.load(source.path, (file) => {
                    this.sourceLoaded(source, file)
                })
            }
            if (source.type === "cubeTex") {
                this.loaders.cubeTextureLoader.load(source.path, (file) => {
                    this.sourceLoaded(source, file)
                })
            }
            if (source.type === "tex") {
                this.loaders.textureLoader.load(source.path, (file) => {
                    this.sourceLoaded(source, file)
                })
            }
        }
    }

    sourceLoaded(source, file) {
        this.items[source.name] = file
        console.log(source, file)
        this.loaded++
        if (this.loaded === this.toLoad) {
            this.trigger("ready")
        }
    }
}


/***/ }),

/***/ 5721:
/*!****************************!*\
  !*** ./src/Utils/Sizes.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Sizes)
/* harmony export */ });
/* harmony import */ var _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventEmitter.js */ 4841);


class Sizes extends _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super()
        this.width = window.innerWidth
        this.height = window.innerHeight
        this.pixelRatio = Math.min(window.devicePixelRatio, 2)

        window.addEventListener("resize", () => {
            this.width = window.innerWidth
            this.height = window.innerHeight
            this.pixelRatio = Math.min(window.devicePixelRatio, 2)

            this.trigger("resize")
        })
    }
}


/***/ }),

/***/ 6490:
/*!***************************!*\
  !*** ./src/Utils/Time.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Time)
/* harmony export */ });
/* harmony import */ var _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventEmitter.js */ 4841);


class Time extends _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__["default"]
{
    constructor()
    {
        super()

        // Setup
        this.start = Date.now()
        this.current = this.start
        this.elapsed = 0
        this.delta = 16

        window.requestAnimationFrame(() =>
        {
            this.tick()
        })
    }

    tick()
    {
        const currentTime = Date.now()
        this.delta = currentTime - this.current
        this.current = currentTime
        this.elapsed = this.current - this.start

        this.trigger('tick')

        window.requestAnimationFrame(() =>
        {
            this.tick()
        })
    }
}

/***/ }),

/***/ 8138:
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
var __dirname = "/";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _css_style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css/style.css */ 6962);
/* harmony import */ var _Profile_Profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Profile/Profile */ 2796);
// All rights reserved by Yon
// index.js 
// Manager the HTML Doc





const profile = new _Profile_Profile__WEBPACK_IMPORTED_MODULE_1__["default"]()

console.log(__dirname)





/***/ }),

/***/ 2428:
/*!***************************************************!*\
  !*** ./static/content/ sync ^\.\/.*\/main\.json$ ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./Suzanne/main.json": 5349,
	"./fox/main.json": 6091
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 2428;

/***/ }),

/***/ 5349:
/*!******************************************!*\
  !*** ./static/content/Suzanne/main.json ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"id":"Suzanne","title":"Desert","description":"The memory about the scar on somebody\'s face.","background":"desert.webp","block":[{"name":"Desert Killer","description":"I can\'t bear to think of him waiting in the room knowing he\'s going to die.  It\'s fucking horrible.","type":"gallery","src":[{"path":"yuqinyang.webp","name":"yuqinyang","description":"The taoist of the Autumn Pool."},{"path":"xiaojue.webp","name":"xiaojue","description":"The little girl saved from the bandits."},{"path":"desert.webp","name":"desert","description":"The little girl saved from the bandits."}]},{"name":"Hope at least","description":"--the gone of wind","type":"story","src":[{"path":"desert.txt","banner":"xiaojue.webp","name":"Desert","author":"Yon","description":"A man can be destroyed but not defeated"},{"path":"whiteforest.txt","banner":"desert.webp","name":"White Forest","author":"Yon","description":"Slowly, She turned her head and looked under her ass. It seemed to be a corpse, the corpse of someone who was about to die."}]}]}');

/***/ }),

/***/ 6091:
/*!**************************************!*\
  !*** ./static/content/fox/main.json ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"id":"fox","title":"Fox","description":"The memory about the scar on somebody\'s face.","background":"fox.webp","block":[{"name":"Desert Killer","description":"I can\'t bear to think of him waiting in the room knowing he\'s going to die.  It\'s fucking horrible.","type":"gallery","src":[]},{"name":"Hope at least","description":"--the gone of wind","type":"story","src":[]}]}');

/***/ }),

/***/ 1199:
/*!**********************************!*\
  !*** ./static/content/temp.json ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"language":"中文/English","chinese":{"word":["Auther: Yon","2022-04-04","BetaVersion 1.0","# Copyright © 2021-2022 Yiyong Jiang. All rights reserved.","","Project: Gone","","RoadMap:","设计选择地区后的交互模式","移动端交互改为移动","优化图片资源的大小","近处视角下地图分块加载","增加右键相机旋转后松开自动回到默认角度","增加地图周边区域","优化滚轮缩放平滑","优化缩放比例","删去环境反射球,并增加环境球谐","","Done!","Helper移动至Debug.js下","增加地图上区域选择触发"]},"english":{"word":["Need to be improved"]}}');

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors"], () => (__webpack_exec__(8138)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUJBQXVCLDBDQUFPO0FBQzlCLHlCQUF5QiwwQ0FBTztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBDQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBDQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOENBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrQ0FBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNENBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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REFBbUI7QUFDNUQsNkNBQTZDLG9EQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyRDRDO0FBQzVDO0FBQ2Usb0JBQW9CLHdEQUFZO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2pCNEM7QUFDNUM7QUFDZSxtQkFBbUIsd0RBQVk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUN3QjtBQUN4QjtBQUN3QztBQUN4QztBQUNBLG9CQUFvQix3REFBTztBQUMzQjtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9jc3Mvc3R5bGUuY3NzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9jc3Mvc3R5bGUuY3NzPzlmY2QiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvQ2FtZXJhLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL0Nhc3Rlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9FeHBlcmllbmNlLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL092ZXJyaWRlL09yYml0Q29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvV29ybGQvQXRsYXMvQXRsYXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvV29ybGQvQXRsYXMvRm94LmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL1dvcmxkL0F0bGFzL01vbmtleS5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9Xb3JsZC9FbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9Xb3JsZC9Xb3JsZC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9zb3VyY2VzLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9Qcm9maWxlL0VDYW52YXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1Byb2ZpbGUvRVJlZ2lvbi5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvUHJvZmlsZS9FVGVtcC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvUHJvZmlsZS9Qcm9maWxlLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9VdGlscy9DdXJzb3IuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1V0aWxzL0RlYnVnLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9VdGlscy9FdmVudEVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1V0aWxzL0hlbHBlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvVXRpbHMvUmVzb3VyY2VzLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9VdGlscy9TaXplcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvVXRpbHMvVGltZS5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3RhdGljL2NvbnRlbnR8c3luY3wvXi8uKi9tYWluLy5qc29uJCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIioge1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbi53ZWJnbCB7XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLyrngavni5AqL1xcclxcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAvKndlYmtpdOa1j+iniOWZqCovXFxyXFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLypJRTEwKi9cXHJcXG4gICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAvKuaXqeacn+a1j+iniOWZqCovXFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4udGV4dCB7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgY29sb3I6ICNmZmZmZmY7XFxyXFxuICAgIGZvbnQtc2l6ZTogNnB4O1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcclxcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuI2xhbmd1YWdlIHtcXHJcXG4gICAgY29sb3I6ICNmZmZmZmY7XFxyXFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4ucmVnaW9uIHtcXHJcXG4gICAgYmFja2dyb3VuZDogcmdiKDM1LCAzMSwgMzQpO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMDBweCk7XFxyXFxuICAgIGhlaWdodDogMTIwcHg7XFxyXFxuICAgIG1heC13aWR0aDogMzAwcHg7XFxyXFxuICAgIHBhZGRpbmc6IDM0cHggMzBweCAxN3B4O1xcclxcblxcclxcbiAgICBjb2xvcjogI2ZmZmZmZjtcXHJcXG5cXHJcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJMdWNpZGEgQ29uc29sZVxcXCIsIFxcXCJDb3VyaWVyIE5ld1xcXCIsIG1vbm9zcGFjZTtcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcblxcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHRvcDogYXV0bztcXHJcXG4gICAgcmlnaHQ6IGF1dG87XFxyXFxuICAgIGJvdHRvbTogMTAlO1xcclxcbiAgICBsZWZ0OiA1JTtcXHJcXG4gIFxcclxcbn1cXHJcXG5cXHJcXG4ucmVnaW9uVGl0bGV7XFxyXFxuICAgIGZvbnQtc2l6ZTogMjRweDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6OHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucmVnaW9uRGVzY3JpcHRpb257XFxyXFxuICAgIGZvbnQtc2l6ZTogMTJweDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6MXB4O1xcclxcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcXHJcXG4gICAgcGFkZGluZy1ib3R0b206MTBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmRpc2NvdmVye1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogYXV0bztcXHJcXG4gICAgcmlnaHQ6IGF1dG87XFxyXFxuICAgIGJvdHRvbTogMTIlO1xcclxcbiAgICBsZWZ0OiAtMiU7XFxyXFxuXFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXHJcXG4gICAgY29sb3I6IHJnYigyMSwgMCwgMTU2KTtcXHJcXG4gICAgcGFkZGluZzogNXB4IDNweCAzcHggMTBweDtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzoycHg7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksZUFBZTtJQUNmLE1BQU07SUFDTixPQUFPO0lBQ1AsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixLQUFLO0lBQ0wseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixxQkFBcUI7SUFDckIsT0FBTztJQUNQLHdCQUF3QjtJQUN4QixRQUFRO0lBQ1IsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksTUFBTTtJQUNOLE9BQU87SUFDUCxjQUFjO0lBQ2QsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQiwwQkFBMEI7SUFDMUIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQix1QkFBdUI7O0lBRXZCLGNBQWM7O0lBRWQsdURBQXVEO0lBQ3ZELGVBQWU7O0lBRWYsZUFBZTtJQUNmLFNBQVM7SUFDVCxXQUFXO0lBQ1gsV0FBVztJQUNYLFFBQVE7O0FBRVo7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0lBQ1gsV0FBVztJQUNYLFNBQVM7O0lBRVQseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsZUFBZTtBQUNuQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbn1cXHJcXG5cXHJcXG4ud2ViZ2wge1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgb3V0bGluZTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIC8q54Gr54uQKi9cXHJcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLyp3ZWJraXTmtY/op4jlmagqL1xcclxcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIC8qSUUxMCovXFxyXFxuICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLyrml6nmnJ/mtY/op4jlmagqL1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnRleHQge1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIGNvbG9yOiAjZmZmZmZmO1xcclxcbiAgICBmb250LXNpemU6IDZweDtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXHJcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbiNsYW5ndWFnZSB7XFxyXFxuICAgIGNvbG9yOiAjZmZmZmZmO1xcclxcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnJlZ2lvbiB7XFxyXFxuICAgIGJhY2tncm91bmQ6IHJnYigzNSwgMzEsIDM0KTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xcclxcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMTAwcHgpO1xcclxcbiAgICBoZWlnaHQ6IDEyMHB4O1xcclxcbiAgICBtYXgtd2lkdGg6IDMwMHB4O1xcclxcbiAgICBwYWRkaW5nOiAzNHB4IDMwcHggMTdweDtcXHJcXG5cXHJcXG4gICAgY29sb3I6ICNmZmZmZmY7XFxyXFxuXFxyXFxuICAgIGZvbnQtZmFtaWx5OiBcXFwiTHVjaWRhIENvbnNvbGVcXFwiLCBcXFwiQ291cmllciBOZXdcXFwiLCBtb25vc3BhY2U7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXHJcXG5cXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICB0b3A6IGF1dG87XFxyXFxuICAgIHJpZ2h0OiBhdXRvO1xcclxcbiAgICBib3R0b206IDEwJTtcXHJcXG4gICAgbGVmdDogNSU7XFxyXFxuICBcXHJcXG59XFxyXFxuXFxyXFxuLnJlZ2lvblRpdGxle1xcclxcbiAgICBmb250LXNpemU6IDI0cHg7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOjhweDtcXHJcXG59XFxyXFxuXFxyXFxuLnJlZ2lvbkRlc2NyaXB0aW9ue1xcclxcbiAgICBmb250LXNpemU6IDEycHg7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOjFweDtcXHJcXG4gICAgcGFkZGluZy10b3A6IDEwcHg7XFxyXFxuICAgIHBhZGRpbmctYm90dG9tOjEwcHg7XFxyXFxufVxcclxcblxcclxcbi5kaXNjb3ZlcntcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IGF1dG87XFxyXFxuICAgIHJpZ2h0OiBhdXRvO1xcclxcbiAgICBib3R0b206IDEyJTtcXHJcXG4gICAgbGVmdDogLTIlO1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIGNvbG9yOiByZ2IoMjEsIDAsIDE1Nik7XFxyXFxuICAgIHBhZGRpbmc6IDVweCAzcHggM3B4IDEwcHg7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6MnB4O1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBDYW1lcmEuanMgXHJcbi8vIE1hbmFnZXIgdGhlIGNhbWVyYSBjb250cm9sXHJcbi8vIGhlcmUgdXNlIHRoZSBPcmJpdENvbnRyb2xzIGZvcm0gVEhSRUUuanMgYW5kIG92ZXJyaWRlIGl0IHdpdGggem9vbiBzY2FsZSBjdXN0b21pemF0aW9uXHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gXCIuL092ZXJyaWRlL09yYml0Q29udHJvbHNcIlxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4vRXhwZXJpZW5jZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSB0aGlzLmV4cGVyaWVuY2Uuc2l6ZXNcclxuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcy5leHBlcmllbmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5lQ2FudmFzID0gdGhpcy5leHBlcmllbmNlLmVDYW52YXNcclxuXHJcbiAgICAgICAgdGhpcy5zZXRJbnN0YW5jZSgpXHJcbiAgICAgICAgdGhpcy5zZXRPcmJpdENvbnRyb2woKVxyXG4gICAgfVxyXG5cclxuICAgIHNldEluc3RhbmNlKCkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICB0aGlzLnNpemVzLndpZHRoIC8gdGhpcy5zaXplcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIDAuMSxcclxuICAgICAgICAgICAgMTAwMFxyXG4gICAgICAgIClcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnBvc2l0aW9uLnNldCgwLCA1MS45NjE1LCAzMClcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmluc3RhbmNlKVxyXG4gICAgfVxyXG5cclxuICAgIHNldE9yYml0Q29udHJvbCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5pbnN0YW5jZSwgdGhpcy5lQ2FudmFzKVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlRGFtcGluZyA9IHRydWVcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmRhbXBpbmdGYWN0b3IgPSAwLjJcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnNjcmVlblNwYWNlUGFubmluZyA9IGZhbHNlXHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHMubW91c2VCdXR0b25zID0ge1xyXG4gICAgICAgICAgICBSSUdIVDogVEhSRUUuTU9VU0UuUk9UQVRFLFxyXG4gICAgICAgICAgICBNSURETEU6IFRIUkVFLk1PVVNFLkRPTExZLFxyXG4gICAgICAgICAgICBMRUZUOiBUSFJFRS5NT1VTRS5QQU4sXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5tYXhEaXN0YW5jZSA9IDEyMFxyXG4gICAgICAgIHRoaXMuY29udHJvbHMubWluRGlzdGFuY2UgPSAzMFxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWVcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLm1pbkF6aW11dGhBbmdsZSA9IC1NYXRoLlBJIC8gM1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMubWF4QXppbXV0aEFuZ2xlID0gTWF0aC5QSSAvIDNcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLm1pblBvbGFyQW5nbGUgPSBNYXRoLlBJLzEyXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSS80XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuem9vbVNwZWVkID0gMC41XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHMubWluUGFuQm94ID0gbmV3IFRIUkVFLlZlY3RvcjMoLTk1LDAsLTY2KVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMubWF4UGFuQm94ID0gbmV3IFRIUkVFLlZlY3RvcjMoOTUsMCw2NilcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmxpbWl0UGFuID0gdHJ1ZVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5hc3BlY3QgPSB0aGlzLnNpemVzLndpZHRoIC8gdGhpcy5zaXplcy5oZWlnaHRcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnVwZGF0ZSgpXHJcblxyXG4gICAgfVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIENhc3Rlci5qcyBcclxuLy8gTWFuYWdlciB0aGUgcmF5Y2FzdGVyIGZyb20gdGhyZWVcclxuLy8gcmF5Y2FzdGVyIGNvbnRhaW4gdGhlIG1vdmUgZXZlbnQgYW5kIGNsaWNrIGV2ZW50LCBjYWxsIGZyb20gZXhwZXJpZW5jZVxyXG4vLyByYXlNb3ZlL3JheUluL3JheU91dC9yYXlDbGlja1xyXG4vLyB0aGV5IHdpbGwga2VlcCBwYXNzIGNhbGwgdG8gdGhlIGN1cnJlbnRPYmp0IGV2ZW50IGZ1bmN0aW9uIHNhbWUgbmFtZSBhcyB0aGVtc2VsdmVzXHJcbi8vIHRoaXMgY2xhc3MgY2FuIHBhc3MgZXZlbnQgY2FsbCB0byB0aGUgY2FudmFzanMsIGFuZCBjYW52YXNqcyB3aWxsIGtlZXAgcGFzcyB0aGVzZSBldmVudCBjYWxsIHRvIG90aGVyIGh0bWwgZWxlbWVudFxyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuXHJcbmltcG9ydCBFeHBlcmllbmNlIGZyb20gXCIuL0V4cGVyaWVuY2VcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FzdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKClcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuZXhwZXJpZW5jZS5jYW52YXMgXHJcblxyXG5cclxuICAgICAgICB0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKVxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuZXhwZXJpZW5jZS5jYW1lcmFcclxuICAgICAgICB0aGlzLmN1cnNvciA9IHRoaXMuZXhwZXJpZW5jZS5jdXJzb3JcclxuXHJcbiAgICAgICAgdGhpcy5jYXN0ZXJPYmplY3RzID0ge31cclxuICAgICAgICB0aGlzLmNhc3Rlck1vZGVscyA9IFtdXHJcbiAgICAgICAgLy9maW5hbCBJbnRlcnNlY3QgU3RydWN0LCBjb250YWluIGludGVyc2VjdCBpbmZvcm1hdGlvblxyXG4gICAgICAgIHRoaXMuY3VycmVudEludGVyc2VjdCA9IG51bGxcclxuICAgICAgICAvL2ZpbmFsIEludGVyc2VjdCBtb2RlbCwgb25seSBjb250YWluIE1lc2ggaW5mb3JtYXRpb25cclxuICAgICAgICB0aGlzLmN1cnJlbnRNb2RlbCA9IG51bGxcclxuICAgICAgICAvL2ZpbmFsIGludGVyc2VjdCBjbGFzcywgaGF2ZSBhbGwgY2xhc3MgaW5mb3JtYXRpb25cclxuICAgICAgICB0aGlzLmN1cnJlbnRPYmogPSBudWxsXHJcblxyXG4gICAgICAgIHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodGhpcy5jdXJzb3IuY29vcmQsIHRoaXMuY2FtZXJhLmluc3RhbmNlKVxyXG4gICAgfVxyXG5cclxuICAgIHJheU1vdmUoKSB7XHJcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBwaWNraW5nIHJheSB3aXRoIHRoZSBjYW1lcmEgYW5kIHBvaW50ZXIgcG9zaXRpb25cclxuICAgICAgICB0aGlzLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHRoaXMuY3Vyc29yLmNvb3JkLCB0aGlzLmNhbWVyYS5pbnN0YW5jZSlcclxuXHJcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5jYXN0ZXJNb2RlbHMpXHJcblxyXG4gICAgICAgIC8vSW4gT3V0IEV2ZW50XHJcbiAgICAgICAgaWYgKGludGVyc2VjdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRNb2RlbCAhPSBpbnRlcnNlY3RzWzBdLm9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXlPdXQoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW50ZXJzZWN0ID0gaW50ZXJzZWN0c1swXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9kZWwgPSBpbnRlcnNlY3RzWzBdLm9iamVjdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqID0gdGhpcy5jYXN0ZXJPYmplY3RzW3RoaXMuY3VycmVudE1vZGVsLm5hbWVdXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheUluKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXlPdXQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEludGVyc2VjdCA9IG51bGxcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9kZWwgPSBudWxsXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE9iaiA9IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE9iaikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1vdmUgXCIgKyB0aGlzLmN1cnJlbnRNb2RlbC5uYW1lKVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5jdXJyZW50T2JqLnJheU1vdmUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqLnJheU1vdmUoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJheUluKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW4gXCIgKyB0aGlzLmN1cnJlbnRNb2RlbC5uYW1lKVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPYmoucmF5SW4pIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqLnJheUluKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmF5T3V0KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib3V0IFwiICsgdGhpcy5jdXJyZW50TW9kZWwubmFtZSlcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50T2JqLnJheU91dCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPYmoucmF5T3V0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmF5Q2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE9iaikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrIFwiICsgdGhpcy5jdXJyZW50TW9kZWwubmFtZSlcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE9iai5yYXlDbGljaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqLnJheUNsaWNrKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0V2ZW50IHBhc3MgdG8gY2FudmFzIGFuZCBwcm9maWxlXHJcbiAgICAgICAgICAgIGlmKHRoaXMuY2FudmFzLnJheUNsaWNrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnJheUNsaWNrKHRoaXMuY3VycmVudE9iaix0aGlzLmN1cnJlbnRNb2RlbClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlcihvYmopIHtcclxuICAgICAgICBpZiAob2JqLm1vZGVsKSB7XHJcbiAgICAgICAgICAgIG9iai5tb2RlbC50cmF2ZXJzZSgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3Rlck9iamVjdHNbY2hpbGQubmFtZV0gPSBvYmpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc3Rlck1vZGVscy5wdXNoKGNoaWxkKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG9iai50eXBlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBFeHBlcmllbmNlLmpzIFxyXG4vLyBNYW5hZ2VyIGFsbCBjbGFzc2VzIGxvYWQgYW5kIGRpc3Bvc2VcclxuLy8gTWFuYWdlciB0aWNrIHJlc2l6ZSBldmVudFxyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuXHJcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vQ2FtZXJhXCJcclxuaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuL1JlbmRlcmVyXCJcclxuaW1wb3J0IENhc3RlciBmcm9tIFwiLi9DYXN0ZXJcIlxyXG5cclxuaW1wb3J0IFdvcmxkIGZyb20gXCIuL1dvcmxkL1dvcmxkXCJcclxuXHJcbmltcG9ydCBTaXplcyBmcm9tIFwiLi4vVXRpbHMvU2l6ZXNcIlxyXG5pbXBvcnQgVGltZSBmcm9tIFwiLi4vVXRpbHMvVGltZVwiXHJcbmltcG9ydCBDdXJzb3IgZnJvbSBcIi4uL1V0aWxzL0N1cnNvclwiXHJcbmltcG9ydCBEZWJ1ZyBmcm9tIFwiLi4vVXRpbHMvRGVidWdcIlxyXG5pbXBvcnQgUmVzb3VyY2VzIGZyb20gXCIuLi9VdGlscy9SZXNvdXJjZXNcIlxyXG5cclxuaW1wb3J0IHNvdXJjZXMgZnJvbSAnLi9zb3VyY2VzJ1xyXG5cclxubGV0IGluc3RhbmNlID0gbnVsbFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwZXJpZW5jZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcclxuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnN0YW5jZSA9IHRoaXNcclxuXHJcbiAgICAgICAgd2luZG93LmV4cGVyaWVuY2UgPSB0aGlzXHJcblxyXG4gICAgICAgIHRoaXMuZUNhbnZhcyA9IGNhbnZhcy5lQ2FudmFzXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXNcclxuXHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IG5ldyBEZWJ1ZygpXHJcbiAgICAgICAgdGhpcy5zaXplcyA9IG5ldyBTaXplcygpXHJcbiAgICAgICAgdGhpcy50aW1lID0gbmV3IFRpbWUoKVxyXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbmV3IEN1cnNvcigpXHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gbmV3IFJlc291cmNlcyhzb3VyY2VzKVxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSgpXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIgPSBuZXcgQ2FzdGVyKClcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKClcclxuXHJcbiAgICAgICAgdGhpcy53b3JsZCA9IG5ldyBXb3JsZCgpXHJcblxyXG4gICAgICAgIHRoaXMuc2l6ZXMub24oXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSgpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLm9uKFwidGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmN1cnNvci5vbihcIm1vdmVcIiwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLm1vdmUoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuY3Vyc29yLm9uKFwiY2xpY2tcIiwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrKClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS5yZXNpemUoKVxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVzaXplKClcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKClcclxuICAgICAgICB0aGlzLndvcmxkLnVwZGF0ZSgpXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGUoKVxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoKXtcclxuICAgICAgICB0aGlzLmNhc3Rlci5yYXlNb3ZlKClcclxuICAgIH1cclxuXHJcbiAgICBjbGljaygpe1xyXG4gICAgICAgIHRoaXMuY2FzdGVyLnJheUNsaWNrKClcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc2l6ZXMub2ZmKCdyZXNpemUnKVxyXG4gICAgICAgIHRoaXMudGltZS5vZmYoJ3RpY2snKVxyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnRyYXZlcnNlKChjaGlsZCk9PntcclxuICAgICAgICAgICAgaWYoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKXtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmdlb21ldHJ5LmRpc3Bvc2UoKVxyXG4gICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBjaGlsZC5tYXRlcmlhbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjaGlsZC5tYXRlcmlhbFtrZXldXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUgJiYgdHlwZW9mIHZhbHVlLmRpc3Bvc2UgPT09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5kaXNwb3NlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS5jb250cm9scy5kaXNwb3NlKClcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmluc3RhbmNlLmRpc3Bvc2UoKVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcblx0RXZlbnREaXNwYXRjaGVyLFxyXG5cdE1PVVNFLFxyXG5cdFF1YXRlcm5pb24sXHJcblx0U3BoZXJpY2FsLFxyXG5cdFRPVUNILFxyXG5cdFZlY3RvcjIsXHJcblx0VmVjdG9yM1xyXG59IGZyb20gJ3RocmVlJztcclxuXHJcbi8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLlxyXG4vLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxyXG4vL1xyXG4vLyAgICBPcmJpdCAtIGxlZnQgbW91c2UgLyB0b3VjaDogb25lLWZpbmdlciBtb3ZlXHJcbi8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvLWZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXHJcbi8vICAgIFBhbiAtIHJpZ2h0IG1vdXNlLCBvciBsZWZ0IG1vdXNlICsgY3RybC9tZXRhL3NoaWZ0S2V5LCBvciBhcnJvdyBrZXlzIC8gdG91Y2g6IHR3by1maW5nZXIgbW92ZVxyXG5cclxuY29uc3QgX2NoYW5nZUV2ZW50ID0geyB0eXBlOiAnY2hhbmdlJyB9O1xyXG5jb25zdCBfc3RhcnRFdmVudCA9IHsgdHlwZTogJ3N0YXJ0JyB9O1xyXG5jb25zdCBfZW5kRXZlbnQgPSB7IHR5cGU6ICdlbmQnIH07XHJcblxyXG5jbGFzcyBPcmJpdENvbnRyb2xzIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcclxuXHJcblx0Y29uc3RydWN0b3IoIG9iamVjdCwgZG9tRWxlbWVudCApIHtcclxuXHJcblx0XHRzdXBlcigpO1xyXG5cclxuXHRcdGlmICggZG9tRWxlbWVudCA9PT0gdW5kZWZpbmVkICkgY29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogVGhlIHNlY29uZCBwYXJhbWV0ZXIgXCJkb21FbGVtZW50XCIgaXMgbm93IG1hbmRhdG9yeS4nICk7XHJcblx0XHRpZiAoIGRvbUVsZW1lbnQgPT09IGRvY3VtZW50ICkgY29uc29sZS5lcnJvciggJ1RIUkVFLk9yYml0Q29udHJvbHM6IFwiZG9jdW1lbnRcIiBzaG91bGQgbm90IGJlIHVzZWQgYXMgdGhlIHRhcmdldCBcImRvbUVsZW1lbnRcIi4gUGxlYXNlIHVzZSBcInJlbmRlcmVyLmRvbUVsZW1lbnRcIiBpbnN0ZWFkLicgKTtcclxuXHJcblx0XHR0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuXHRcdHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQ7XHJcblx0XHR0aGlzLmRvbUVsZW1lbnQuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSc7IC8vIGRpc2FibGUgdG91Y2ggc2Nyb2xsXHJcblxyXG5cdFx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sXHJcblx0XHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdC8vIFwidGFyZ2V0XCIgc2V0cyB0aGUgbG9jYXRpb24gb2YgZm9jdXMsIHdoZXJlIHRoZSBvYmplY3Qgb3JiaXRzIGFyb3VuZFxyXG5cdFx0dGhpcy50YXJnZXQgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiBkb2xseSBpbiBhbmQgb3V0ICggUGVyc3BlY3RpdmVDYW1lcmEgb25seSApXHJcblx0XHR0aGlzLm1pbkRpc3RhbmNlID0gMDtcclxuXHRcdHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcclxuXHJcblx0XHQvLyBIb3cgZmFyIHlvdSBjYW4gem9vbSBpbiBhbmQgb3V0ICggT3J0aG9ncmFwaGljQ2FtZXJhIG9ubHkgKVxyXG5cdFx0dGhpcy5taW5ab29tID0gMDtcclxuXHRcdHRoaXMubWF4Wm9vbSA9IEluZmluaXR5O1xyXG5cclxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCB2ZXJ0aWNhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxyXG5cdFx0Ly8gUmFuZ2UgaXMgMCB0byBNYXRoLlBJIHJhZGlhbnMuXHJcblx0XHR0aGlzLm1pblBvbGFyQW5nbGUgPSAwOyAvLyByYWRpYW5zXHJcblx0XHR0aGlzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJOyAvLyByYWRpYW5zXHJcblxyXG5cdFx0Ly8gSG93IGZhciB5b3UgY2FuIG9yYml0IGhvcml6b250YWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cclxuXHRcdC8vIElmIHNldCwgdGhlIGludGVydmFsIFsgbWluLCBtYXggXSBtdXN0IGJlIGEgc3ViLWludGVydmFsIG9mIFsgLSAyIFBJLCAyIFBJIF0sIHdpdGggKCBtYXggLSBtaW4gPCAyIFBJIClcclxuXHRcdHRoaXMubWluQXppbXV0aEFuZ2xlID0gLSBJbmZpbml0eTsgLy8gcmFkaWFuc1xyXG5cdFx0dGhpcy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTsgLy8gcmFkaWFuc1xyXG5cclxuXHJcblx0XHQvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgZGFtcGluZyAoaW5lcnRpYSlcclxuXHRcdC8vIElmIGRhbXBpbmcgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXHJcblx0XHR0aGlzLmVuYWJsZURhbXBpbmcgPSBmYWxzZTtcclxuXHRcdHRoaXMuZGFtcGluZ0ZhY3RvciA9IDAuMDU7XHJcblxyXG5cdFx0Ly8gVGhpcyBvcHRpb24gYWN0dWFsbHkgZW5hYmxlcyBkb2xseWluZyBpbiBhbmQgb3V0OyBsZWZ0IGFzIFwiem9vbVwiIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cclxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHpvb21pbmdcclxuXHRcdHRoaXMuZW5hYmxlWm9vbSA9IHRydWU7XHJcblx0XHR0aGlzLnpvb21TcGVlZCA9IDEuMDtcclxuXHJcblx0XHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSByb3RhdGluZ1xyXG5cdFx0dGhpcy5lbmFibGVSb3RhdGUgPSB0cnVlO1xyXG5cdFx0dGhpcy5yb3RhdGVTcGVlZCA9IDEuMDtcclxuXHJcblx0XHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSBwYW5uaW5nXHJcblx0XHR0aGlzLmVuYWJsZVBhbiA9IHRydWU7XHJcblx0XHR0aGlzLnBhblNwZWVkID0gMS4wO1xyXG5cdFx0dGhpcy5zY3JlZW5TcGFjZVBhbm5pbmcgPSB0cnVlOyAvLyBpZiBmYWxzZSwgcGFuIG9ydGhvZ29uYWwgdG8gd29ybGQtc3BhY2UgZGlyZWN0aW9uIGNhbWVyYS51cFxyXG5cdFx0dGhpcy5rZXlQYW5TcGVlZCA9IDcuMDtcdC8vIHBpeGVscyBtb3ZlZCBwZXIgYXJyb3cga2V5IHB1c2hcclxuXHJcbiAgICAgICAgLy95b25qaWFuZyBhZGQgMjAyMiAwMyAyOVxyXG4gICAgICAgIHRoaXMubGltaXRQYW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1pblBhbkJveCA9IG5ldyBWZWN0b3IzKCAtIDIwLCAtIDIwLCAtIDIwIClcclxuICAgICAgICB0aGlzLm1heFBhbkJveCA9IG5ldyBWZWN0b3IzKCAyMCwgMjAsIDIwIClcclxuICAgICAgICAvL3lvbmppYW5nIGVuZCAyMDIyIDAzIDI5XHJcblxyXG5cdFx0Ly8gU2V0IHRvIHRydWUgdG8gYXV0b21hdGljYWxseSByb3RhdGUgYXJvdW5kIHRoZSB0YXJnZXRcclxuXHRcdC8vIElmIGF1dG8tcm90YXRlIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxyXG5cdFx0dGhpcy5hdXRvUm90YXRlID0gZmFsc2U7XHJcblx0XHR0aGlzLmF1dG9Sb3RhdGVTcGVlZCA9IDIuMDsgLy8gMzAgc2Vjb25kcyBwZXIgb3JiaXQgd2hlbiBmcHMgaXMgNjBcclxuXHJcblx0XHQvLyBUaGUgZm91ciBhcnJvdyBrZXlzXHJcblx0XHR0aGlzLmtleXMgPSB7IExFRlQ6ICdBcnJvd0xlZnQnLCBVUDogJ0Fycm93VXAnLCBSSUdIVDogJ0Fycm93UmlnaHQnLCBCT1RUT006ICdBcnJvd0Rvd24nIH07XHJcblxyXG5cdFx0Ly8gTW91c2UgYnV0dG9uc1xyXG5cdFx0dGhpcy5tb3VzZUJ1dHRvbnMgPSB7IExFRlQ6IE1PVVNFLlJPVEFURSwgTUlERExFOiBNT1VTRS5ET0xMWSwgUklHSFQ6IE1PVVNFLlBBTiB9O1xyXG5cclxuXHRcdC8vIFRvdWNoIGZpbmdlcnNcclxuXHRcdHRoaXMudG91Y2hlcyA9IHsgT05FOiBUT1VDSC5ST1RBVEUsIFRXTzogVE9VQ0guRE9MTFlfUEFOIH07XHJcblxyXG5cdFx0Ly8gZm9yIHJlc2V0XHJcblx0XHR0aGlzLnRhcmdldDAgPSB0aGlzLnRhcmdldC5jbG9uZSgpO1xyXG5cdFx0dGhpcy5wb3NpdGlvbjAgPSB0aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xyXG5cdFx0dGhpcy56b29tMCA9IHRoaXMub2JqZWN0Lnpvb207XHJcblxyXG5cdFx0Ly8gdGhlIHRhcmdldCBET00gZWxlbWVudCBmb3Iga2V5IGV2ZW50c1xyXG5cdFx0dGhpcy5fZG9tRWxlbWVudEtleUV2ZW50cyA9IG51bGw7XHJcblxyXG5cdFx0Ly9cclxuXHRcdC8vIHB1YmxpYyBtZXRob2RzXHJcblx0XHQvL1xyXG5cclxuXHRcdHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdHJldHVybiBzcGhlcmljYWwucGhpO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdHJldHVybiBzcGhlcmljYWwudGhldGE7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmdldERpc3RhbmNlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LnBvc2l0aW9uLmRpc3RhbmNlVG8oIHRoaXMudGFyZ2V0ICk7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmxpc3RlblRvS2V5RXZlbnRzID0gZnVuY3Rpb24gKCBkb21FbGVtZW50ICkge1xyXG5cclxuXHRcdFx0ZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIG9uS2V5RG93biApO1xyXG5cdFx0XHR0aGlzLl9kb21FbGVtZW50S2V5RXZlbnRzID0gZG9tRWxlbWVudDtcclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuc2F2ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0c2NvcGUudGFyZ2V0MC5jb3B5KCBzY29wZS50YXJnZXQgKTtcclxuXHRcdFx0c2NvcGUucG9zaXRpb24wLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xyXG5cdFx0XHRzY29wZS56b29tMCA9IHNjb3BlLm9iamVjdC56b29tO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdHNjb3BlLnRhcmdldC5jb3B5KCBzY29wZS50YXJnZXQwICk7XHJcblx0XHRcdHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KCBzY29wZS5wb3NpdGlvbjAgKTtcclxuXHRcdFx0c2NvcGUub2JqZWN0Lnpvb20gPSBzY29wZS56b29tMDtcclxuXHJcblx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9jaGFuZ2VFdmVudCApO1xyXG5cclxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyB0aGlzIG1ldGhvZCBpcyBleHBvc2VkLCBidXQgcGVyaGFwcyBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgd2UgY2FuIG1ha2UgaXQgcHJpdmF0ZS4uLlxyXG5cdFx0dGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBvZmZzZXQgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuXHRcdFx0Ly8gc28gY2FtZXJhLnVwIGlzIHRoZSBvcmJpdCBheGlzXHJcblx0XHRcdGNvbnN0IHF1YXQgPSBuZXcgUXVhdGVybmlvbigpLnNldEZyb21Vbml0VmVjdG9ycyggb2JqZWN0LnVwLCBuZXcgVmVjdG9yMyggMCwgMSwgMCApICk7XHJcblx0XHRcdGNvbnN0IHF1YXRJbnZlcnNlID0gcXVhdC5jbG9uZSgpLmludmVydCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgbGFzdFBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcclxuXHRcdFx0Y29uc3QgbGFzdFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xyXG5cclxuXHRcdFx0Y29uc3QgdHdvUEkgPSAyICogTWF0aC5QSTtcclxuXHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xyXG5cclxuXHRcdFx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xyXG5cclxuXHRcdFx0XHQvLyByb3RhdGUgb2Zmc2V0IHRvIFwieS1heGlzLWlzLXVwXCIgc3BhY2VcclxuXHRcdFx0XHRvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0ICk7XHJcblxyXG5cdFx0XHRcdC8vIGFuZ2xlIGZyb20gei1heGlzIGFyb3VuZCB5LWF4aXNcclxuXHRcdFx0XHRzcGhlcmljYWwuc2V0RnJvbVZlY3RvcjMoIG9mZnNldCApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHNjb3BlLmF1dG9Sb3RhdGUgJiYgc3RhdGUgPT09IFNUQVRFLk5PTkUgKSB7XHJcblxyXG5cdFx0XHRcdFx0cm90YXRlTGVmdCggZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlRGFtcGluZyApIHtcclxuXHJcblx0XHRcdFx0XHRzcGhlcmljYWwudGhldGEgKz0gc3BoZXJpY2FsRGVsdGEudGhldGEgKiBzY29wZS5kYW1waW5nRmFjdG9yO1xyXG5cdFx0XHRcdFx0c3BoZXJpY2FsLnBoaSArPSBzcGhlcmljYWxEZWx0YS5waGkgKiBzY29wZS5kYW1waW5nRmFjdG9yO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YTtcclxuXHRcdFx0XHRcdHNwaGVyaWNhbC5waGkgKz0gc3BoZXJpY2FsRGVsdGEucGhpO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHJlc3RyaWN0IHRoZXRhIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuXHJcblx0XHRcdFx0bGV0IG1pbiA9IHNjb3BlLm1pbkF6aW11dGhBbmdsZTtcclxuXHRcdFx0XHRsZXQgbWF4ID0gc2NvcGUubWF4QXppbXV0aEFuZ2xlO1xyXG5cclxuXHRcdFx0XHRpZiAoIGlzRmluaXRlKCBtaW4gKSAmJiBpc0Zpbml0ZSggbWF4ICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBtaW4gPCAtIE1hdGguUEkgKSBtaW4gKz0gdHdvUEk7IGVsc2UgaWYgKCBtaW4gPiBNYXRoLlBJICkgbWluIC09IHR3b1BJO1xyXG5cclxuXHRcdFx0XHRcdGlmICggbWF4IDwgLSBNYXRoLlBJICkgbWF4ICs9IHR3b1BJOyBlbHNlIGlmICggbWF4ID4gTWF0aC5QSSApIG1heCAtPSB0d29QSTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIG1pbiA8PSBtYXggKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRzcGhlcmljYWwudGhldGEgPSBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbWF4LCBzcGhlcmljYWwudGhldGEgKSApO1xyXG5cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHRzcGhlcmljYWwudGhldGEgPSAoIHNwaGVyaWNhbC50aGV0YSA+ICggbWluICsgbWF4ICkgLyAyICkgP1xyXG5cdFx0XHRcdFx0XHRcdE1hdGgubWF4KCBtaW4sIHNwaGVyaWNhbC50aGV0YSApIDpcclxuXHRcdFx0XHRcdFx0XHRNYXRoLm1pbiggbWF4LCBzcGhlcmljYWwudGhldGEgKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gcmVzdHJpY3QgcGhpIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuXHRcdFx0XHRzcGhlcmljYWwucGhpID0gTWF0aC5tYXgoIHNjb3BlLm1pblBvbGFyQW5nbGUsIE1hdGgubWluKCBzY29wZS5tYXhQb2xhckFuZ2xlLCBzcGhlcmljYWwucGhpICkgKTtcclxuXHJcblx0XHRcdFx0c3BoZXJpY2FsLm1ha2VTYWZlKCk7XHJcblxyXG5cclxuXHRcdFx0XHRzcGhlcmljYWwucmFkaXVzICo9IHNjYWxlO1xyXG5cclxuXHRcdFx0XHQvLyByZXN0cmljdCByYWRpdXMgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xyXG5cdFx0XHRcdHNwaGVyaWNhbC5yYWRpdXMgPSBNYXRoLm1heCggc2NvcGUubWluRGlzdGFuY2UsIE1hdGgubWluKCBzY29wZS5tYXhEaXN0YW5jZSwgc3BoZXJpY2FsLnJhZGl1cyApICk7XHJcblxyXG5cdFx0XHRcdC8vIG1vdmUgdGFyZ2V0IHRvIHBhbm5lZCBsb2NhdGlvblxyXG5cclxuICAgICAgICAgICAgICAgIFxyXG5cclxuXHJcblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVEYW1waW5nID09PSB0cnVlICkge1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLnRhcmdldC5hZGRTY2FsZWRWZWN0b3IoIHBhbk9mZnNldCwgc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLnRhcmdldC5hZGQoIHBhbk9mZnNldCApO1xyXG5cdFx0XHRcdH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3lvbmppYW5nIGFkZCAyMDIyIDAzIDI5XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmxpbWl0UGFuID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbmV3IFZlY3RvcjMoKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldERpc3RhbmNlID0gb2Zmc2V0Lmxlbmd0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBsaW1pdFNjYWxlID0gMFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBpZih0aGlzLmVuYWJsZURhbXBpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRQYW5TY2FsZSA9ICh0aGlzLm1heERpc3RhbmNlLXRhcmdldERpc3RhbmNlKS8odGhpcy5tYXhEaXN0YW5jZS10aGlzLm1pbkRpc3RhbmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi5jb3B5KHRoaXMubWluUGFuQm94KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4ID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LmNvcHkodGhpcy5tYXhQYW5Cb3gpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS50YXJnZXQuY2xhbXAobWluLm11bHRpcGx5U2NhbGFyKGxpbWl0UGFuU2NhbGUpLG1heC5tdWx0aXBseVNjYWxhcihsaW1pdFBhblNjYWxlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGltaXRQYW5TY2FsZSA9ICh0aGlzLm1heERpc3RhbmNlLXRhcmdldERpc3RhbmNlKS8odGhpcy5tYXhEaXN0YW5jZS10aGlzLm1pbkRpc3RhbmNlKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGV0IG1pbiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG1pbi5jb3B5KHRoaXMubWluUGFuQm94KVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgbWF4ID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWF4LmNvcHkodGhpcy5tYXhQYW5Cb3gpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLnRhcmdldC5jbGFtcChtaW4ubXVsdGlwbHlTY2FsYXIobGltaXRQYW5TY2FsZSksbWF4Lm11bHRpcGx5U2NhbGFyKGxpbWl0UGFuU2NhbGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGltaXRQYW5TY2FsZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy95b25qaWFuZyBlbmQgMjAyMiAwMyAyOVxyXG5cclxuXHRcdFx0XHRvZmZzZXQuc2V0RnJvbVNwaGVyaWNhbCggc3BoZXJpY2FsICk7XHJcblxyXG5cdFx0XHRcdC8vIHJvdGF0ZSBvZmZzZXQgYmFjayB0byBcImNhbWVyYS11cC12ZWN0b3ItaXMtdXBcIiBzcGFjZVxyXG5cdFx0XHRcdG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXRJbnZlcnNlICk7XHJcblxyXG5cdFx0XHRcdHBvc2l0aW9uLmNvcHkoIHNjb3BlLnRhcmdldCApLmFkZCggb2Zmc2V0ICk7XHJcblxyXG5cdFx0XHRcdHNjb3BlLm9iamVjdC5sb29rQXQoIHNjb3BlLnRhcmdldCApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZURhbXBpbmcgPT09IHRydWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0c3BoZXJpY2FsRGVsdGEudGhldGEgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xyXG5cdFx0XHRcdFx0c3BoZXJpY2FsRGVsdGEucGhpICo9ICggMSAtIHNjb3BlLmRhbXBpbmdGYWN0b3IgKTtcclxuXHJcblx0XHRcdFx0XHRwYW5PZmZzZXQubXVsdGlwbHlTY2FsYXIoIDEgLSBzY29wZS5kYW1waW5nRmFjdG9yICk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0c3BoZXJpY2FsRGVsdGEuc2V0KCAwLCAwLCAwICk7XHJcblxyXG5cdFx0XHRcdFx0cGFuT2Zmc2V0LnNldCggMCwgMCwgMCApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNjYWxlID0gMTtcclxuXHJcblx0XHRcdFx0Ly8gdXBkYXRlIGNvbmRpdGlvbiBpczpcclxuXHRcdFx0XHQvLyBtaW4oY2FtZXJhIGRpc3BsYWNlbWVudCwgY2FtZXJhIHJvdGF0aW9uIGluIHJhZGlhbnMpXjIgPiBFUFNcclxuXHRcdFx0XHQvLyB1c2luZyBzbWFsbC1hbmdsZSBhcHByb3hpbWF0aW9uIGNvcyh4LzIpID0gMSAtIHheMiAvIDhcclxuXHJcblx0XHRcdFx0aWYgKCB6b29tQ2hhbmdlZCB8fFxyXG5cdFx0XHRcdFx0bGFzdFBvc2l0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKCBzY29wZS5vYmplY3QucG9zaXRpb24gKSA+IEVQUyB8fFxyXG5cdFx0XHRcdFx0OCAqICggMSAtIGxhc3RRdWF0ZXJuaW9uLmRvdCggc2NvcGUub2JqZWN0LnF1YXRlcm5pb24gKSApID4gRVBTICkge1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9jaGFuZ2VFdmVudCApO1xyXG5cclxuXHRcdFx0XHRcdGxhc3RQb3NpdGlvbi5jb3B5KCBzY29wZS5vYmplY3QucG9zaXRpb24gKTtcclxuXHRcdFx0XHRcdGxhc3RRdWF0ZXJuaW9uLmNvcHkoIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uICk7XHJcblx0XHRcdFx0XHR6b29tQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0fSgpO1xyXG5cclxuXHRcdHRoaXMuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NvbnRleHRtZW51Jywgb25Db250ZXh0TWVudSApO1xyXG5cclxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duICk7XHJcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJjYW5jZWwnLCBvblBvaW50ZXJDYW5jZWwgKTtcclxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBvbk1vdXNlV2hlZWwgKTtcclxuXHJcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSApO1xyXG5cdFx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVydXAnLCBvblBvaW50ZXJVcCApO1xyXG5cclxuXHJcblx0XHRcdGlmICggc2NvcGUuX2RvbUVsZW1lbnRLZXlFdmVudHMgIT09IG51bGwgKSB7XHJcblxyXG5cdFx0XHRcdHNjb3BlLl9kb21FbGVtZW50S2V5RXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgb25LZXlEb3duICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3Njb3BlLmRpc3BhdGNoRXZlbnQoIHsgdHlwZTogJ2Rpc3Bvc2UnIH0gKTsgLy8gc2hvdWxkIHRoaXMgYmUgYWRkZWQgaGVyZT9cclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vXHJcblx0XHQvLyBpbnRlcm5hbHNcclxuXHRcdC8vXHJcblxyXG5cdFx0Y29uc3Qgc2NvcGUgPSB0aGlzO1xyXG5cclxuXHRcdGNvbnN0IFNUQVRFID0ge1xyXG5cdFx0XHROT05FOiAtIDEsXHJcblx0XHRcdFJPVEFURTogMCxcclxuXHRcdFx0RE9MTFk6IDEsXHJcblx0XHRcdFBBTjogMixcclxuXHRcdFx0VE9VQ0hfUk9UQVRFOiAzLFxyXG5cdFx0XHRUT1VDSF9QQU46IDQsXHJcblx0XHRcdFRPVUNIX0RPTExZX1BBTjogNSxcclxuXHRcdFx0VE9VQ0hfRE9MTFlfUk9UQVRFOiA2XHJcblx0XHR9O1xyXG5cclxuXHRcdGxldCBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG5cdFx0Y29uc3QgRVBTID0gMC4wMDAwMDE7XHJcblxyXG5cdFx0Ly8gY3VycmVudCBwb3NpdGlvbiBpbiBzcGhlcmljYWwgY29vcmRpbmF0ZXNcclxuXHRcdGNvbnN0IHNwaGVyaWNhbCA9IG5ldyBTcGhlcmljYWwoKTtcclxuXHRcdGNvbnN0IHNwaGVyaWNhbERlbHRhID0gbmV3IFNwaGVyaWNhbCgpO1xyXG5cclxuXHRcdGxldCBzY2FsZSA9IDE7XHJcblx0XHRjb25zdCBwYW5PZmZzZXQgPSBuZXcgVmVjdG9yMygpO1xyXG5cdFx0bGV0IHpvb21DaGFuZ2VkID0gZmFsc2U7XHJcblxyXG5cdFx0Y29uc3Qgcm90YXRlU3RhcnQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0Y29uc3Qgcm90YXRlRW5kID0gbmV3IFZlY3RvcjIoKTtcclxuXHRcdGNvbnN0IHJvdGF0ZURlbHRhID0gbmV3IFZlY3RvcjIoKTtcclxuXHJcblx0XHRjb25zdCBwYW5TdGFydCA9IG5ldyBWZWN0b3IyKCk7XHJcblx0XHRjb25zdCBwYW5FbmQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0Y29uc3QgcGFuRGVsdGEgPSBuZXcgVmVjdG9yMigpO1xyXG5cclxuXHRcdGNvbnN0IGRvbGx5U3RhcnQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0Y29uc3QgZG9sbHlFbmQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0Y29uc3QgZG9sbHlEZWx0YSA9IG5ldyBWZWN0b3IyKCk7XHJcblxyXG5cdFx0Y29uc3QgcG9pbnRlcnMgPSBbXTtcclxuXHRcdGNvbnN0IHBvaW50ZXJQb3NpdGlvbnMgPSB7fTtcclxuXHJcbiAgICAgICAgbGV0IGxpbWl0UGFuU2NhbGUgPSAxO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIDIgKiBNYXRoLlBJIC8gNjAgLyA2MCAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIE1hdGgucG93KCAwLjk1LCBzY29wZS56b29tU3BlZWQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcm90YXRlTGVmdCggYW5nbGUgKSB7XHJcblxyXG5cdFx0XHRzcGhlcmljYWxEZWx0YS50aGV0YSAtPSBhbmdsZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcm90YXRlVXAoIGFuZ2xlICkge1xyXG5cclxuXHRcdFx0c3BoZXJpY2FsRGVsdGEucGhpIC09IGFuZ2xlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBwYW5MZWZ0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgdiA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gcGFuTGVmdCggZGlzdGFuY2UsIG9iamVjdE1hdHJpeCApIHtcclxuXHJcblx0XHRcdFx0di5zZXRGcm9tTWF0cml4Q29sdW1uKCBvYmplY3RNYXRyaXgsIDAgKTsgLy8gZ2V0IFggY29sdW1uIG9mIG9iamVjdE1hdHJpeFxyXG5cdFx0XHRcdHYubXVsdGlwbHlTY2FsYXIoIC0gZGlzdGFuY2UgKTtcclxuXHJcblx0XHRcdFx0cGFuT2Zmc2V0LmFkZCggdiApO1xyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHR9KCk7XHJcblxyXG5cdFx0Y29uc3QgcGFuVXAgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRjb25zdCB2ID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiBwYW5VcCggZGlzdGFuY2UsIG9iamVjdE1hdHJpeCApIHtcclxuXHJcblx0XHRcdFx0aWYgKCBzY29wZS5zY3JlZW5TcGFjZVBhbm5pbmcgPT09IHRydWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0di5zZXRGcm9tTWF0cml4Q29sdW1uKCBvYmplY3RNYXRyaXgsIDEgKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHR2LnNldEZyb21NYXRyaXhDb2x1bW4oIG9iamVjdE1hdHJpeCwgMCApO1xyXG5cdFx0XHRcdFx0di5jcm9zc1ZlY3RvcnMoIHNjb3BlLm9iamVjdC51cCwgdiApO1xyXG5cclxuXHRcdFx0XHR9XHJcbiAgICAgICAgICAgICAgICBcclxuXHRcdFx0XHR2Lm11bHRpcGx5U2NhbGFyKCBkaXN0YW5jZSApO1xyXG5cdFx0XHRcdHBhbk9mZnNldC5hZGQoIHYgKTtcclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0fSgpO1xyXG5cclxuXHRcdC8vIGRlbHRhWCBhbmQgZGVsdGFZIGFyZSBpbiBwaXhlbHM7IHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxyXG5cdFx0Y29uc3QgcGFuID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0Y29uc3Qgb2Zmc2V0ID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiBwYW4oIGRlbHRhWCwgZGVsdGFZICkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudDtcclxuXHJcblx0XHRcdFx0aWYgKCBzY29wZS5vYmplY3QuaXNQZXJzcGVjdGl2ZUNhbWVyYSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBwZXJzcGVjdGl2ZVxyXG5cdFx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XHJcblx0XHRcdFx0XHRvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xyXG5cdFx0XHRcdFx0bGV0IHRhcmdldERpc3RhbmNlID0gb2Zmc2V0Lmxlbmd0aCgpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxyXG5cdFx0XHRcdFx0dGFyZ2V0RGlzdGFuY2UgKj0gTWF0aC50YW4oICggc2NvcGUub2JqZWN0LmZvdiAvIDIgKSAqIE1hdGguUEkgLyAxODAuMCApO1xyXG5cclxuXHRcdFx0XHRcdC8vIHdlIHVzZSBvbmx5IGNsaWVudEhlaWdodCBoZXJlIHNvIGFzcGVjdCByYXRpbyBkb2VzIG5vdCBkaXN0b3J0IHNwZWVkXHJcblx0XHRcdFx0XHRwYW5MZWZ0KCAyICogZGVsdGFYICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xyXG5cdFx0XHRcdFx0cGFuVXAoIDIgKiBkZWx0YVkgKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHNjb3BlLm9iamVjdC5pc09ydGhvZ3JhcGhpY0NhbWVyYSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBvcnRob2dyYXBoaWNcclxuXHRcdFx0XHRcdHBhbkxlZnQoIGRlbHRhWCAqICggc2NvcGUub2JqZWN0LnJpZ2h0IC0gc2NvcGUub2JqZWN0LmxlZnQgKSAvIHNjb3BlLm9iamVjdC56b29tIC8gZWxlbWVudC5jbGllbnRXaWR0aCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xyXG5cdFx0XHRcdFx0cGFuVXAoIGRlbHRhWSAqICggc2NvcGUub2JqZWN0LnRvcCAtIHNjb3BlLm9iamVjdC5ib3R0b20gKSAvIHNjb3BlLm9iamVjdC56b29tIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsIHNjb3BlLm9iamVjdC5tYXRyaXggKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHQvLyBjYW1lcmEgbmVpdGhlciBvcnRob2dyYXBoaWMgbm9yIHBlcnNwZWN0aXZlXHJcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuJyApO1xyXG5cdFx0XHRcdFx0c2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0fSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGRvbGx5T3V0KCBkb2xseVNjYWxlICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5vYmplY3QuaXNQZXJzcGVjdGl2ZUNhbWVyYSApIHtcclxuXHJcblx0XHRcdFx0c2NhbGUgLz0gZG9sbHlTY2FsZTtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoIHNjb3BlLm9iamVjdC5pc09ydGhvZ3JhcGhpY0NhbWVyYSApIHtcclxuXHJcblx0XHRcdFx0c2NvcGUub2JqZWN0Lnpvb20gPSBNYXRoLm1heCggc2NvcGUubWluWm9vbSwgTWF0aC5taW4oIHNjb3BlLm1heFpvb20sIHNjb3BlLm9iamVjdC56b29tICogZG9sbHlTY2FsZSApICk7XHJcblx0XHRcdFx0c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuXHRcdFx0XHR6b29tQ2hhbmdlZCA9IHRydWU7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcclxuXHRcdFx0XHRzY29wZS5lbmFibGVab29tID0gZmFsc2U7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRvbGx5SW4oIGRvbGx5U2NhbGUgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhICkge1xyXG5cclxuXHRcdFx0XHRzY2FsZSAqPSBkb2xseVNjYWxlO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhICkge1xyXG5cclxuXHRcdFx0XHRzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KCBzY29wZS5taW5ab29tLCBNYXRoLm1pbiggc2NvcGUubWF4Wm9vbSwgc2NvcGUub2JqZWN0Lnpvb20gLyBkb2xseVNjYWxlICkgKTtcclxuXHRcdFx0XHRzY29wZS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG5cdFx0XHRcdHpvb21DaGFuZ2VkID0gdHJ1ZTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJyApO1xyXG5cdFx0XHRcdHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly9cclxuXHRcdC8vIGV2ZW50IGNhbGxiYWNrcyAtIHVwZGF0ZSB0aGUgb2JqZWN0IHN0YXRlXHJcblx0XHQvL1xyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRyb3RhdGVTdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duRG9sbHkoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0ZG9sbHlTdGFydC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUGFuKCBldmVudCApIHtcclxuXHJcblx0XHRcdHBhblN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0cm90YXRlRW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xyXG5cclxuXHRcdFx0cm90YXRlRGVsdGEuc3ViVmVjdG9ycyggcm90YXRlRW5kLCByb3RhdGVTdGFydCApLm11bHRpcGx5U2NhbGFyKCBzY29wZS5yb3RhdGVTcGVlZCApO1xyXG5cclxuXHRcdFx0Y29uc3QgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQ7XHJcblxyXG5cdFx0XHRyb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudEhlaWdodCApOyAvLyB5ZXMsIGhlaWdodFxyXG5cclxuXHRcdFx0cm90YXRlVXAoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICk7XHJcblxyXG5cdFx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcclxuXHJcblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRkb2xseUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcclxuXHJcblx0XHRcdGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcclxuXHJcblx0XHRcdGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcclxuXHJcblx0XHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKCBkb2xseURlbHRhLnkgPCAwICkge1xyXG5cclxuXHRcdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xyXG5cclxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVBhbiggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRwYW5FbmQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XHJcblxyXG5cdFx0XHRwYW5EZWx0YS5zdWJWZWN0b3JzKCBwYW5FbmQsIHBhblN0YXJ0ICkubXVsdGlwbHlTY2FsYXIoIHNjb3BlLnBhblNwZWVkICk7XHJcblxyXG5cdFx0XHRwYW4oIHBhbkRlbHRhLngsIHBhbkRlbHRhLnkgKTtcclxuXHJcblx0XHRcdHBhblN0YXJ0LmNvcHkoIHBhbkVuZCApO1xyXG5cclxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlV2hlZWwoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBldmVudC5kZWx0YVkgPCAwICkge1xyXG5cclxuXHRcdFx0XHRkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICggZXZlbnQuZGVsdGFZID4gMCApIHtcclxuXHJcblx0XHRcdFx0ZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlS2V5RG93biggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRsZXQgbmVlZHNVcGRhdGUgPSBmYWxzZTtcclxuXHJcblx0XHRcdHN3aXRjaCAoIGV2ZW50LmNvZGUgKSB7XHJcblxyXG5cdFx0XHRcdGNhc2Ugc2NvcGUua2V5cy5VUDpcclxuXHRcdFx0XHRcdHBhbiggMCwgc2NvcGUua2V5UGFuU3BlZWQgKTtcclxuXHRcdFx0XHRcdG5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIHNjb3BlLmtleXMuQk9UVE9NOlxyXG5cdFx0XHRcdFx0cGFuKCAwLCAtIHNjb3BlLmtleVBhblNwZWVkICk7XHJcblx0XHRcdFx0XHRuZWVkc1VwZGF0ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBzY29wZS5rZXlzLkxFRlQ6XHJcblx0XHRcdFx0XHRwYW4oIHNjb3BlLmtleVBhblNwZWVkLCAwICk7XHJcblx0XHRcdFx0XHRuZWVkc1VwZGF0ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBzY29wZS5rZXlzLlJJR0hUOlxyXG5cdFx0XHRcdFx0cGFuKCAtIHNjb3BlLmtleVBhblNwZWVkLCAwICk7XHJcblx0XHRcdFx0XHRuZWVkc1VwZGF0ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggbmVlZHNVcGRhdGUgKSB7XHJcblxyXG5cdFx0XHRcdC8vIHByZXZlbnQgdGhlIGJyb3dzZXIgZnJvbSBzY3JvbGxpbmcgb24gY3Vyc29yIGtleXNcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoKSB7XHJcblxyXG5cdFx0XHRpZiAoIHBvaW50ZXJzLmxlbmd0aCA9PT0gMSApIHtcclxuXHJcblx0XHRcdFx0cm90YXRlU3RhcnQuc2V0KCBwb2ludGVyc1sgMCBdLnBhZ2VYLCBwb2ludGVyc1sgMCBdLnBhZ2VZICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zdCB4ID0gMC41ICogKCBwb2ludGVyc1sgMCBdLnBhZ2VYICsgcG9pbnRlcnNbIDEgXS5wYWdlWCApO1xyXG5cdFx0XHRcdGNvbnN0IHkgPSAwLjUgKiAoIHBvaW50ZXJzWyAwIF0ucGFnZVkgKyBwb2ludGVyc1sgMSBdLnBhZ2VZICk7XHJcblxyXG5cdFx0XHRcdHJvdGF0ZVN0YXJ0LnNldCggeCwgeSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0UGFuKCkge1xyXG5cclxuXHRcdFx0aWYgKCBwb2ludGVycy5sZW5ndGggPT09IDEgKSB7XHJcblxyXG5cdFx0XHRcdHBhblN0YXJ0LnNldCggcG9pbnRlcnNbIDAgXS5wYWdlWCwgcG9pbnRlcnNbIDAgXS5wYWdlWSApO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgeCA9IDAuNSAqICggcG9pbnRlcnNbIDAgXS5wYWdlWCArIHBvaW50ZXJzWyAxIF0ucGFnZVggKTtcclxuXHRcdFx0XHRjb25zdCB5ID0gMC41ICogKCBwb2ludGVyc1sgMCBdLnBhZ2VZICsgcG9pbnRlcnNbIDEgXS5wYWdlWSApO1xyXG5cclxuXHRcdFx0XHRwYW5TdGFydC5zZXQoIHgsIHkgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5KCkge1xyXG5cclxuXHRcdFx0Y29uc3QgZHggPSBwb2ludGVyc1sgMCBdLnBhZ2VYIC0gcG9pbnRlcnNbIDEgXS5wYWdlWDtcclxuXHRcdFx0Y29uc3QgZHkgPSBwb2ludGVyc1sgMCBdLnBhZ2VZIC0gcG9pbnRlcnNbIDEgXS5wYWdlWTtcclxuXHJcblx0XHRcdGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xyXG5cclxuXHRcdFx0ZG9sbHlTdGFydC5zZXQoIDAsIGRpc3RhbmNlICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseVBhbigpIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSApIGhhbmRsZVRvdWNoU3RhcnREb2xseSgpO1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gKSBoYW5kbGVUb3VjaFN0YXJ0UGFuKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseVJvdGF0ZSgpIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSApIGhhbmRsZVRvdWNoU3RhcnREb2xseSgpO1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgKSBoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHBvaW50ZXJzLmxlbmd0aCA9PSAxICkge1xyXG5cclxuXHRcdFx0XHRyb3RhdGVFbmQuc2V0KCBldmVudC5wYWdlWCwgZXZlbnQucGFnZVkgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHBvc2l0aW9uID0gZ2V0U2Vjb25kUG9pbnRlclBvc2l0aW9uKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRjb25zdCB4ID0gMC41ICogKCBldmVudC5wYWdlWCArIHBvc2l0aW9uLnggKTtcclxuXHRcdFx0XHRjb25zdCB5ID0gMC41ICogKCBldmVudC5wYWdlWSArIHBvc2l0aW9uLnkgKTtcclxuXHJcblx0XHRcdFx0cm90YXRlRW5kLnNldCggeCwgeSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cm90YXRlRGVsdGEuc3ViVmVjdG9ycyggcm90YXRlRW5kLCByb3RhdGVTdGFydCApLm11bHRpcGx5U2NhbGFyKCBzY29wZS5yb3RhdGVTcGVlZCApO1xyXG5cclxuXHRcdFx0Y29uc3QgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQ7XHJcblxyXG5cdFx0XHRyb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudEhlaWdodCApOyAvLyB5ZXMsIGhlaWdodFxyXG5cclxuXHRcdFx0cm90YXRlVXAoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICk7XHJcblxyXG5cdFx0XHRyb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApIHtcclxuXHJcblx0XHRcdGlmICggcG9pbnRlcnMubGVuZ3RoID09PSAxICkge1xyXG5cclxuXHRcdFx0XHRwYW5FbmQuc2V0KCBldmVudC5wYWdlWCwgZXZlbnQucGFnZVkgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHBvc2l0aW9uID0gZ2V0U2Vjb25kUG9pbnRlclBvc2l0aW9uKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRjb25zdCB4ID0gMC41ICogKCBldmVudC5wYWdlWCArIHBvc2l0aW9uLnggKTtcclxuXHRcdFx0XHRjb25zdCB5ID0gMC41ICogKCBldmVudC5wYWdlWSArIHBvc2l0aW9uLnkgKTtcclxuXHJcblx0XHRcdFx0cGFuRW5kLnNldCggeCwgeSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGFuRGVsdGEuc3ViVmVjdG9ycyggcGFuRW5kLCBwYW5TdGFydCApLm11bHRpcGx5U2NhbGFyKCBzY29wZS5wYW5TcGVlZCApO1xyXG5cclxuXHRcdFx0cGFuKCBwYW5EZWx0YS54LCBwYW5EZWx0YS55ICk7XHJcblxyXG5cdFx0XHRwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlRG9sbHkoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0Y29uc3QgcG9zaXRpb24gPSBnZXRTZWNvbmRQb2ludGVyUG9zaXRpb24oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRjb25zdCBkeCA9IGV2ZW50LnBhZ2VYIC0gcG9zaXRpb24ueDtcclxuXHRcdFx0Y29uc3QgZHkgPSBldmVudC5wYWdlWSAtIHBvc2l0aW9uLnk7XHJcblxyXG5cdFx0XHRjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcclxuXHJcblx0XHRcdGRvbGx5RW5kLnNldCggMCwgZGlzdGFuY2UgKTtcclxuXHJcblx0XHRcdGRvbGx5RGVsdGEuc2V0KCAwLCBNYXRoLnBvdyggZG9sbHlFbmQueSAvIGRvbGx5U3RhcnQueSwgc2NvcGUuem9vbVNwZWVkICkgKTtcclxuXHJcblx0XHRcdGRvbGx5T3V0KCBkb2xseURlbHRhLnkgKTtcclxuXHJcblx0XHRcdGRvbGx5U3RhcnQuY29weSggZG9sbHlFbmQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlRG9sbHlQYW4oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tICkgaGFuZGxlVG91Y2hNb3ZlRG9sbHkoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiApIGhhbmRsZVRvdWNoTW92ZVBhbiggZXZlbnQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlRG9sbHlSb3RhdGUoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tICkgaGFuZGxlVG91Y2hNb3ZlRG9sbHkoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSApIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly9cclxuXHRcdC8vIGV2ZW50IGhhbmRsZXJzIC0gRlNNOiBsaXN0ZW4gZm9yIGV2ZW50cyBhbmQgcmVzZXQgc3RhdGVcclxuXHRcdC8vXHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Qb2ludGVyRG93biggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0aWYgKCBwb2ludGVycy5sZW5ndGggPT09IDAgKSB7XHJcblxyXG5cdFx0XHRcdHNjb3BlLmRvbUVsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUoIGV2ZW50LnBvaW50ZXJJZCApO1xyXG5cclxuXHRcdFx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUgKTtcclxuXHRcdFx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVydXAnLCBvblBvaW50ZXJVcCApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9cclxuXHJcblx0XHRcdGFkZFBvaW50ZXIoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRpZiAoIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnICkge1xyXG5cclxuXHRcdFx0XHRvblRvdWNoU3RhcnQoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRvbk1vdXNlRG93biggZXZlbnQgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Qb2ludGVyTW92ZSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0aWYgKCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyApIHtcclxuXHJcblx0XHRcdFx0b25Ub3VjaE1vdmUoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRvbk1vdXNlTW92ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Qb2ludGVyVXAoIGV2ZW50ICkge1xyXG5cclxuXHRcdCAgICByZW1vdmVQb2ludGVyKCBldmVudCApO1xyXG5cclxuXHRcdCAgICBpZiAoIHBvaW50ZXJzLmxlbmd0aCA9PT0gMCApIHtcclxuXHJcblx0XHQgICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKCBldmVudC5wb2ludGVySWQgKTtcclxuXHJcblx0XHQgICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSApO1xyXG5cdFx0ICAgICAgICBzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVydXAnLCBvblBvaW50ZXJVcCApO1xyXG5cclxuXHRcdCAgICB9XHJcblxyXG5cdFx0ICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9lbmRFdmVudCApO1xyXG5cclxuXHRcdCAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uUG9pbnRlckNhbmNlbCggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRyZW1vdmVQb2ludGVyKCBldmVudCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvbk1vdXNlRG93biggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRsZXQgbW91c2VBY3Rpb247XHJcblxyXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5idXR0b24gKSB7XHJcblxyXG5cdFx0XHRcdGNhc2UgMDpcclxuXHJcblx0XHRcdFx0XHRtb3VzZUFjdGlvbiA9IHNjb3BlLm1vdXNlQnV0dG9ucy5MRUZUO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgMTpcclxuXHJcblx0XHRcdFx0XHRtb3VzZUFjdGlvbiA9IHNjb3BlLm1vdXNlQnV0dG9ucy5NSURETEU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAyOlxyXG5cclxuXHRcdFx0XHRcdG1vdXNlQWN0aW9uID0gc2NvcGUubW91c2VCdXR0b25zLlJJR0hUO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblxyXG5cdFx0XHRcdFx0bW91c2VBY3Rpb24gPSAtIDE7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzd2l0Y2ggKCBtb3VzZUFjdGlvbiApIHtcclxuXHJcblx0XHRcdFx0Y2FzZSBNT1VTRS5ET0xMWTpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGhhbmRsZU1vdXNlRG93bkRvbGx5KCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuRE9MTFk7XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgTU9VU0UuUk9UQVRFOlxyXG5cclxuXHRcdFx0XHRcdGlmICggZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5ICkge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0aGFuZGxlTW91c2VEb3duUGFuKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5QQU47XHJcblxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuUk9UQVRFO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBNT1VTRS5QQU46XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRoYW5kbGVNb3VzZURvd25Sb3RhdGUoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlJPVEFURTtcclxuXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0aGFuZGxlTW91c2VEb3duUGFuKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5QQU47XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cclxuXHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XHJcblxyXG5cdFx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9zdGFydEV2ZW50ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uTW91c2VNb3ZlKCBldmVudCApIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcclxuXHJcblx0XHRcdFx0Y2FzZSBTVEFURS5ST1RBVEU6XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGhhbmRsZU1vdXNlTW92ZVJvdGF0ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBTVEFURS5ET0xMWTpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGhhbmRsZU1vdXNlTW92ZURvbGx5KCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLlBBTjpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlTW91c2VNb3ZlUGFuKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvbk1vdXNlV2hlZWwoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSB8fCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSApIHJldHVybjtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBfc3RhcnRFdmVudCApO1xyXG5cclxuXHRcdFx0aGFuZGxlTW91c2VXaGVlbCggZXZlbnQgKTtcclxuXHJcblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9lbmRFdmVudCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvbktleURvd24oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0aGFuZGxlS2V5RG93biggZXZlbnQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KCBldmVudCApIHtcclxuXHJcblx0XHRcdHRyYWNrUG9pbnRlciggZXZlbnQgKTtcclxuXHJcblx0XHRcdHN3aXRjaCAoIHBvaW50ZXJzLmxlbmd0aCApIHtcclxuXHJcblx0XHRcdFx0Y2FzZSAxOlxyXG5cclxuXHRcdFx0XHRcdHN3aXRjaCAoIHNjb3BlLnRvdWNoZXMuT05FICkge1xyXG5cclxuXHRcdFx0XHRcdFx0Y2FzZSBUT1VDSC5ST1RBVEU6XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdFx0aGFuZGxlVG91Y2hTdGFydFJvdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcclxuXHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRjYXNlIFRPVUNILlBBTjpcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0UGFuKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfUEFOO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblxyXG5cdFx0XHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgMjpcclxuXHJcblx0XHRcdFx0XHRzd2l0Y2ggKCBzY29wZS50b3VjaGVzLlRXTyApIHtcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgVE9VQ0guRE9MTFlfUEFOOlxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRcdGhhbmRsZVRvdWNoU3RhcnREb2xseVBhbigpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX0RPTExZX1BBTjtcclxuXHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRjYXNlIFRPVUNILkRPTExZX1JPVEFURTpcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSAmJiBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0RG9sbHlSb3RhdGUoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWV9ST1RBVEU7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHJcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHJcblx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIHN0YXRlICE9PSBTVEFURS5OT05FICkge1xyXG5cclxuXHRcdFx0XHRzY29wZS5kaXNwYXRjaEV2ZW50KCBfc3RhcnRFdmVudCApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvblRvdWNoTW92ZSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHR0cmFja1BvaW50ZXIoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcclxuXHJcblx0XHRcdFx0Y2FzZSBTVEFURS5UT1VDSF9ST1RBVEU6XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBTVEFURS5UT1VDSF9QQU46XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGhhbmRsZVRvdWNoTW92ZVBhbiggZXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBTVEFURS5UT1VDSF9ET0xMWV9QQU46XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSAmJiBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGhhbmRsZVRvdWNoTW92ZURvbGx5UGFuKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLlRPVUNIX0RPTExZX1JPVEFURTpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlRG9sbHlSb3RhdGUoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblxyXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvbkNvbnRleHRNZW51KCBldmVudCApIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhZGRQb2ludGVyKCBldmVudCApIHtcclxuXHJcblx0XHRcdHBvaW50ZXJzLnB1c2goIGV2ZW50ICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZVBvaW50ZXIoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0ZGVsZXRlIHBvaW50ZXJQb3NpdGlvbnNbIGV2ZW50LnBvaW50ZXJJZCBdO1xyXG5cclxuXHRcdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpICsrICkge1xyXG5cclxuXHRcdFx0XHRpZiAoIHBvaW50ZXJzWyBpIF0ucG9pbnRlcklkID09IGV2ZW50LnBvaW50ZXJJZCApIHtcclxuXHJcblx0XHRcdFx0XHRwb2ludGVycy5zcGxpY2UoIGksIDEgKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0cmFja1BvaW50ZXIoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0bGV0IHBvc2l0aW9uID0gcG9pbnRlclBvc2l0aW9uc1sgZXZlbnQucG9pbnRlcklkIF07XHJcblxyXG5cdFx0XHRpZiAoIHBvc2l0aW9uID09PSB1bmRlZmluZWQgKSB7XHJcblxyXG5cdFx0XHRcdHBvc2l0aW9uID0gbmV3IFZlY3RvcjIoKTtcclxuXHRcdFx0XHRwb2ludGVyUG9zaXRpb25zWyBldmVudC5wb2ludGVySWQgXSA9IHBvc2l0aW9uO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cG9zaXRpb24uc2V0KCBldmVudC5wYWdlWCwgZXZlbnQucGFnZVkgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0U2Vjb25kUG9pbnRlclBvc2l0aW9uKCBldmVudCApIHtcclxuXHJcblx0XHRcdGNvbnN0IHBvaW50ZXIgPSAoIGV2ZW50LnBvaW50ZXJJZCA9PT0gcG9pbnRlcnNbIDAgXS5wb2ludGVySWQgKSA/IHBvaW50ZXJzWyAxIF0gOiBwb2ludGVyc1sgMCBdO1xyXG5cclxuXHRcdFx0cmV0dXJuIHBvaW50ZXJQb3NpdGlvbnNbIHBvaW50ZXIucG9pbnRlcklkIF07XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vXHJcblxyXG5cdFx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51ICk7XHJcblxyXG5cdFx0c2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duICk7XHJcblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyY2FuY2VsJywgb25Qb2ludGVyQ2FuY2VsICk7XHJcblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd3aGVlbCcsIG9uTW91c2VXaGVlbCwgeyBwYXNzaXZlOiBmYWxzZSB9ICk7XHJcblxyXG5cdFx0Ly8gZm9yY2UgYW4gdXBkYXRlIGF0IHN0YXJ0XHJcblxyXG5cdFx0dGhpcy51cGRhdGUoKTtcclxuXHJcblx0fVxyXG5cclxufVxyXG5cclxuXHJcbi8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLlxyXG4vLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxyXG4vLyBUaGlzIGlzIHZlcnkgc2ltaWxhciB0byBPcmJpdENvbnRyb2xzLCBhbm90aGVyIHNldCBvZiB0b3VjaCBiZWhhdmlvclxyXG4vL1xyXG4vLyAgICBPcmJpdCAtIHJpZ2h0IG1vdXNlLCBvciBsZWZ0IG1vdXNlICsgY3RybC9tZXRhL3NoaWZ0S2V5IC8gdG91Y2g6IHR3by1maW5nZXIgcm90YXRlXHJcbi8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvLWZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXHJcbi8vICAgIFBhbiAtIGxlZnQgbW91c2UsIG9yIGFycm93IGtleXMgLyB0b3VjaDogb25lLWZpbmdlciBtb3ZlXHJcblxyXG5jbGFzcyBNYXBDb250cm9scyBleHRlbmRzIE9yYml0Q29udHJvbHMge1xyXG5cclxuXHRjb25zdHJ1Y3Rvciggb2JqZWN0LCBkb21FbGVtZW50ICkge1xyXG5cclxuXHRcdHN1cGVyKCBvYmplY3QsIGRvbUVsZW1lbnQgKTtcclxuXHJcblx0XHR0aGlzLnNjcmVlblNwYWNlUGFubmluZyA9IGZhbHNlOyAvLyBwYW4gb3J0aG9nb25hbCB0byB3b3JsZC1zcGFjZSBkaXJlY3Rpb24gY2FtZXJhLnVwXHJcblxyXG5cdFx0dGhpcy5tb3VzZUJ1dHRvbnMuTEVGVCA9IE1PVVNFLlBBTjtcclxuXHRcdHRoaXMubW91c2VCdXR0b25zLlJJR0hUID0gTU9VU0UuUk9UQVRFO1xyXG5cclxuXHRcdHRoaXMudG91Y2hlcy5PTkUgPSBUT1VDSC5QQU47XHJcblx0XHR0aGlzLnRvdWNoZXMuVFdPID0gVE9VQ0guRE9MTFlfUk9UQVRFO1xyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBPcmJpdENvbnRyb2xzLCBNYXBDb250cm9scyB9O1xyXG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBSZW5kZXJlci5qcyBcclxuLy8gTWFuYWdlciB0aGUgVEhFRS5KUyBSZW5kZXJlciBDcmVhdGVcclxuXHJcbmltcG9ydCBFeHBlcmllbmNlIGZyb20gXCIuL0V4cGVyaWVuY2VcIlxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSB0aGlzLmV4cGVyaWVuY2Uuc2l6ZXNcclxuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcy5leHBlcmllbmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5lQ2FudmFzID0gdGhpcy5leHBlcmllbmNlLmVDYW52YXNcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuZXhwZXJpZW5jZS5jYW1lcmFcclxuXHJcbiAgICAgICAgdGhpcy5zZXRJbnN0YW5jZSgpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcclxuICAgICAgICAgICAgY2FudmFzOiB0aGlzLmVDYW52YXMsXHJcbiAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uub3V0cHV0RW5jb2RpbmcgPSBUSFJFRS5zUkdCRW5jb2Rpbmc7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS50b25lTWFwcGluZyA9IFRIUkVFLlJlaW5oYXJkVG9uZU1hcHBpbmc7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXRDbGVhckNvbG9yKCcjMjExZDIwJylcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnNldFNpemUodGhpcy5zaXplcy53aWR0aCx0aGlzLnNpemVzLmhlaWdodClcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnNldFBpeGVsUmF0aW8odGhpcy5zaXplcy5waXhlbFJhdGlvKVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpe1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0U2l6ZSh0aGlzLnNpemVzLndpZHRoLHRoaXMuc2l6ZXMuaGVpZ2h0KVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0UGl4ZWxSYXRpbyh0aGlzLnNpemVzLnBpeGVsUmF0aW8pXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5yZW5kZXIodGhpcy5zY2VuZSx0aGlzLmNhbWVyYS5pbnN0YW5jZSlcclxuICAgIH1cclxufVxyXG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBBdGxhcy5qc1xyXG4vLyBNYW5hZ2VyIHRoZSBiYXNpYyBhdGxhcyByZW5kZXJlclxyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCJ0aHJlZVwiXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi4vLi4vRXhwZXJpZW5jZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdGxhcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHRoaXMuZXhwZXJpZW5jZS5zY2VuZVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gdGhpcy5leHBlcmllbmNlLnJlc291cmNlc1xyXG4gICAgICAgIHRoaXMudGltZSA9IHRoaXMuZXhwZXJpZW5jZS50aW1lXHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuZXhwZXJpZW5jZS5kZWJ1Z1xyXG4gICAgICAgIHRoaXMuY2FzdGVyID0gdGhpcy5leHBlcmllbmNlLmNhc3RlclxyXG5cclxuICAgICAgICBpZiAodGhpcy5kZWJ1Zy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlciA9IHRoaXMuZGVidWcudWkuYWRkRm9sZGVyKFwiQXRsYXNcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0R2VvbWV0cnkoKVxyXG4gICAgICAgIHRoaXMuc2V0VGV4dHVyZXMoKVxyXG4gICAgICAgIHRoaXMuc2V0TWF0ZXJpYWwoKVxyXG4gICAgICAgIHRoaXMuc2V0TWVzaCgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIucmVnaXN0ZXIodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBzZXRHZW9tZXRyeSgpIHtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMTkxLjYsIDEzMi45LCAyNTYsIDEyOClcclxuICAgICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXYyID0gdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnV2XHJcbiAgICB9XHJcbiAgICBzZXRUZXh0dXJlcygpIHtcclxuICAgICAgICB0aGlzLnRleHR1cmVzID0ge31cclxuXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5hdGxhcyA9IHRoaXMucmVzb3VyY2VzLml0ZW1zLmF0bGFzXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5hdGxhcy5lbmNvZGluZyA9IFRIUkVFLnNSR0JFbmNvZGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMuYXRsYXMucmVwZWF0LnNldCgxLCAxKVxyXG4gICAgICAgIHRoaXMudGV4dHVyZXMuYXRsYXMud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMuYXRsYXMud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbCA9IHRoaXMucmVzb3VyY2VzLml0ZW1zLmF0bGFzTm9ybWFsXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5ub3JtYWwuZW5jb2RpbmcgPSBUSFJFRS5MaW5lYXJFbmNvZGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbC53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcblxyXG4gICAgICAgIHRoaXMudGV4dHVyZXMuZGlzcGxhY2VtZW50ID0gdGhpcy5yZXNvdXJjZXMuaXRlbXMuYXRsYXNEaXNwbGFjZW1lbnRcclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbC53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5ub3JtYWwud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmVzLm9jY2x1c2lvbiA9IHRoaXMucmVzb3VyY2VzLml0ZW1zLmF0bGFzT2NjbHVzaW9uXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5ub3JtYWwud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5yb3VnaG5lc3MgPSB0aGlzLnJlc291cmNlcy5pdGVtcy5hdGxhc1JvdWdobmVzc1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbC53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcbiAgICB9XHJcbiAgICBzZXRNYXRlcmlhbCgpIHtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgICAgICAgICAgbWFwOiB0aGlzLnRleHR1cmVzLmF0bGFzLFxyXG4gICAgICAgICAgICBub3JtYWxNYXA6IHRoaXMudGV4dHVyZXMubm9ybWFsLFxyXG4gICAgICAgICAgICBhb01hcDogdGhpcy50ZXh0dXJlcy5vY2NsdXNpb24sXHJcbiAgICAgICAgICAgIGRpc3BsYWNlbWVudE1hcDogdGhpcy50ZXh0dXJlcy5kaXNwbGFjZW1lbnQsXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLmFvTWFwSW50ZW5zaXR5ID0gMzVcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlID0gMS41XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5ub3JtYWxTY2FsZSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAuMywgMC4zKVxyXG4gICAgfVxyXG4gICAgc2V0TWVzaCgpIHtcclxuICAgICAgICB0aGlzLm1vZGVsID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbClcclxuICAgICAgICB0aGlzLm1vZGVsLm5hbWUgPSBcImF0bGFzXCJcclxuXHJcbiAgICAgICAgdGhpcy5tb2RlbC5yb3RhdGlvbi54ID0gLU1hdGguUEkgKiAwLjVcclxuICAgICAgICB0aGlzLm1vZGVsLnJlY2VpdmVTaGFkb3cgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5tb2RlbClcclxuICAgIH1cclxuXHJcbiAgICBjbGljaygpe1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKSB7fVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIEZveC5qcyBcclxuLy8gTWFuYWdlciB0aGUgRm94IFJlc291cmNlc1xyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuXHJcbmltcG9ydCBFeHBlcmllbmNlIGZyb20gXCIuLi8uLi9FeHBlcmllbmNlXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZveCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHRoaXMuZXhwZXJpZW5jZS5zY2VuZVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gdGhpcy5leHBlcmllbmNlLnJlc291cmNlc1xyXG4gICAgICAgIHRoaXMudGltZSA9IHRoaXMuZXhwZXJpZW5jZS50aW1lXHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuZXhwZXJpZW5jZS5kZWJ1Z1xyXG4gICAgICAgIHRoaXMuY2FzdGVyID0gdGhpcy5leHBlcmllbmNlLmNhc3RlclxyXG5cclxuICAgICAgICBpZiAodGhpcy5kZWJ1Zy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlciA9IHRoaXMuZGVidWcudWkuYWRkRm9sZGVyKFwiZm94XCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlc291cmNlID0gdGhpcy5yZXNvdXJjZXMuaXRlbXMuZm94XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNldE1vZGVsKClcclxuICAgICAgICB0aGlzLnNldEFuaW1hdGlvbigpXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIucmVnaXN0ZXIodGhpcylcclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHNldE1vZGVsKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLnJlc291cmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5tb2RlbC5uYW1lID0gXCJmb3hcIlxyXG4gICAgICAgIHRoaXMubW9kZWwuc2NhbGUuc2V0KDAuMDIsIDAuMDIsIDAuMDIpXHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5tb2RlbClcclxuXHJcbiAgICAgICAgdGhpcy5tb2RlbC50cmF2ZXJzZSgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHNldEFuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IHt9XHJcblxyXG4gICAgICAgIC8vIE1peGVyXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24ubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIodGhpcy5tb2RlbClcclxuXHJcbiAgICAgICAgLy8gQWN0aW9uc1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFjdGlvbnMgPSB7fVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hY3Rpb25zLmlkbGUgPSB0aGlzLmFuaW1hdGlvbi5taXhlci5jbGlwQWN0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLmFuaW1hdGlvbnNbMF1cclxuICAgICAgICApXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWN0aW9ucy53YWxraW5nID0gdGhpcy5hbmltYXRpb24ubWl4ZXIuY2xpcEFjdGlvbihcclxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5hbmltYXRpb25zWzFdXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFjdGlvbnMucnVubmluZyA9IHRoaXMuYW5pbWF0aW9uLm1peGVyLmNsaXBBY3Rpb24oXHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuYW5pbWF0aW9uc1syXVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWN0aW9ucy5jdXJyZW50ID0gdGhpcy5hbmltYXRpb24uYWN0aW9ucy53YWxraW5nXHJcblxyXG4gICAgICAgIC8vIHRoaXMuYW5pbWF0aW9uLmFjdGlvbnMuY3VycmVudC5wbGF5KClcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheSA9IChuYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjdGlvbiA9IHRoaXMuYW5pbWF0aW9uLmFjdGlvbnNbbmFtZV1cclxuICAgICAgICAgICAgY29uc3Qgb2xkQWN0aW9uID0gdGhpcy5hbmltYXRpb24uYWN0aW9ucy5jdXJyZW50XHJcbiAgICAgICAgICAgIG5ld0FjdGlvbi5yZXNldCgpXHJcbiAgICAgICAgICAgIG5ld0FjdGlvbi5wbGF5KClcclxuICAgICAgICAgICAgbmV3QWN0aW9uLmNyb3NzRmFkZUZyb20ob2xkQWN0aW9uLCAxKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYWN0aW9ucy5jdXJyZW50ID0gbmV3QWN0aW9uXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kZWJ1Zy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVidWdPYmplY3QgPSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5SWRsZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnBsYXkoXCJpZGxlXCIpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcGxheVdhbGtpbmc6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5KFwid2Fsa2luZ1wiKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBsYXlSdW5uaW5nOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheShcInJ1bm5pbmdcIilcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQoZGVidWdPYmplY3QsIFwicGxheUlkbGVcIilcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQoZGVidWdPYmplY3QsIFwicGxheVdhbGtpbmdcIilcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQoZGVidWdPYmplY3QsJ3BsYXlSdW5uaW5nJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24ubWl4ZXIudXBkYXRlKHRoaXMudGltZS5kZWx0YSAqIDAuMDAxKVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi4vLi4vRXhwZXJpZW5jZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb25rZXkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmV4cGVyaWVuY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHRoaXMuZXhwZXJpZW5jZS5yZXNvdXJjZXNcclxuICAgICAgICB0aGlzLnRpbWUgPSB0aGlzLmV4cGVyaWVuY2UudGltZVxyXG4gICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLmV4cGVyaWVuY2UuZGVidWdcclxuXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzLml0ZW1zLm1vbmtleVxyXG5cclxuICAgICAgICB0aGlzLnNldE1vZGVsKClcclxuXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIgPSB0aGlzLmV4cGVyaWVuY2UuY2FzdGVyXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIucmVnaXN0ZXIodGhpcylcclxuICAgIH1cclxuXHJcbiAgICBzZXRNb2RlbCgpIHtcclxuICAgICAgICB0aGlzLm1vZGVsID0gdGhpcy5yZXNvdXJjZS5zY2VuZVxyXG4gICAgICAgIHRoaXMubW9kZWwuc2NhbGUuc2V0KDIsIDIsIDIpXHJcbiAgICAgICAgdGhpcy5tb2RlbC5wb3NpdGlvbi5zZXQoLTI1LCAyLCAzMClcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1vZGVsKVxyXG4gICAgICAgIHRoaXMubW9kZWwudHJhdmVyc2UoKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGN1cnNvckNsaWNrKCkge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIEVudmlyb25tZW50LmpzIFxyXG4vLyBNYW5hZ2VyIHRoZSBFbnZpcm9ubWVudFxyXG4vLyBJbmNsdWRlIGxpZ2h0LCBlbnZpck1hcFxyXG4vLyBJbmNsdWRlIGhvdyBlbnZpck1hcCBlZmZlY3QgdGhlIG1hdGVyaWFsLCBpdCBoYXMgYSBsb29wIHNldCBmb3IgZXZlcnkgb2JqZWN0IGluIHNjZW5lXHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4uL0V4cGVyaWVuY2VcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW52aXJvbm1lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmV4cGVyaWVuY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHRoaXMuZXhwZXJpZW5jZS5yZXNvdXJjZXNcclxuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5leHBlcmllbmNlLmRlYnVnXHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGVidWcuYWN0aXZlKXtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlciA9IHRoaXMuZGVidWcudWkuYWRkRm9sZGVyKFwiZW52aXJvbm1lbnRcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3VuTGlnaHQoKVxyXG4gICAgICAgIHRoaXMuc2V0RW52aXJvbm1lbnRNYXAoKVxyXG4gICAgfVxyXG5cclxuICAgIHNldFN1bkxpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRJbnRlbnNpdHkgPSAxMFxyXG4gICAgICAgIHRoaXMuc3VuTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodChcclxuICAgICAgICAgICAgMHhmZmZmZmYsXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbmFsTGlnaHRJbnRlbnNpdHlcclxuICAgICAgICApXHJcbiAgICAgICAgdGhpcy5zdW5MaWdodC5wb3NpdGlvbi5zZXQoLTQwLCA0MCwgNDApXHJcbiAgICAgICAgdGhpcy5zdW5MaWdodC5jYXN0U2hhZG93ID0gdHJ1ZVxyXG4gICAgICAgIC8vIHRoaXMuc3VuTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAxNVxyXG4gICAgICAgIC8vIHRoaXMuc3VuTGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSA1MTJcclxuICAgICAgICAvLyB0aGlzLnN1bkxpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDUxMlxyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnN1bkxpZ2h0KVxyXG5cclxuICAgICAgICBpZih0aGlzLmRlYnVnLmFjdGl2ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGVidWdGb2xkZXIuYWRkKHRoaXMuc3VuTGlnaHQsXCJpbnRlbnNpdHlcIikubmFtZSgnc3VuTGlnaHRJbnRlbnNpdHknKS5taW4oMCkubWF4KDEwKS5zdGVwKDAuMDAxKVxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyLmFkZCh0aGlzLnN1bkxpZ2h0LnBvc2l0aW9uLFwieFwiKS5uYW1lKCdzdW5MaWdodEludGVuc2l0eScpLm1pbigtNSkubWF4KDUpLnN0ZXAoMC4wMDEpXHJcbiAgICAgICAgICAgIHRoaXMuZGVidWdGb2xkZXIuYWRkKHRoaXMuc3VuTGlnaHQucG9zaXRpb24sXCJ5XCIpLm5hbWUoJ3N1bkxpZ2h0SW50ZW5zaXR5JykubWluKC01KS5tYXgoNSkuc3RlcCgwLjAwMSlcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQodGhpcy5zdW5MaWdodC5wb3NpdGlvbixcInpcIikubmFtZSgnc3VuTGlnaHRJbnRlbnNpdHknKS5taW4oLTUpLm1heCg1KS5zdGVwKDAuMDAxKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0RW52aXJvbm1lbnRNYXAoKSB7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudE1hcCA9IHt9XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudE1hcC5pbnRlbnNpdHkgPSAwLjNcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50TWFwLnRleHR1cmUgPSB0aGlzLnJlc291cmNlcy5pdGVtcy5lbnZpcm9ubWVudE1hcFRleHR1cmVcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50TWFwLnRleHR1cmUuZW5jb2RpbmcgPSBUSFJFRS5zUkdCRW5jb2RpbmdcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5lbnZpcm9ubWVudCA9IHRoaXMuZW52aXJvbm1lbnRNYXAudGV4dHVyZVxyXG5cclxuICAgICAgICB0aGlzLmVudmlyb25tZW50TWFwLnVwZGF0ZU1hdGVyaWFsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWxcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmVudk1hcCA9IHRoaXMuZW52aXJvbm1lbnRNYXAudGV4dHVyZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmVudk1hcEludGVuc2l0eSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnRNYXAuaW50ZW5zaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRNYXAudXBkYXRlTWF0ZXJpYWwoKVxyXG5cclxuICAgICAgICBpZih0aGlzLmRlYnVnLmFjdGl2ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGVidWdGb2xkZXIuYWRkKHRoaXMuZW52aXJvbm1lbnRNYXAsXCJpbnRlbnNpdHlcIikubmFtZSgnZW52TWFwSW50ZW5zaXR5JykubWluKDApLm1heCg0KS5zdGVwKDAuMDAxKS5vbkNoYW5nZSh0aGlzLmVudmlyb25tZW50TWFwLnVwZGF0ZU1hdGVyaWFsKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyB3b3JkLmpzXHJcbi8vIE1hbmFnZXIgdGhlIHJlbmRlciB3b3JsZCBvdXRsaW5lXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi4vRXhwZXJpZW5jZVwiXHJcbmltcG9ydCBFbnZpcm9ubWVudCBmcm9tIFwiLi9FbnZpcm9ubWVudFwiXHJcbmltcG9ydCBIZWxwZXIgZnJvbSBcIi4uLy4uL1V0aWxzL0hlbHBlclwiXHJcblxyXG5pbXBvcnQgRm94IGZyb20gXCIuL0F0bGFzL0ZveFwiXHJcbmltcG9ydCBNb25rZXkgZnJvbSBcIi4vQXRsYXMvTW9ua2V5XCJcclxuaW1wb3J0IEF0bGFzIGZyb20gXCIuL0F0bGFzL0F0bGFzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmxkIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKClcclxuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcy5leHBlcmllbmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB0aGlzLmV4cGVyaWVuY2UucmVzb3VyY2VzXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIgPSB0aGlzLmV4cGVyaWVuY2UuY2FzdGVyXHJcblxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzLm9uKFwicmVhZHlcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc291cmNlcyBhcmUgcmVhZHlcIilcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm94ID0gbmV3IEZveCgpXHJcbiAgICAgICAgICAgIHRoaXMubW9ua2V5ID0gbmV3IE1vbmtleSgpXHJcbiAgICAgICAgICAgIHRoaXMuYXRsYXMgPSBuZXcgQXRsYXMoKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IG5ldyBFbnZpcm9ubWVudCgpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmhlbHBlciA9IG5ldyBIZWxwZXIoKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZveCkge1xyXG4gICAgICAgICAgICB0aGlzLmZveC51cGRhdGUoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBzb3VyY2VzLmpzIFxyXG4vLyBNYW5hZ2VyIHRoZSBhcnQgcmVzb3VyY2VzIGxvYWQgcGF0aCBhbmQgdHlwZSBpbmZvcm1hdGlvblxyXG4vLyBzdXBwb3J0ICp0ZXggKmdsdGZNb2RlbCAqY3ViZVRleFxyXG4vLyBNYW5hZ2VyIEJ5IFJlc291cmNlcy5qc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiZW52aXJvbm1lbnRNYXBUZXh0dXJlXCIsXHJcbiAgICAgICAgdHlwZTogXCJjdWJlVGV4XCIsXHJcbiAgICAgICAgcGF0aDogW1xyXG4gICAgICAgICAgICBcInN0YXRpYy90ZXh0dXJlcy9lbnZpcm9ubWVudE1hcHMvMC9weC5qcGdcIixcclxuICAgICAgICAgICAgXCJzdGF0aWMvdGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvbnguanBnXCIsXHJcbiAgICAgICAgICAgIFwic3RhdGljL3RleHR1cmVzL2Vudmlyb25tZW50TWFwcy8wL3B5LmpwZ1wiLFxyXG4gICAgICAgICAgICBcInN0YXRpYy90ZXh0dXJlcy9lbnZpcm9ubWVudE1hcHMvMC9ueS5qcGdcIixcclxuICAgICAgICAgICAgXCJzdGF0aWMvdGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvcHouanBnXCIsXHJcbiAgICAgICAgICAgIFwic3RhdGljL3RleHR1cmVzL2Vudmlyb25tZW50TWFwcy8wL256LmpwZ1wiLFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJmb3hcIixcclxuICAgICAgICB0eXBlOiBcImdsdGZNb2RlbFwiLFxyXG4gICAgICAgIHBhdGg6IFwic3RhdGljL21vZGVscy9Gb3gvZ2xURi9Gb3guZ2x0ZlwiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcIm1vbmtleVwiLFxyXG4gICAgICAgIHR5cGU6IFwiZ2x0Zk1vZGVsXCIsXHJcbiAgICAgICAgcGF0aDogXCJzdGF0aWMvbW9kZWxzL01vbmtleS9Nb25rZXkuZ2x0ZlwiLFxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJhdGxhc1wiLFxyXG4gICAgICAgIHR5cGU6XCJ0ZXhcIixcclxuICAgICAgICBwYXRoOiBcInN0YXRpYy90ZXh0dXJlcy9hdGxhcy9hdGxhc01ldGEucG5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJhdGxhc05vcm1hbFwiLFxyXG4gICAgICAgIHR5cGU6IFwidGV4XCIsXHJcbiAgICAgICAgcGF0aDogXCJzdGF0aWMvdGV4dHVyZXMvYXRsYXMvbm9ybWFsLnBuZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcImF0bGFzRGlzcGxhY2VtZW50XCIsXHJcbiAgICAgICAgdHlwZTogXCJ0ZXhcIixcclxuICAgICAgICBwYXRoOiBcInN0YXRpYy90ZXh0dXJlcy9hdGxhcy9kaXNwbGFjZW1lbnQucG5nXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiYXRsYXNPY2NsdXNpb25cIixcclxuICAgICAgICB0eXBlOiBcInRleFwiLFxyXG4gICAgICAgIHBhdGg6IFwic3RhdGljL3RleHR1cmVzL2F0bGFzL29jY2x1c2lvbi5wbmdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJhdGxhc1JvdWdobmVzc1wiLFxyXG4gICAgICAgIHR5cGU6IFwidGV4XCIsXHJcbiAgICAgICAgcGF0aDogXCJzdGF0aWMvdGV4dHVyZXMvYXRsYXMvcm91Z2huZXNzLnBuZ1wiLFxyXG4gICAgfVxyXG5dXHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIENhbnZhcy5qc1xyXG4vLyBNYW5hZ2VyIHRoZSBUSFJFRS5qcyBSZW5kZXJlclxyXG4vLyBNYW5hZ2VyIHRoZSBldmVudCBmcm9tIFJlbmRlcmVyXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi4vRXhwZXJpZW5jZS9FeHBlcmllbmNlXCI7XHJcbmltcG9ydCBQcm9maWxlIGZyb20gXCIuL1Byb2ZpbGVcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFQ2FudmFzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICAgICAgdGhpcy5wcm9maWxlID0gbmV3IFByb2ZpbGUoKVxyXG4gICAgICAgIHRoaXMucmVnaW9uID0gdGhpcy5wcm9maWxlLnJlZ2lvblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVnaW9uKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKXtcclxuICAgICAgICB0aGlzLmVDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXHJcbiAgICAgICAgdGhpcy5lQ2FudmFzLmNsYXNzTmFtZSA9IFwid2ViZ2xcIlxyXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKHRoaXMpXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodGhpcy5lQ2FudmFzLCBkb2N1bWVudC5ib2R5LmNoaWxkcmVuWzBdKVxyXG4gICAgfVxyXG5cclxuICAgIC8vY2FsbCBpbiBleHBlcmllbmNlXHJcbiAgICByYXlDbGljayhvYmosbW9kZWwpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2sgZnJvbTogXCIrIG1vZGVsLm5hbWUrIFwiIGluIGVjYW52YXNcIilcclxuICAgICAgICBpZih0aGlzLnJlZ2lvbi5yYXlDbGljayl7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaW9uLnJheUNsaWNrKG9iaixtb2RlbClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFByb2ZpbGUgZnJvbSBcIi4vUHJvZmlsZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFUmVnaW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucHJvZmlsZSA9IG5ldyBQcm9maWxlKClcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KClcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuZVJlZ2lvbmFsUHJvZmlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICB0aGlzLmVSZWdpb25hbFByb2ZpbGUuY2xhc3NOYW1lID0gXCJyZWdpb25cIlxyXG5cclxuICAgICAgICB0aGlzLmVSZWdpb25hbFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxUaXRsZS5jbGFzc05hbWUgPSBcInJlZ2lvblRpdGxlXCJcclxuICAgICAgICB0aGlzLmVSZWdpb25hbFRpdGxlLmlubmVySFRNTCA9IFwiR3JheUxhbmRcIlxyXG4gICAgICAgIHRoaXMuZVJlZ2lvbmFsUHJvZmlsZS5hcHBlbmRDaGlsZCh0aGlzLmVSZWdpb25hbFRpdGxlKVxyXG5cclxuICAgICAgICB0aGlzLmVSZWdpb25hbERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxuICAgICAgICB0aGlzLmVSZWdpb25hbERlc2NyaXB0aW9uLmNsYXNzTmFtZSA9IFwicmVnaW9uRGVzY3JpcHRpb25cIlxyXG4gICAgICAgIHRoaXMuZVJlZ2lvbmFsRGVzY3JpcHRpb24uaW5uZXJIVE1MID1cclxuICAgICAgICAgICAgXCJCdXQgdGhlIGNvaW4gc2xpcHBlZCB0aHJvdWdoIHRoZSBzbG90LCBhbmQgc2hlIHBpY2tlZCBpdCB1cCBhZ2FpbiwganVzdCBsaWtlIGxhc3QgdGltZS5cIlxyXG4gICAgICAgIHRoaXMuZVJlZ2lvbmFsUHJvZmlsZS5hcHBlbmRDaGlsZCh0aGlzLmVSZWdpb25hbERlc2NyaXB0aW9uKVxyXG5cclxuICAgICAgICB0aGlzLmVEaXNjb3ZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXHJcbiAgICAgICAgdGhpcy5lRGlzY292ZXIuY2xhc3NOYW1lID0gXCJkaXNjb3ZlclwiXHJcbiAgICAgICAgdGhpcy5lRGlzY292ZXIuaHJlZiA9IFwiXCJcclxuICAgICAgICB0aGlzLmVEaXNjb3Zlci5pbm5lckhUTUwgPSBcIkRpc2NvdmVyLi4uXCJcclxuICAgICAgICB0aGlzLmVSZWdpb25hbFByb2ZpbGUuYXBwZW5kQ2hpbGQodGhpcy5lRGlzY292ZXIpXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lUmVnaW9uYWxQcm9maWxlKVxyXG4gICAgfVxyXG5cclxuICAgIHJheUNsaWNrKG9iaiwgbW9kZWwpIHtcclxuICAgICAgICAvLyBpZCA9IG1vZGVsLm5hbWUgIT0gY29udGVudCBmb2xkZXIgbmFtZVxyXG4gICAgICAgIC8vIGlkIGlzIGVxdWFsbCB0byBjdXJyZW50IG1vZGVsIGNsaWNrZWQsIGRhdGEgbWF5IG5vdCByZWZyZXNoIHdoZW4gY2xpY2tlZFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaWQgPSBtb2RlbC5uYW1lO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2sgZnJvbTogXCIgKyB0aGlzLmlkICsgXCIgaW4gZVJlZ2lvblwiKVxyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVxdWlyZShcIi9zdGF0aWMvY29udGVudC9cIiArIHRoaXMuaWQgKyBcIi9tYWluLmpzb25cIilcclxuICAgICAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBjb250ZW50IGFib3V0IFwiICt0aGlzLmlkKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9yZWZyZXNoIHRoZSBlUmVnaW9uXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmVSZWdpb25hbFRpdGxlLmlubmVySFRNTCA9IHRoaXMuZGF0YS50aXRsZVxyXG4gICAgICAgICAgICB0aGlzLmVSZWdpb25hbERlc2NyaXB0aW9uLmlubmVySFRNTCA9IHRoaXMuZGF0YS5kZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB0aGlzLmVEaXNjb3Zlci5ocmVmID0gXCIvZXhwbG9yZT9wbGFjZT1cIiArIHRoaXMuZGF0YS5pZFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVEaXNjb3Zlci5ocmVmKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRVRlbXB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhID0gcmVxdWlyZShcIi9zdGF0aWMvY29udGVudC90ZW1wLmpzb25cIilcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRMYW5ndWFnZSA9IDBcclxuXHJcbiAgICAgICAgdGhpcy5pbml0TGFuZ3VhZ2UoKVxyXG5cclxuICAgICAgICB0aGlzLmluaXRJbnRyb2R1Y2UoKVxyXG5cclxuICAgICAgICB0aGlzLnN3aXRjaEludHJvZHVjZSgpXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRMYW5ndWFnZSgpIHtcclxuICAgICAgICB0aGlzLmVMYW5ndWFnZSA9IGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgdGhpcy5lTGFuZ3VhZ2UuaWQgPSBcImxhbmd1YWdlXCJcclxuICAgICAgICB0aGlzLmVMYW5ndWFnZS5pbm5lckhUTUwgPSB0aGlzLmRhdGEubGFuZ3VhZ2VcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZUxhbmd1YWdlKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRJbnRyb2R1Y2UoKSB7XHJcbiAgICAgICAgdGhpcy5lSW50cm9kdWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgIHRoaXMuZUludHJvZHVjZS5jbGFzc05hbWUgPSBcInRleHRcIlxyXG4gICAgICAgIHRoaXMucHV0SW50cm9kdWNlKClcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lSW50cm9kdWNlKVxyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaEludHJvZHVjZSgpIHtcclxuICAgICAgICB0aGlzLmVMYW5ndWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TGFuZ3VhZ2UgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGFuZ3VhZ2UgPSAwXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMYW5ndWFnZSA9IDFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnB1dEludHJvZHVjZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHV0SW50cm9kdWNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMYW5ndWFnZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc0ludHJvZHVjZSA9IHRoaXMud29yZExpbmUodGhpcy5kYXRhLmNoaW5lc2UpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zSW50cm9kdWNlID0gdGhpcy53b3JkTGluZSh0aGlzLmRhdGEuZW5nbGlzaClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lSW50cm9kdWNlLmlubmVySFRNTCA9IHRoaXMuc0ludHJvZHVjZVxyXG4gICAgfVxyXG5cclxuICAgIHdvcmRMaW5lKGxhbmd1YWdlKSB7XHJcbiAgICAgICAgbGV0IGksXHJcbiAgICAgICAgICAgIHdvcmQgPSBcIjxsaT5cIlxyXG4gICAgICAgIGZvciAoaSBpbiBsYW5ndWFnZS53b3JkKSB7XHJcbiAgICAgICAgICAgIHdvcmQgKz0gbGFuZ3VhZ2Uud29yZFtpXSArIFwiPC9saT5cIlxyXG4gICAgICAgICAgICB3b3JkICs9IFwiPGxpPlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3b3JkXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFRlbXAgZnJvbSBcIi4vRVRlbXBcIlxyXG5pbXBvcnQgUmVnaW9uIGZyb20gXCIuL0VSZWdpb25cIlxyXG5pbXBvcnQgQ2FudmFzIGZyb20gXCIuL0VDYW52YXNcIlxyXG5cclxubGV0IGluc3RhbmNlID0gbnVsbFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbmNlID0gdGhpc1xyXG5cclxuICAgICAgICB3aW5kb3cucHJvZmlsZSA9IHRoaXNcclxuXHJcbiAgICAgICAgdGhpcy50ZW1wID0gbmV3IFRlbXAoKVxyXG4gICAgICAgIHRoaXMucmVnaW9uID0gbmV3IFJlZ2lvbigpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9jcmVhdGUgdGhpcyBmaW5hbGx5XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKClcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuXHJcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIi4vRXZlbnRFbWl0dGVyLmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1cnNvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgICAgIHRoaXMuY29vcmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpXHJcblxyXG4gICAgICAgIGxldCBkcmFnID0gZmFsc2VcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGRyYWcgPSB0cnVlXHJcblxyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgcG9pbnRlciBwb3NpdGlvbiBpbiBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAvLyAoLTEgdG8gKzEpIGZvciBib3RoIGNvbXBvbmVudHNcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29vcmQueCA9IChldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGgpICogMiAtIDFcclxuICAgICAgICAgICAgdGhpcy5jb29yZC55ID0gLShldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0KSAqIDIgKyAxXHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJtb3ZlXCIpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4gKGRyYWcgPSBmYWxzZSkpXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZHJhZykgdGhpcy50cmlnZ2VyKFwiY2xpY2tcIilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB3aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJzY3JvbGxcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBkYXQgZnJvbSAnZGF0Lmd1aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlYnVne1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PScjZGVidWcnXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEZWJ1Z01vZGU6XCIrdGhpcy5hY3RpdmUpXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWkgPSBuZXcgZGF0LkdVSSgpXHJcbiAgICAgICAgfSAgICAgICBcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50RW1pdHRlclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fVxyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLmJhc2UgPSB7fVxyXG4gICAgfVxyXG5cclxuICAgIG9uKF9uYW1lcywgY2FsbGJhY2spXHJcbiAgICB7XHJcbiAgICAgICAgLy8gRXJyb3JzXHJcbiAgICAgICAgaWYodHlwZW9mIF9uYW1lcyA9PT0gJ3VuZGVmaW5lZCcgfHwgX25hbWVzID09PSAnJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybignd3JvbmcgbmFtZXMnKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3dyb25nIGNhbGxiYWNrJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNvbHZlIG5hbWVzXHJcbiAgICAgICAgY29uc3QgbmFtZXMgPSB0aGlzLnJlc29sdmVOYW1lcyhfbmFtZXMpXHJcblxyXG4gICAgICAgIC8vIEVhY2ggbmFtZVxyXG4gICAgICAgIG5hbWVzLmZvckVhY2goKF9uYW1lKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gUmVzb2x2ZSBuYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnJlc29sdmVOYW1lKF9uYW1lKVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5hbWVzcGFjZSBpZiBub3QgZXhpc3RcclxuICAgICAgICAgICAgaWYoISh0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXSBpbnN0YW5jZW9mIE9iamVjdCkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXSA9IHt9XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgY2FsbGJhY2sgaWYgbm90IGV4aXN0XHJcbiAgICAgICAgICAgIGlmKCEodGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF1bIG5hbWUudmFsdWUgXSBpbnN0YW5jZW9mIEFycmF5KSlcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0gPSBbXVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0ucHVzaChjYWxsYmFjaylcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIG9mZihfbmFtZXMpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gRXJyb3JzXHJcbiAgICAgICAgaWYodHlwZW9mIF9uYW1lcyA9PT0gJ3VuZGVmaW5lZCcgfHwgX25hbWVzID09PSAnJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybignd3JvbmcgbmFtZScpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVzb2x2ZSBuYW1lc1xyXG4gICAgICAgIGNvbnN0IG5hbWVzID0gdGhpcy5yZXNvbHZlTmFtZXMoX25hbWVzKVxyXG5cclxuICAgICAgICAvLyBFYWNoIG5hbWVcclxuICAgICAgICBuYW1lcy5mb3JFYWNoKChfbmFtZSkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFJlc29sdmUgbmFtZVxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5yZXNvbHZlTmFtZShfbmFtZSlcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBuYW1lc3BhY2VcclxuICAgICAgICAgICAgaWYobmFtZS5uYW1lc3BhY2UgIT09ICdiYXNlJyAmJiBuYW1lLnZhbHVlID09PSAnJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzcGVjaWZpYyBjYWxsYmFjayBpbiBuYW1lc3BhY2VcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZihuYW1lLm5hbWVzcGFjZSA9PT0gJ2Jhc2UnKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byByZW1vdmUgZnJvbSBlYWNoIG5hbWVzcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihjb25zdCBuYW1lc3BhY2UgaW4gdGhpcy5jYWxsYmFja3MpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNhbGxiYWNrc1sgbmFtZXNwYWNlIF0gaW5zdGFuY2VvZiBPYmplY3QgJiYgdGhpcy5jYWxsYmFja3NbIG5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0gaW5zdGFuY2VvZiBBcnJheSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIG5hbWVzcGFjZSBpZiBlbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoT2JqZWN0LmtleXModGhpcy5jYWxsYmFja3NbIG5hbWVzcGFjZSBdKS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwZWNpZmllZCBuYW1lc3BhY2VcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF0gaW5zdGFuY2VvZiBPYmplY3QgJiYgdGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF1bIG5hbWUudmFsdWUgXSBpbnN0YW5jZW9mIEFycmF5KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBuYW1lc3BhY2UgaWYgZW1wdHlcclxuICAgICAgICAgICAgICAgICAgICBpZihPYmplY3Qua2V5cyh0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXSkubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlcihfbmFtZSwgX2FyZ3MpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gRXJyb3JzXHJcbiAgICAgICAgaWYodHlwZW9mIF9uYW1lID09PSAndW5kZWZpbmVkJyB8fCBfbmFtZSA9PT0gJycpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3dyb25nIG5hbWUnKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaW5hbFJlc3VsdCA9IG51bGxcclxuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbFxyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IGFyZ3NcclxuICAgICAgICBjb25zdCBhcmdzID0gIShfYXJncyBpbnN0YW5jZW9mIEFycmF5KSA/IFtdIDogX2FyZ3NcclxuXHJcbiAgICAgICAgLy8gUmVzb2x2ZSBuYW1lcyAoc2hvdWxkIG9uIGhhdmUgb25lIGV2ZW50KVxyXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5yZXNvbHZlTmFtZXMoX25hbWUpXHJcblxyXG4gICAgICAgIC8vIFJlc29sdmUgbmFtZVxyXG4gICAgICAgIG5hbWUgPSB0aGlzLnJlc29sdmVOYW1lKG5hbWVbIDAgXSlcclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdCBuYW1lc3BhY2VcclxuICAgICAgICBpZihuYW1lLm5hbWVzcGFjZSA9PT0gJ2Jhc2UnKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgY2FsbGJhY2sgaW4gZWFjaCBuYW1lc3BhY2VcclxuICAgICAgICAgICAgZm9yKGNvbnN0IG5hbWVzcGFjZSBpbiB0aGlzLmNhbGxiYWNrcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jYWxsYmFja3NbIG5hbWVzcGFjZSBdIGluc3RhbmNlb2YgT2JqZWN0ICYmIHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdIGluc3RhbmNlb2YgQXJyYXkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbIG5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0uZm9yRWFjaChmdW5jdGlvbihjYWxsYmFjaylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgZmluYWxSZXN1bHQgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFJlc3VsdCA9IHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3BlY2lmaWVkIG5hbWVzcGFjZVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF0gaW5zdGFuY2VvZiBPYmplY3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihuYW1lLnZhbHVlID09PSAnJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd3cm9uZyBuYW1lJylcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0uZm9yRWFjaChmdW5jdGlvbihjYWxsYmFjaylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncylcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgZmluYWxSZXN1bHQgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsUmVzdWx0ID0gcmVzdWx0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRcclxuICAgIH1cclxuXHJcbiAgICByZXNvbHZlTmFtZXMoX25hbWVzKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBuYW1lcyA9IF9uYW1lc1xyXG4gICAgICAgIG5hbWVzID0gbmFtZXMucmVwbGFjZSgvW15hLXpBLVowLTkgLC8uXS9nLCAnJylcclxuICAgICAgICBuYW1lcyA9IG5hbWVzLnJlcGxhY2UoL1ssL10rL2csICcgJylcclxuICAgICAgICBuYW1lcyA9IG5hbWVzLnNwbGl0KCcgJylcclxuXHJcbiAgICAgICAgcmV0dXJuIG5hbWVzXHJcbiAgICB9XHJcblxyXG4gICAgcmVzb2x2ZU5hbWUobmFtZSlcclxuICAgIHtcclxuICAgICAgICBjb25zdCBuZXdOYW1lID0ge31cclxuICAgICAgICBjb25zdCBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKVxyXG5cclxuICAgICAgICBuZXdOYW1lLm9yaWdpbmFsICA9IG5hbWVcclxuICAgICAgICBuZXdOYW1lLnZhbHVlICAgICA9IHBhcnRzWyAwIF1cclxuICAgICAgICBuZXdOYW1lLm5hbWVzcGFjZSA9ICdiYXNlJyAvLyBCYXNlIG5hbWVzcGFjZVxyXG5cclxuICAgICAgICAvLyBTcGVjaWZpZWQgbmFtZXNwYWNlXHJcbiAgICAgICAgaWYocGFydHMubGVuZ3RoID4gMSAmJiBwYXJ0c1sgMSBdICE9PSAnJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5ld05hbWUubmFtZXNwYWNlID0gcGFydHNbIDEgXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ld05hbWVcclxuICAgIH1cclxufSIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi4vRXhwZXJpZW5jZS9FeHBlcmllbmNlXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHRoaXMuZXhwZXJpZW5jZS5zY2VuZVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gdGhpcy5leHBlcmllbmNlLnJlc291cmNlc1xyXG4gICAgICAgIHRoaXMudGltZSA9IHRoaXMuZXhwZXJpZW5jZS50aW1lXHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuZXhwZXJpZW5jZS5kZWJ1Z1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5leHBlcmllbmNlLmNhbWVyYVxyXG5cclxuICAgICAgICBpZih0aGlzLmRlYnVnLmFjdGl2ZSl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYUhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIHRoaXMuY2FtZXJhLmluc3RhbmNlICk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGNhbWVyYUhlbHBlcilcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IFRIUkVFLkF4ZXNIZWxwZXIoMTApXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGF4ZXNIZWxwZXIpXHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwZXJpZW5jZS53b3JsZC5lbnZpcm9ubWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHRoaXMuZXhwZXJpZW5jZS53b3JsZC5lbnZpcm9ubWVudFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudC5zdW5MaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAwLjJcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHRDYW1lcmFIZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnQuc3VuTGlnaHQuc2hhZG93LmNhbWVyYVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodENhbWVyYUhlbHBlcilcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHRIZWxwZXIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiXHJcblxyXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCIuL0V2ZW50RW1pdHRlclwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZXMgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc291cmNlcykge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLnNvdXJjZXMgPSBzb3VyY2VzXHJcblxyXG4gICAgICAgIHRoaXMuaXRlbXMgPSB7fVxyXG4gICAgICAgIHRoaXMudG9Mb2FkID0gdGhpcy5zb3VyY2VzLmxlbmd0aFxyXG4gICAgICAgIHRoaXMubG9hZGVkID0gMFxyXG5cclxuICAgICAgICB0aGlzLnNldExvYWRlcnMoKVxyXG4gICAgICAgIHRoaXMuc3RhcnRMb2FkaW5nKClcclxuICAgIH1cclxuXHJcbiAgICBzZXRMb2FkZXJzKCkge1xyXG4gICAgICAgIHRoaXMubG9hZGVycyA9IHt9XHJcbiAgICAgICAgdGhpcy5sb2FkZXJzLmdsdGZMb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpXHJcbiAgICAgICAgdGhpcy5sb2FkZXJzLnRleHR1cmVMb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpXHJcbiAgICAgICAgdGhpcy5sb2FkZXJzLmN1YmVUZXh0dXJlTG9hZGVyID0gbmV3IFRIUkVFLkN1YmVUZXh0dXJlTG9hZGVyKClcclxuICAgIH1cclxuXHJcbiAgICBzdGFydExvYWRpbmcoKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2Ugb2YgdGhpcy5zb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UudHlwZSA9PT0gXCJnbHRmTW9kZWxcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJzLmdsdGZMb2FkZXIubG9hZChzb3VyY2UucGF0aCwgKGZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUxvYWRlZChzb3VyY2UsIGZpbGUpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UudHlwZSA9PT0gXCJjdWJlVGV4XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVycy5jdWJlVGV4dHVyZUxvYWRlci5sb2FkKHNvdXJjZS5wYXRoLCAoZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTG9hZGVkKHNvdXJjZSwgZmlsZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNvdXJjZS50eXBlID09PSBcInRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlcnMudGV4dHVyZUxvYWRlci5sb2FkKHNvdXJjZS5wYXRoLCAoZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTG9hZGVkKHNvdXJjZSwgZmlsZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc291cmNlTG9hZGVkKHNvdXJjZSwgZmlsZSkge1xyXG4gICAgICAgIHRoaXMuaXRlbXNbc291cmNlLm5hbWVdID0gZmlsZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHNvdXJjZSwgZmlsZSlcclxuICAgICAgICB0aGlzLmxvYWRlZCsrXHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkID09PSB0aGlzLnRvTG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJyZWFkeVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCIuL0V2ZW50RW1pdHRlci5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaXplcyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgICB0aGlzLnBpeGVsUmF0aW8gPSBNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMilcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGhcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gTWF0aC5taW4od2luZG93LmRldmljZVBpeGVsUmF0aW8sIDIpXHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJyZXNpemVcIilcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi9FdmVudEVtaXR0ZXIuanMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lIGV4dGVuZHMgRXZlbnRFbWl0dGVyXHJcbntcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgICAgIC8vIFNldHVwXHJcbiAgICAgICAgdGhpcy5zdGFydCA9IERhdGUubm93KClcclxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnN0YXJ0XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkID0gMFxyXG4gICAgICAgIHRoaXMuZGVsdGEgPSAxNlxyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRpY2soKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdGljaygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpXHJcbiAgICAgICAgdGhpcy5kZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5jdXJyZW50XHJcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gY3VycmVudFRpbWVcclxuICAgICAgICB0aGlzLmVsYXBzZWQgPSB0aGlzLmN1cnJlbnQgLSB0aGlzLnN0YXJ0XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcigndGljaycpXHJcblxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudGljaygpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIGluZGV4LmpzIFxyXG4vLyBNYW5hZ2VyIHRoZSBIVE1MIERvY1xyXG5cclxuaW1wb3J0IFwiLi9jc3Mvc3R5bGUuY3NzXCJcclxuXHJcbmltcG9ydCBQcm9maWxlIGZyb20gXCIuL1Byb2ZpbGUvUHJvZmlsZVwiO1xyXG5cclxuY29uc3QgcHJvZmlsZSA9IG5ldyBQcm9maWxlKClcclxuXHJcbmNvbnNvbGUubG9nKF9fZGlybmFtZSlcclxuXHJcblxyXG5cclxuIiwidmFyIG1hcCA9IHtcblx0XCIuL1N1emFubmUvbWFpbi5qc29uXCI6IDUzNDksXG5cdFwiLi9mb3gvbWFpbi5qc29uXCI6IDYwOTFcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAyNDI4OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==