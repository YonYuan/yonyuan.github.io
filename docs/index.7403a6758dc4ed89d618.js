(self["webpackChunkwebpack_demo"] = self["webpackChunkwebpack_demo"] || []).push([["index"],{

/***/ 1402:
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/style.css ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ 7537);
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ 3645);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.webgl {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    outline: none;\r\n}\r\n\r\nbody {\r\n    -moz-user-select: none;\r\n    /*火狐*/\r\n    -webkit-user-select: none;\r\n    /*webkit浏览器*/\r\n    -ms-user-select: none;\r\n    /*IE10*/\r\n    -khtml-user-select: none;\r\n    /*早期浏览器*/\r\n    user-select: none;\r\n}\r\n\r\n.text {\r\n    top: 0;\r\n    left: 0;\r\n    color: #ffffff;\r\n    font-size: 6px;\r\n    position: relative;\r\n    text-align: right;\r\n    pointer-events: none;\r\n}\r\n\r\n#language {\r\n    color: #ffffff;\r\n    text-align: right;\r\n    text-decoration: underline;\r\n    position: relative;\r\n}\r\n\r\n.region {\r\n    background: rgb(35, 31, 34);\r\n    border-radius: 8px;\r\n    width: calc(100% - 100px);\r\n    height: 120px;\r\n    max-width: 300px;\r\n    padding: 34px 30px 17px;\r\n\r\n    color: #ffffff;\r\n\r\n    font-family: \"Lucida Console\", \"Courier New\", monospace;\r\n    font-size: 16px;\r\n\r\n    position: fixed;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 10%;\r\n    left: 5%;\r\n  \r\n}\r\n\r\n.regionTitle{\r\n    font-size: 24px;\r\n    letter-spacing:8px;\r\n}\r\n\r\n.regionDescription{\r\n    font-size: 12px;\r\n    letter-spacing:1px;\r\n    padding-top: 10px;\r\n    padding-bottom:10px;\r\n}\r\n\r\n.discover{\r\n    position: absolute;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 12%;\r\n    left: -2%;\r\n\r\n    background-color: #ffffff;\r\n    border-radius: 4px;\r\n    color: rgb(21, 0, 156);\r\n    padding: 5px 3px 3px 10px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    letter-spacing:2px;\r\n    cursor: pointer;\r\n}\r\n\r\n", "",{"version":3,"sources":["webpack://./src/css/style.css"],"names":[],"mappings":"AAAA;IACI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,eAAe;IACf,MAAM;IACN,OAAO;IACP,aAAa;AACjB;;AAEA;IACI,sBAAsB;IACtB,KAAK;IACL,yBAAyB;IACzB,YAAY;IACZ,qBAAqB;IACrB,OAAO;IACP,wBAAwB;IACxB,QAAQ;IACR,iBAAiB;AACrB;;AAEA;IACI,MAAM;IACN,OAAO;IACP,cAAc;IACd,cAAc;IACd,kBAAkB;IAClB,iBAAiB;IACjB,oBAAoB;AACxB;;AAEA;IACI,cAAc;IACd,iBAAiB;IACjB,0BAA0B;IAC1B,kBAAkB;AACtB;;AAEA;IACI,2BAA2B;IAC3B,kBAAkB;IAClB,yBAAyB;IACzB,aAAa;IACb,gBAAgB;IAChB,uBAAuB;;IAEvB,cAAc;;IAEd,uDAAuD;IACvD,eAAe;;IAEf,eAAe;IACf,SAAS;IACT,WAAW;IACX,WAAW;IACX,QAAQ;;AAEZ;;AAEA;IACI,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;IACX,WAAW;IACX,SAAS;;IAET,yBAAyB;IACzB,kBAAkB;IAClB,sBAAsB;IACtB,yBAAyB;IACzB,kBAAkB;IAClB,qBAAqB;IACrB,qBAAqB;IACrB,eAAe;IACf,kBAAkB;IAClB,eAAe;AACnB","sourcesContent":["* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.webgl {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    outline: none;\r\n}\r\n\r\nbody {\r\n    -moz-user-select: none;\r\n    /*火狐*/\r\n    -webkit-user-select: none;\r\n    /*webkit浏览器*/\r\n    -ms-user-select: none;\r\n    /*IE10*/\r\n    -khtml-user-select: none;\r\n    /*早期浏览器*/\r\n    user-select: none;\r\n}\r\n\r\n.text {\r\n    top: 0;\r\n    left: 0;\r\n    color: #ffffff;\r\n    font-size: 6px;\r\n    position: relative;\r\n    text-align: right;\r\n    pointer-events: none;\r\n}\r\n\r\n#language {\r\n    color: #ffffff;\r\n    text-align: right;\r\n    text-decoration: underline;\r\n    position: relative;\r\n}\r\n\r\n.region {\r\n    background: rgb(35, 31, 34);\r\n    border-radius: 8px;\r\n    width: calc(100% - 100px);\r\n    height: 120px;\r\n    max-width: 300px;\r\n    padding: 34px 30px 17px;\r\n\r\n    color: #ffffff;\r\n\r\n    font-family: \"Lucida Console\", \"Courier New\", monospace;\r\n    font-size: 16px;\r\n\r\n    position: fixed;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 10%;\r\n    left: 5%;\r\n  \r\n}\r\n\r\n.regionTitle{\r\n    font-size: 24px;\r\n    letter-spacing:8px;\r\n}\r\n\r\n.regionDescription{\r\n    font-size: 12px;\r\n    letter-spacing:1px;\r\n    padding-top: 10px;\r\n    padding-bottom:10px;\r\n}\r\n\r\n.discover{\r\n    position: absolute;\r\n    top: auto;\r\n    right: auto;\r\n    bottom: 12%;\r\n    left: -2%;\r\n\r\n    background-color: #ffffff;\r\n    border-radius: 4px;\r\n    color: rgb(21, 0, 156);\r\n    padding: 5px 3px 3px 10px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 16px;\r\n    letter-spacing:2px;\r\n    cursor: pointer;\r\n}\r\n\r\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 6962:
/*!***************************!*\
  !*** ./src/css/style.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ 3379);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ 7795);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ 569);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ 3565);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ 9216);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ 4589);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./style.css */ 1402);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ 4119:
/*!**********************************!*\
  !*** ./src/Experience/Camera.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Camera)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Override_OrbitControls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Override/OrbitControls */ 9664);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Experience */ 9387);
// All rights reserved by Yon
// Camera.js 
// Manager the camera control
// here use the OrbitControls form THREE.js and override it with zoon scale customization







class Camera {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_1__["default"]()
        this.sizes = this.experience.sizes
        this.scene = this.experience.scene
        this.eCanvas = this.experience.eCanvas

        this.setInstance()
        this.setOrbitControl()
    }

    setInstance() {
        this.instance = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(
            60,
            this.sizes.width / this.sizes.height,
            0.1,
            1000
        )
        this.instance.position.set(0, 51.9615, 30)
        this.scene.add(this.instance)
    }

    setOrbitControl() {
        this.controls = new _Override_OrbitControls__WEBPACK_IMPORTED_MODULE_0__.OrbitControls(this.instance, this.eCanvas)
        this.controls.enableDamping = true
        this.controls.dampingFactor = 0.2
        this.controls.screenSpacePanning = false

        this.controls.mouseButtons = {
            RIGHT: three__WEBPACK_IMPORTED_MODULE_2__.MOUSE.ROTATE,
            MIDDLE: three__WEBPACK_IMPORTED_MODULE_2__.MOUSE.DOLLY,
            LEFT: three__WEBPACK_IMPORTED_MODULE_2__.MOUSE.PAN,
        }


        this.controls.maxDistance = 120
        this.controls.minDistance = 30

        this.controls.enableRotate = true
        this.controls.minAzimuthAngle = -Math.PI / 3
        this.controls.maxAzimuthAngle = Math.PI / 3
        this.controls.minPolarAngle = Math.PI/12
        this.controls.maxPolarAngle = Math.PI/4

        this.controls.zoomSpeed = 0.5

        this.controls.minPanBox = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-95,0,-66)
        this.controls.maxPanBox = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(95,0,66)
        this.controls.limitPan = true

    }

    resize() {
        this.instance.aspect = this.sizes.width / this.sizes.height
        this.instance.updateProjectionMatrix()
    }

    update() {
        this.controls.update()

    }
}


/***/ }),

/***/ 5360:
/*!**********************************!*\
  !*** ./src/Experience/Caster.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Caster)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Experience */ 9387);
// All rights reserved by Yon
// Caster.js 
// Manager the raycaster from three
// raycaster contain the move event and click event, call from experience
// rayMove/rayIn/rayOut/rayClick
// they will keep pass call to the currentObjt event function same name as themselves
// this class can pass event call to the canvasjs, and canvasjs will keep pass these event call to other html element





class Caster {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.canvas = this.experience.canvas 


        this.raycaster = new three__WEBPACK_IMPORTED_MODULE_1__.Raycaster()

        this.camera = this.experience.camera
        this.cursor = this.experience.cursor

        this.casterObjects = {}
        this.casterModels = []
        //final Intersect Struct, contain intersect information
        this.currentIntersect = null
        //final Intersect model, only contain Mesh information
        this.currentModel = null
        //final intersect class, have all class information
        this.currentObj = null

        this.raycaster.setFromCamera(this.cursor.coord, this.camera.instance)
    }

    rayMove() {
        // update the picking ray with the camera and pointer position
        this.raycaster.setFromCamera(this.cursor.coord, this.camera.instance)

        const intersects = this.raycaster.intersectObjects(this.casterModels)

        //In Out Event
        if (intersects.length) {
            if (this.currentModel != intersects[0].object) {
                if (this.currentModel) {
                    this.rayOut()
                }
                this.currentIntersect = intersects[0]
                this.currentModel = intersects[0].object
                this.currentObj = this.casterObjects[this.currentModel.name]
                this.rayIn()
            }
        } else {
            if (this.currentModel) {
                this.rayOut()
            }
            this.currentIntersect = null
            this.currentModel = null
            this.currentObj = null
        }
        
        if (this.currentObj) {
            console.log("move " + this.currentModel.name)

            if(this.currentObj.rayMove){
                this.currentObj.rayMove()
            }
        }
    }

    rayIn() {
        console.log("in " + this.currentModel.name)
        if (this.currentObj.rayIn) {
            this.currentObj.rayIn()
        }
    }

    rayOut() {
        console.log("out " + this.currentModel.name)
        if (this.currentObj.rayOut) {
            this.currentObj.rayOut()
        }
    }

    rayClick() {
        if (this.currentObj) {
            console.log("click " + this.currentModel.name)
            if (this.currentObj.rayClick) {
                this.currentObj.rayClick()
            }
            //Event pass to canvas and profile
            if(this.canvas.rayClick){
                this.canvas.rayClick(this.currentObj,this.currentModel)
            }
        }
    }

    register(obj) {
        if (obj.model) {
            obj.model.traverse((child) => {
                if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {
                    this.casterObjects[child.name] = obj
                    console.log(child)
                    this.casterModels.push(child)
                }
            })
        } else {
            console.log(obj.type)
        }
    }
}


/***/ }),

/***/ 9387:
/*!**************************************!*\
  !*** ./src/Experience/Experience.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Experience)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Camera__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Camera */ 4119);
/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Renderer */ 4903);
/* harmony import */ var _Caster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Caster */ 5360);
/* harmony import */ var _World_World__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./World/World */ 5336);
/* harmony import */ var _Utils_Sizes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Utils/Sizes */ 5721);
/* harmony import */ var _Utils_Time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Utils/Time */ 6490);
/* harmony import */ var _Utils_Cursor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Utils/Cursor */ 7617);
/* harmony import */ var _Utils_Debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Utils/Debug */ 3859);
/* harmony import */ var _Utils_Resources__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Utils/Resources */ 4449);
/* harmony import */ var _sources__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sources */ 9780);
// All rights reserved by Yon
// Experience.js 
// Manager all classes load and dispose
// Manager tick resize event

















let instance = null

class Experience {
    constructor(canvas) {
        if (instance) {
            return instance
        }

        instance = this

        window.experience = this

        this.eCanvas = canvas.eCanvas
        this.canvas = canvas

        this.debug = new _Utils_Debug__WEBPACK_IMPORTED_MODULE_7__["default"]()
        this.sizes = new _Utils_Sizes__WEBPACK_IMPORTED_MODULE_4__["default"]()
        this.time = new _Utils_Time__WEBPACK_IMPORTED_MODULE_5__["default"]()
        this.cursor = new _Utils_Cursor__WEBPACK_IMPORTED_MODULE_6__["default"]()

        this.scene = new three__WEBPACK_IMPORTED_MODULE_10__.Scene()
        this.resources = new _Utils_Resources__WEBPACK_IMPORTED_MODULE_8__["default"](_sources__WEBPACK_IMPORTED_MODULE_9__["default"])
        this.camera = new _Camera__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.caster = new _Caster__WEBPACK_IMPORTED_MODULE_2__["default"]()
        this.renderer = new _Renderer__WEBPACK_IMPORTED_MODULE_1__["default"]()

        this.world = new _World_World__WEBPACK_IMPORTED_MODULE_3__["default"]()

        this.sizes.on("resize", () => {
            this.resize()
        })

        this.time.on("tick", () => {
            this.update()
        })

        this.cursor.on("move",()=>{
            this.move()
        })

        this.cursor.on("click",()=>{
            this.click()
        })
    }

    resize() {
        this.camera.resize()
        this.renderer.resize()
    }

    update() {
        this.camera.update()
        this.world.update()
        this.renderer.update()
    }

    move(){
        this.caster.rayMove()
    }

    click(){
        this.caster.rayClick()
    }

    destroy() {
        this.sizes.off('resize')
        this.time.off('tick')

        this.scene.traverse((child)=>{
            if(child instanceof three__WEBPACK_IMPORTED_MODULE_10__.Mesh){
                child.geometry.dispose()
                for(const key in child.material){
                    const value = child.material[key]
                    if(value && typeof value.dispose === 'function'){
                        value.dispose()
                    }
                }
            }
        })

        this.camera.controls.dispose()
        this.renderer.instance.dispose()
    }
}


/***/ }),

/***/ 9664:
/*!**************************************************!*\
  !*** ./src/Experience/Override/OrbitControls.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OrbitControls": () => (/* binding */ OrbitControls),
/* harmony export */   "MapControls": () => (/* binding */ MapControls)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ 9477);


// This set of controls performs orbiting, dollying (zooming), and panning.
// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
//
//    Orbit - left mouse / touch: one-finger move
//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish
//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move

const _changeEvent = { type: 'change' };
const _startEvent = { type: 'start' };
const _endEvent = { type: 'end' };

class OrbitControls extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {

	constructor( object, domElement ) {

		super();

		if ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter "domElement" is now mandatory.' );
		if ( domElement === document ) console.error( 'THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.' );

		this.object = object;
		this.domElement = domElement;
		this.domElement.style.touchAction = 'none'; // disable touch scroll

		// Set to false to disable this control
		this.enabled = true;

		// "target" sets the location of focus, where the object orbits around
		this.target = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

		// How far you can dolly in and out ( PerspectiveCamera only )
		this.minDistance = 0;
		this.maxDistance = Infinity;

		// How far you can zoom in and out ( OrthographicCamera only )
		this.minZoom = 0;
		this.maxZoom = Infinity;

		// How far you can orbit vertically, upper and lower limits.
		// Range is 0 to Math.PI radians.
		this.minPolarAngle = 0; // radians
		this.maxPolarAngle = Math.PI; // radians

		// How far you can orbit horizontally, upper and lower limits.
		// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )
		this.minAzimuthAngle = - Infinity; // radians
		this.maxAzimuthAngle = Infinity; // radians


		// Set to true to enable damping (inertia)
		// If damping is enabled, you must call controls.update() in your animation loop
		this.enableDamping = false;
		this.dampingFactor = 0.05;

		// This option actually enables dollying in and out; left as "zoom" for backwards compatibility.
		// Set to false to disable zooming
		this.enableZoom = true;
		this.zoomSpeed = 1.0;

		// Set to false to disable rotating
		this.enableRotate = true;
		this.rotateSpeed = 1.0;

		// Set to false to disable panning
		this.enablePan = true;
		this.panSpeed = 1.0;
		this.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up
		this.keyPanSpeed = 7.0;	// pixels moved per arrow key push

        //yonjiang add 2022 03 29
        this.limitPan = false;
        this.minPanBox = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3( - 20, - 20, - 20 )
        this.maxPanBox = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3( 20, 20, 20 )
        //yonjiang end 2022 03 29

		// Set to true to automatically rotate around the target
		// If auto-rotate is enabled, you must call controls.update() in your animation loop
		this.autoRotate = false;
		this.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60

		// The four arrow keys
		this.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };

		// Mouse buttons
		this.mouseButtons = { LEFT: three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE, MIDDLE: three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.DOLLY, RIGHT: three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN };

		// Touch fingers
		this.touches = { ONE: three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.ROTATE, TWO: three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_PAN };

		// for reset
		this.target0 = this.target.clone();
		this.position0 = this.object.position.clone();
		this.zoom0 = this.object.zoom;

		// the target DOM element for key events
		this._domElementKeyEvents = null;

		//
		// public methods
		//

		this.getPolarAngle = function () {

			return spherical.phi;

		};

		this.getAzimuthalAngle = function () {

			return spherical.theta;

		};

		this.getDistance = function () {

			return this.object.position.distanceTo( this.target );

		};

		this.listenToKeyEvents = function ( domElement ) {

			domElement.addEventListener( 'keydown', onKeyDown );
			this._domElementKeyEvents = domElement;

		};

		this.saveState = function () {

			scope.target0.copy( scope.target );
			scope.position0.copy( scope.object.position );
			scope.zoom0 = scope.object.zoom;

		};

		this.reset = function () {

			scope.target.copy( scope.target0 );
			scope.object.position.copy( scope.position0 );
			scope.object.zoom = scope.zoom0;

			scope.object.updateProjectionMatrix();
			scope.dispatchEvent( _changeEvent );

			scope.update();

			state = STATE.NONE;

		};

		// this method is exposed, but perhaps it would be better if we can make it private...
		this.update = function () {

			const offset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			// so camera.up is the orbit axis
			const quat = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion().setFromUnitVectors( object.up, new three__WEBPACK_IMPORTED_MODULE_0__.Vector3( 0, 1, 0 ) );
			const quatInverse = quat.clone().invert();

			const lastPosition = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
			const lastQuaternion = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion();

			const twoPI = 2 * Math.PI;

			return function update() {

				const position = scope.object.position;

				offset.copy( position ).sub( scope.target );

				// rotate offset to "y-axis-is-up" space
				offset.applyQuaternion( quat );

				// angle from z-axis around y-axis
				spherical.setFromVector3( offset );

				if ( scope.autoRotate && state === STATE.NONE ) {

					rotateLeft( getAutoRotationAngle() );

				}

				if ( scope.enableDamping ) {

					spherical.theta += sphericalDelta.theta * scope.dampingFactor;
					spherical.phi += sphericalDelta.phi * scope.dampingFactor;

				} else {

					spherical.theta += sphericalDelta.theta;
					spherical.phi += sphericalDelta.phi;

				}

				// restrict theta to be between desired limits

				let min = scope.minAzimuthAngle;
				let max = scope.maxAzimuthAngle;

				if ( isFinite( min ) && isFinite( max ) ) {

					if ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;

					if ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;

					if ( min <= max ) {

						spherical.theta = Math.max( min, Math.min( max, spherical.theta ) );

					} else {

						spherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?
							Math.max( min, spherical.theta ) :
							Math.min( max, spherical.theta );

					}

				}

				// restrict phi to be between desired limits
				spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );

				spherical.makeSafe();


				spherical.radius *= scale;

				// restrict radius to be between desired limits
				spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );

				// move target to panned location

                


				if ( scope.enableDamping === true ) {

					scope.target.addScaledVector( panOffset, scope.dampingFactor );

				} else {

					scope.target.add( panOffset );
				}

                //yonjiang add 2022 03 29
                if(this.limitPan === true) {
                    const offset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3()
                    const position = scope.object.position;
                    offset.copy( position ).sub( scope.target );
                    let targetDistance = offset.length();
                    // let limitScale = 0

                    // if(this.enableDamping === true) {
                        limitPanScale = (this.maxDistance-targetDistance)/(this.maxDistance-this.minDistance)
                        
                        let min = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
                        min.copy(this.minPanBox)
                        let max = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
                        max.copy(this.maxPanBox)

                        scope.target.clamp(min.multiplyScalar(limitPanScale),max.multiplyScalar(limitPanScale));

                    // }else{
                        
                    //     limitPanScale = (this.maxDistance-targetDistance)/(this.maxDistance-this.minDistance)

                    //     let min = new Vector3();
                    //     min.copy(this.minPanBox)
                    //     let max = new Vector3();
                    //     max.copy(this.maxPanBox)
                    //     scope.target.clamp(min.multiplyScalar(limitPanScale),max.multiplyScalar(limitPanScale));
                    //     limitPanScale = 0;
                    // }
                }
                //yonjiang end 2022 03 29

				offset.setFromSpherical( spherical );

				// rotate offset back to "camera-up-vector-is-up" space
				offset.applyQuaternion( quatInverse );

				position.copy( scope.target ).add( offset );

				scope.object.lookAt( scope.target );

				if ( scope.enableDamping === true ) {

					sphericalDelta.theta *= ( 1 - scope.dampingFactor );
					sphericalDelta.phi *= ( 1 - scope.dampingFactor );

					panOffset.multiplyScalar( 1 - scope.dampingFactor );

				} else {

					sphericalDelta.set( 0, 0, 0 );

					panOffset.set( 0, 0, 0 );

				}

				scale = 1;

				// update condition is:
				// min(camera displacement, camera rotation in radians)^2 > EPS
				// using small-angle approximation cos(x/2) = 1 - x^2 / 8

				if ( zoomChanged ||
					lastPosition.distanceToSquared( scope.object.position ) > EPS ||
					8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {

					scope.dispatchEvent( _changeEvent );

					lastPosition.copy( scope.object.position );
					lastQuaternion.copy( scope.object.quaternion );
					zoomChanged = false;

					return true;

				}

				return false;

			};

		}();

		this.dispose = function () {

			scope.domElement.removeEventListener( 'contextmenu', onContextMenu );

			scope.domElement.removeEventListener( 'pointerdown', onPointerDown );
			scope.domElement.removeEventListener( 'pointercancel', onPointerCancel );
			scope.domElement.removeEventListener( 'wheel', onMouseWheel );

			scope.domElement.removeEventListener( 'pointermove', onPointerMove );
			scope.domElement.removeEventListener( 'pointerup', onPointerUp );


			if ( scope._domElementKeyEvents !== null ) {

				scope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );

			}

			//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?

		};

		//
		// internals
		//

		const scope = this;

		const STATE = {
			NONE: - 1,
			ROTATE: 0,
			DOLLY: 1,
			PAN: 2,
			TOUCH_ROTATE: 3,
			TOUCH_PAN: 4,
			TOUCH_DOLLY_PAN: 5,
			TOUCH_DOLLY_ROTATE: 6
		};

		let state = STATE.NONE;

		const EPS = 0.000001;

		// current position in spherical coordinates
		const spherical = new three__WEBPACK_IMPORTED_MODULE_0__.Spherical();
		const sphericalDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Spherical();

		let scale = 1;
		const panOffset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
		let zoomChanged = false;

		const rotateStart = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const rotateEnd = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const rotateDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();

		const panStart = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const panEnd = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const panDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();

		const dollyStart = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const dollyEnd = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
		const dollyDelta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();

		const pointers = [];
		const pointerPositions = {};

        let limitPanScale = 1;

		function getAutoRotationAngle() {

			return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;

		}

		function getZoomScale() {

			return Math.pow( 0.95, scope.zoomSpeed );

		}

		function rotateLeft( angle ) {

			sphericalDelta.theta -= angle;

		}

		function rotateUp( angle ) {

			sphericalDelta.phi -= angle;

		}

		const panLeft = function () {

			const v = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			return function panLeft( distance, objectMatrix ) {

				v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix
				v.multiplyScalar( - distance );

				panOffset.add( v );

			};

		}();

		const panUp = function () {

			const v = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			return function panUp( distance, objectMatrix ) {

				if ( scope.screenSpacePanning === true ) {

					v.setFromMatrixColumn( objectMatrix, 1 );

				} else {

					v.setFromMatrixColumn( objectMatrix, 0 );
					v.crossVectors( scope.object.up, v );

				}
                
				v.multiplyScalar( distance );
				panOffset.add( v );

			};

		}();

		// deltaX and deltaY are in pixels; right and down are positive
		const pan = function () {

			const offset = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();

			return function pan( deltaX, deltaY ) {

				const element = scope.domElement;

				if ( scope.object.isPerspectiveCamera ) {

					// perspective
					const position = scope.object.position;
					offset.copy( position ).sub( scope.target );
					let targetDistance = offset.length();

					// half of the fov is center to top of screen
					targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );

					// we use only clientHeight here so aspect ratio does not distort speed
					panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );
					panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );

				} else if ( scope.object.isOrthographicCamera ) {

					// orthographic
					panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );
					panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );

				} else {

					// camera neither orthographic nor perspective
					console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );
					scope.enablePan = false;

				}

			};

		}();

		function dollyOut( dollyScale ) {

			if ( scope.object.isPerspectiveCamera ) {

				scale /= dollyScale;

			} else if ( scope.object.isOrthographicCamera ) {

				scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );
				scope.object.updateProjectionMatrix();
				zoomChanged = true;

			} else {

				console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );
				scope.enableZoom = false;

			}

		}

		function dollyIn( dollyScale ) {

			if ( scope.object.isPerspectiveCamera ) {

				scale *= dollyScale;

			} else if ( scope.object.isOrthographicCamera ) {

				scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );
				scope.object.updateProjectionMatrix();
				zoomChanged = true;

			} else {

				console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );
				scope.enableZoom = false;

			}

		}

		//
		// event callbacks - update the object state
		//

		function handleMouseDownRotate( event ) {

			rotateStart.set( event.clientX, event.clientY );

		}

		function handleMouseDownDolly( event ) {

			dollyStart.set( event.clientX, event.clientY );

		}

		function handleMouseDownPan( event ) {

			panStart.set( event.clientX, event.clientY );

		}

		function handleMouseMoveRotate( event ) {

			rotateEnd.set( event.clientX, event.clientY );

			rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );

			const element = scope.domElement;

			rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height

			rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );

			rotateStart.copy( rotateEnd );

			scope.update();

		}

		function handleMouseMoveDolly( event ) {

			dollyEnd.set( event.clientX, event.clientY );

			dollyDelta.subVectors( dollyEnd, dollyStart );

			if ( dollyDelta.y > 0 ) {

				dollyOut( getZoomScale() );

			} else if ( dollyDelta.y < 0 ) {

				dollyIn( getZoomScale() );

			}

			dollyStart.copy( dollyEnd );

			scope.update();

		}

		function handleMouseMovePan( event ) {

			panEnd.set( event.clientX, event.clientY );

			panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );

			pan( panDelta.x, panDelta.y );

			panStart.copy( panEnd );

			scope.update();

		}

		function handleMouseWheel( event ) {

			if ( event.deltaY < 0 ) {

				dollyIn( getZoomScale() );

			} else if ( event.deltaY > 0 ) {

				dollyOut( getZoomScale() );

			}

			scope.update();

		}

		function handleKeyDown( event ) {

			let needsUpdate = false;

			switch ( event.code ) {

				case scope.keys.UP:
					pan( 0, scope.keyPanSpeed );
					needsUpdate = true;
					break;

				case scope.keys.BOTTOM:
					pan( 0, - scope.keyPanSpeed );
					needsUpdate = true;
					break;

				case scope.keys.LEFT:
					pan( scope.keyPanSpeed, 0 );
					needsUpdate = true;
					break;

				case scope.keys.RIGHT:
					pan( - scope.keyPanSpeed, 0 );
					needsUpdate = true;
					break;

			}

			if ( needsUpdate ) {

				// prevent the browser from scrolling on cursor keys
				event.preventDefault();

				scope.update();

			}


		}

		function handleTouchStartRotate() {

			if ( pointers.length === 1 ) {

				rotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );

			} else {

				const x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );
				const y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );

				rotateStart.set( x, y );

			}

		}

		function handleTouchStartPan() {

			if ( pointers.length === 1 ) {

				panStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );

			} else {

				const x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );
				const y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );

				panStart.set( x, y );

			}

		}

		function handleTouchStartDolly() {

			const dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;
			const dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;

			const distance = Math.sqrt( dx * dx + dy * dy );

			dollyStart.set( 0, distance );

		}

		function handleTouchStartDollyPan() {

			if ( scope.enableZoom ) handleTouchStartDolly();

			if ( scope.enablePan ) handleTouchStartPan();

		}

		function handleTouchStartDollyRotate() {

			if ( scope.enableZoom ) handleTouchStartDolly();

			if ( scope.enableRotate ) handleTouchStartRotate();

		}

		function handleTouchMoveRotate( event ) {

			if ( pointers.length == 1 ) {

				rotateEnd.set( event.pageX, event.pageY );

			} else {

				const position = getSecondPointerPosition( event );

				const x = 0.5 * ( event.pageX + position.x );
				const y = 0.5 * ( event.pageY + position.y );

				rotateEnd.set( x, y );

			}

			rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );

			const element = scope.domElement;

			rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height

			rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );

			rotateStart.copy( rotateEnd );

		}

		function handleTouchMovePan( event ) {

			if ( pointers.length === 1 ) {

				panEnd.set( event.pageX, event.pageY );

			} else {

				const position = getSecondPointerPosition( event );

				const x = 0.5 * ( event.pageX + position.x );
				const y = 0.5 * ( event.pageY + position.y );

				panEnd.set( x, y );

			}

			panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );

			pan( panDelta.x, panDelta.y );

			panStart.copy( panEnd );

		}

		function handleTouchMoveDolly( event ) {

			const position = getSecondPointerPosition( event );

			const dx = event.pageX - position.x;
			const dy = event.pageY - position.y;

			const distance = Math.sqrt( dx * dx + dy * dy );

			dollyEnd.set( 0, distance );

			dollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );

			dollyOut( dollyDelta.y );

			dollyStart.copy( dollyEnd );

		}

		function handleTouchMoveDollyPan( event ) {

			if ( scope.enableZoom ) handleTouchMoveDolly( event );

			if ( scope.enablePan ) handleTouchMovePan( event );

		}

		function handleTouchMoveDollyRotate( event ) {

			if ( scope.enableZoom ) handleTouchMoveDolly( event );

			if ( scope.enableRotate ) handleTouchMoveRotate( event );

		}

		//
		// event handlers - FSM: listen for events and reset state
		//

		function onPointerDown( event ) {

			if ( scope.enabled === false ) return;

			if ( pointers.length === 0 ) {

				scope.domElement.setPointerCapture( event.pointerId );

				scope.domElement.addEventListener( 'pointermove', onPointerMove );
				scope.domElement.addEventListener( 'pointerup', onPointerUp );

			}

			//

			addPointer( event );

			if ( event.pointerType === 'touch' ) {

				onTouchStart( event );

			} else {

				onMouseDown( event );

			}

		}

		function onPointerMove( event ) {

			if ( scope.enabled === false ) return;

			if ( event.pointerType === 'touch' ) {

				onTouchMove( event );

			} else {

				onMouseMove( event );

			}

		}

		function onPointerUp( event ) {

		    removePointer( event );

		    if ( pointers.length === 0 ) {

		        scope.domElement.releasePointerCapture( event.pointerId );

		        scope.domElement.removeEventListener( 'pointermove', onPointerMove );
		        scope.domElement.removeEventListener( 'pointerup', onPointerUp );

		    }

		    scope.dispatchEvent( _endEvent );

		    state = STATE.NONE;

		}

		function onPointerCancel( event ) {

			removePointer( event );

		}

		function onMouseDown( event ) {

			let mouseAction;

			switch ( event.button ) {

				case 0:

					mouseAction = scope.mouseButtons.LEFT;
					break;

				case 1:

					mouseAction = scope.mouseButtons.MIDDLE;
					break;

				case 2:

					mouseAction = scope.mouseButtons.RIGHT;
					break;

				default:

					mouseAction = - 1;

			}

			switch ( mouseAction ) {

				case three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.DOLLY:

					if ( scope.enableZoom === false ) return;

					handleMouseDownDolly( event );

					state = STATE.DOLLY;

					break;

				case three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE:

					if ( event.ctrlKey || event.metaKey || event.shiftKey ) {

						if ( scope.enablePan === false ) return;

						handleMouseDownPan( event );

						state = STATE.PAN;

					} else {

						if ( scope.enableRotate === false ) return;

						handleMouseDownRotate( event );

						state = STATE.ROTATE;

					}

					break;

				case three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN:

					if ( event.ctrlKey || event.metaKey || event.shiftKey ) {

						if ( scope.enableRotate === false ) return;

						handleMouseDownRotate( event );

						state = STATE.ROTATE;

					} else {

						if ( scope.enablePan === false ) return;

						handleMouseDownPan( event );

						state = STATE.PAN;

					}

					break;

				default:

					state = STATE.NONE;

			}

			if ( state !== STATE.NONE ) {

				scope.dispatchEvent( _startEvent );

			}

		}

		function onMouseMove( event ) {

			if ( scope.enabled === false ) return;

			switch ( state ) {

				case STATE.ROTATE:

					if ( scope.enableRotate === false ) return;

					handleMouseMoveRotate( event );

					break;

				case STATE.DOLLY:

					if ( scope.enableZoom === false ) return;

					handleMouseMoveDolly( event );

					break;

				case STATE.PAN:

					if ( scope.enablePan === false ) return;

					handleMouseMovePan( event );

					break;

			}

		}

		function onMouseWheel( event ) {

			if ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;

			event.preventDefault();

			scope.dispatchEvent( _startEvent );

			handleMouseWheel( event );

			scope.dispatchEvent( _endEvent );

		}

		function onKeyDown( event ) {

			if ( scope.enabled === false || scope.enablePan === false ) return;

			handleKeyDown( event );

		}

		function onTouchStart( event ) {

			trackPointer( event );

			switch ( pointers.length ) {

				case 1:

					switch ( scope.touches.ONE ) {

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.ROTATE:

							if ( scope.enableRotate === false ) return;

							handleTouchStartRotate();

							state = STATE.TOUCH_ROTATE;

							break;

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.PAN:

							if ( scope.enablePan === false ) return;

							handleTouchStartPan();

							state = STATE.TOUCH_PAN;

							break;

						default:

							state = STATE.NONE;

					}

					break;

				case 2:

					switch ( scope.touches.TWO ) {

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_PAN:

							if ( scope.enableZoom === false && scope.enablePan === false ) return;

							handleTouchStartDollyPan();

							state = STATE.TOUCH_DOLLY_PAN;

							break;

						case three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_ROTATE:

							if ( scope.enableZoom === false && scope.enableRotate === false ) return;

							handleTouchStartDollyRotate();

							state = STATE.TOUCH_DOLLY_ROTATE;

							break;

						default:

							state = STATE.NONE;

					}

					break;

				default:

					state = STATE.NONE;

			}

			if ( state !== STATE.NONE ) {

				scope.dispatchEvent( _startEvent );

			}

		}

		function onTouchMove( event ) {

			trackPointer( event );

			switch ( state ) {

				case STATE.TOUCH_ROTATE:

					if ( scope.enableRotate === false ) return;

					handleTouchMoveRotate( event );

					scope.update();

					break;

				case STATE.TOUCH_PAN:

					if ( scope.enablePan === false ) return;

					handleTouchMovePan( event );

					scope.update();

					break;

				case STATE.TOUCH_DOLLY_PAN:

					if ( scope.enableZoom === false && scope.enablePan === false ) return;

					handleTouchMoveDollyPan( event );

					scope.update();

					break;

				case STATE.TOUCH_DOLLY_ROTATE:

					if ( scope.enableZoom === false && scope.enableRotate === false ) return;

					handleTouchMoveDollyRotate( event );

					scope.update();

					break;

				default:

					state = STATE.NONE;

			}

		}

		function onContextMenu( event ) {

			if ( scope.enabled === false ) return;

			event.preventDefault();

		}

		function addPointer( event ) {

			pointers.push( event );

		}

		function removePointer( event ) {

			delete pointerPositions[ event.pointerId ];

			for ( let i = 0; i < pointers.length; i ++ ) {

				if ( pointers[ i ].pointerId == event.pointerId ) {

					pointers.splice( i, 1 );
					return;

				}

			}

		}

		function trackPointer( event ) {

			let position = pointerPositions[ event.pointerId ];

			if ( position === undefined ) {

				position = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
				pointerPositions[ event.pointerId ] = position;

			}

			position.set( event.pageX, event.pageY );

		}

		function getSecondPointerPosition( event ) {

			const pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];

			return pointerPositions[ pointer.pointerId ];

		}

		//

		scope.domElement.addEventListener( 'contextmenu', onContextMenu );

		scope.domElement.addEventListener( 'pointerdown', onPointerDown );
		scope.domElement.addEventListener( 'pointercancel', onPointerCancel );
		scope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );

		// force an update at start

		this.update();

	}

}


// This set of controls performs orbiting, dollying (zooming), and panning.
// Unlike TrackballControls, it maintains the "up" direction object.up (+Y by default).
// This is very similar to OrbitControls, another set of touch behavior
//
//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate
//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish
//    Pan - left mouse, or arrow keys / touch: one-finger move

class MapControls extends OrbitControls {

	constructor( object, domElement ) {

		super( object, domElement );

		this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up

		this.mouseButtons.LEFT = three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.PAN;
		this.mouseButtons.RIGHT = three__WEBPACK_IMPORTED_MODULE_0__.MOUSE.ROTATE;

		this.touches.ONE = three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.PAN;
		this.touches.TWO = three__WEBPACK_IMPORTED_MODULE_0__.TOUCH.DOLLY_ROTATE;

	}

}




/***/ }),

/***/ 4903:
/*!************************************!*\
  !*** ./src/Experience/Renderer.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Renderer)
/* harmony export */ });
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Experience */ 9387);
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
// All rights reserved by Yon
// Renderer.js 
// Manager the THEE.JS Renderer Create




class Renderer {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.sizes = this.experience.sizes
        this.scene = this.experience.scene
        this.eCanvas = this.experience.eCanvas
        this.camera = this.experience.camera

        this.setInstance()
    }

    setInstance() {
        this.instance = new three__WEBPACK_IMPORTED_MODULE_1__.WebGLRenderer({
            canvas: this.eCanvas,
            antialias: true,
        })
        this.instance.physicallyCorrectLights = true;
        this.instance.outputEncoding = three__WEBPACK_IMPORTED_MODULE_1__.sRGBEncoding;
        this.instance.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__.ReinhardToneMapping;
        this.instance.shadowMap.enabled = true;
        this.instance.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__.PCFSoftShadowMap;
        this.instance.setClearColor('#211d20')
        this.instance.setSize(this.sizes.width,this.sizes.height)
        this.instance.setPixelRatio(this.sizes.pixelRatio)
    }

    resize(){
        this.instance.setSize(this.sizes.width,this.sizes.height)
        this.instance.setPixelRatio(this.sizes.pixelRatio)
    }

    update(){
        this.instance.render(this.scene,this.camera.instance)
    }
}


/***/ }),

/***/ 9739:
/*!*********************************************!*\
  !*** ./src/Experience/World/Atlas/Atlas.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Atlas)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Experience */ 9387);
// All rights reserved by Yon
// Atlas.js
// Manager the basic atlas renderer






class Atlas {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug
        this.caster = this.experience.caster

        if (this.debug.active) {
            this.debugFolder = this.debug.ui.addFolder("Atlas")
        }

        this.setGeometry()
        this.setTextures()
        this.setMaterial()
        this.setMesh()
        
        this.caster.register(this)
    }

    setGeometry() {
        this.geometry = new three__WEBPACK_IMPORTED_MODULE_1__.PlaneBufferGeometry(191.6, 132.9, 256, 128)
        this.geometry.attributes.uv2 = this.geometry.attributes.uv
    }
    setTextures() {
        this.textures = {}

        this.textures.atlas = this.resources.items.atlas
        this.textures.atlas.encoding = three__WEBPACK_IMPORTED_MODULE_1__.sRGBEncoding
        this.textures.atlas.repeat.set(1, 1)
        this.textures.atlas.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.atlas.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.normal = this.resources.items.atlasNormal
        this.textures.normal.encoding = three__WEBPACK_IMPORTED_MODULE_1__.LinearEncoding
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.displacement = this.resources.items.atlasDisplacement
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.occlusion = this.resources.items.atlasOcclusion
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping

        this.textures.roughness = this.resources.items.atlasRoughness
        this.textures.normal.wrapS = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
        this.textures.normal.wrapT = three__WEBPACK_IMPORTED_MODULE_1__.RepeatWrapping
    }
    setMaterial() {
        this.material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({
            map: this.textures.atlas,
            normalMap: this.textures.normal,
            aoMap: this.textures.occlusion,
            displacementMap: this.textures.displacement,
        })
        this.material.aoMapIntensity = 35
        this.material.displacementScale = 1.5
        this.material.normalScale = new three__WEBPACK_IMPORTED_MODULE_1__.Vector2(0.3, 0.3)
    }
    setMesh() {
        this.model = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(this.geometry, this.material)
        this.model.name = "atlas"

        this.model.rotation.x = -Math.PI * 0.5
        this.model.receiveShadow = true
        this.scene.add(this.model)
    }

    click(){
    }


    update() {}
}


/***/ }),

/***/ 4060:
/*!*******************************************!*\
  !*** ./src/Experience/World/Atlas/Fox.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Fox)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Experience */ 9387);
// All rights reserved by Yon
// Fox.js 
// Manager the Fox Resources





class Fox {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug
        this.caster = this.experience.caster

        if (this.debug.active) {
            this.debugFolder = this.debug.ui.addFolder("fox")
        }

        this.resource = this.resources.items.fox


        this.setModel()
        this.setAnimation()
        this.caster.register(this)
    
    }

    setModel() {
        this.model = this.resource.scene
        this.model.name = "fox"
        this.model.scale.set(0.02, 0.02, 0.02)
        this.scene.add(this.model)

        this.model.traverse((child) => {
            if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {

                child.castShadow = true
            }
        })
    }

    setAnimation() {
        this.animation = {}

        // Mixer
        this.animation.mixer = new three__WEBPACK_IMPORTED_MODULE_1__.AnimationMixer(this.model)

        // Actions
        this.animation.actions = {}

        this.animation.actions.idle = this.animation.mixer.clipAction(
            this.resource.animations[0]
        )
        this.animation.actions.walking = this.animation.mixer.clipAction(
            this.resource.animations[1]
        )
        this.animation.actions.running = this.animation.mixer.clipAction(
            this.resource.animations[2]
        )

        this.animation.actions.current = this.animation.actions.walking

        // this.animation.actions.current.play()

        this.animation.play = (name) => {
            const newAction = this.animation.actions[name]
            const oldAction = this.animation.actions.current
            newAction.reset()
            newAction.play()
            newAction.crossFadeFrom(oldAction, 1)

            this.animation.actions.current = newAction
        }

        if (this.debug.active) {
            const debugObject = {
                playIdle: () => {
                    this.animation.play("idle")
                },
                playWalking: () => {
                    this.animation.play("walking")
                },
                playRunning: () => {
                    this.animation.play("running")
                },
            }
            this.debugFolder.add(debugObject, "playIdle")
            this.debugFolder.add(debugObject, "playWalking")
            this.debugFolder.add(debugObject,'playRunning')
        }
    }



    update() {
        this.animation.mixer.update(this.time.delta * 0.001)
    }
}


/***/ }),

/***/ 8696:
/*!**********************************************!*\
  !*** ./src/Experience/World/Atlas/Monkey.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Monkey)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Experience */ 9387);




class Monkey {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug

        this.resource = this.resources.items.monkey

        this.setModel()

        this.caster = this.experience.caster
        this.caster.register(this)
    }

    setModel() {
        this.model = this.resource.scene
        this.model.scale.set(2, 2, 2)
        this.model.position.set(-25, 2, 30)
        this.scene.add(this.model)
        this.model.traverse((child) => {
            if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {
                child.castShadow = true
            }
        })
    }

    cursorClick() {
        
    }
}


/***/ }),

/***/ 9121:
/*!*********************************************!*\
  !*** ./src/Experience/World/Environment.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Environment)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience */ 9387);
// All rights reserved by Yon
// Environment.js 
// Manager the Environment
// Include light, envirMap
// Include how envirMap effect the material, it has a loop set for every object in scene





class Environment {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.debug = this.experience.debug

        if(this.debug.active){
            this.debugFolder = this.debug.ui.addFolder("environment")
        }

        this.setSunLight()
        this.setEnvironmentMap()
    }

    setSunLight() {
        const directionalLightIntensity = 10
        this.sunLight = new three__WEBPACK_IMPORTED_MODULE_1__.DirectionalLight(
            0xffffff,
            directionalLightIntensity
        )
        this.sunLight.position.set(-40, 40, 40)
        this.sunLight.castShadow = true
        // this.sunLight.shadow.camera.far = 15
        // this.sunLight.shadow.mapSize.width = 512
        // this.sunLight.shadow.mapSize.height = 512

        this.scene.add(this.sunLight)

        if(this.debug.active){
            this.debugFolder.add(this.sunLight,"intensity").name('sunLightIntensity').min(0).max(10).step(0.001)
            this.debugFolder.add(this.sunLight.position,"x").name('sunLightIntensity').min(-5).max(5).step(0.001)
            this.debugFolder.add(this.sunLight.position,"y").name('sunLightIntensity').min(-5).max(5).step(0.001)
            this.debugFolder.add(this.sunLight.position,"z").name('sunLightIntensity').min(-5).max(5).step(0.001)
        }

    }

    setEnvironmentMap() {
        this.environmentMap = {}
        this.environmentMap.intensity = 0.3
        this.environmentMap.texture = this.resources.items.environmentMapTexture
        this.environmentMap.texture.encoding = three__WEBPACK_IMPORTED_MODULE_1__.sRGBEncoding

        this.scene.environment = this.environmentMap.texture

        this.environmentMap.updateMaterial = () => {
            this.scene.traverse((child) => {
                if (
                    child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh &&
                    child.material instanceof three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial
                ) {
                    child.material.envMap = this.environmentMap.texture
                    child.material.envMapIntensity =
                        this.environmentMap.intensity
                    child.material.needsUpdate = true
                }
            })
        }
        this.environmentMap.updateMaterial()

        if(this.debug.active){
            this.debugFolder.add(this.environmentMap,"intensity").name('envMapIntensity').min(0).max(4).step(0.001).onChange(this.environmentMap.updateMaterial)
        }
    }
}


/***/ }),

/***/ 5336:
/*!***************************************!*\
  !*** ./src/Experience/World/World.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ World)
/* harmony export */ });
/* harmony import */ var _Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience */ 9387);
/* harmony import */ var _Environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Environment */ 9121);
/* harmony import */ var _Utils_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Utils/Helper */ 4920);
/* harmony import */ var _Atlas_Fox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Atlas/Fox */ 4060);
/* harmony import */ var _Atlas_Monkey__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Atlas/Monkey */ 8696);
/* harmony import */ var _Atlas_Atlas__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Atlas/Atlas */ 9739);
// All rights reserved by Yon
// word.js
// Manager the render world outline









class World {
    constructor() {
        this.experience = new _Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.caster = this.experience.caster

        this.resources.on("ready", () => {
            console.log("resources are ready")

            this.fox = new _Atlas_Fox__WEBPACK_IMPORTED_MODULE_3__["default"]()
            this.monkey = new _Atlas_Monkey__WEBPACK_IMPORTED_MODULE_4__["default"]()
            this.atlas = new _Atlas_Atlas__WEBPACK_IMPORTED_MODULE_5__["default"]()

            this.environment = new _Environment__WEBPACK_IMPORTED_MODULE_1__["default"]()

            this.helper = new _Utils_Helper__WEBPACK_IMPORTED_MODULE_2__["default"]()
        })
    }

    update() {
        if (this.fox) {
            this.fox.update()
        }
    }
}


/***/ }),

/***/ 9780:
/*!***********************************!*\
  !*** ./src/Experience/sources.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// All rights reserved by Yon
// sources.js 
// Manager the art resources load path and type information
// support *tex *gltfModel *cubeTex
// Manager By Resources.js

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([
    {
        name: "environmentMapTexture",
        type: "cubeTex",
        path: [
            "textures/environmentMaps/0/px.jpg",
            "textures/environmentMaps/0/nx.jpg",
            "textures/environmentMaps/0/py.jpg",
            "textures/environmentMaps/0/ny.jpg",
            "textures/environmentMaps/0/pz.jpg",
            "textures/environmentMaps/0/nz.jpg",
        ],
    },


    {
        name: "fox",
        type: "gltfModel",
        path: "models/Fox/glTF/Fox.gltf",
    },
    {
        name: "monkey",
        type: "gltfModel",
        path: "models/Monkey/Monkey.gltf",
    },

    {
        name: "atlas",
        type:"tex",
        path: "textures/atlas/atlasMeta.png"
    },
    {
        name: "atlasNormal",
        type: "tex",
        path: "textures/atlas/normal.png",
    },
    {
        name: "atlasDisplacement",
        type: "tex",
        path: "textures/atlas/displacement.png",
    },
    {
        name: "atlasOcclusion",
        type: "tex",
        path: "textures/atlas/occlusion.png",
    },
    {
        name: "atlasRoughness",
        type: "tex",
        path: "textures/atlas/roughness.png",
    }
]);


/***/ }),

/***/ 6221:
/*!********************************!*\
  !*** ./src/Profile/ECanvas.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ECanvas)
/* harmony export */ });
/* harmony import */ var _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience/Experience */ 9387);
/* harmony import */ var _Profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Profile */ 2796);
// All rights reserved by Yon
// Canvas.js
// Manager the THREE.js Renderer
// Manager the event from Renderer





class ECanvas {
    constructor() {
        this.init()
        this.profile = new _Profile__WEBPACK_IMPORTED_MODULE_1__["default"]()
        this.region = this.profile.region
        console.log(this.region)
    }

    init(){
        this.eCanvas = document.createElement("canvas")
        this.eCanvas.className = "webgl"
        this.experience = new _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__["default"](this)
        document.body.insertBefore(this.eCanvas, document.body.children[0])
    }

    //call in experience
    rayClick(obj,model){
        console.log("click from: "+ model.name+ " in ecanvas")
        if(this.region.rayClick){
            this.region.rayClick(obj,model)
        }
    }
}


/***/ }),

/***/ 7355:
/*!********************************!*\
  !*** ./src/Profile/ERegion.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ERegion)
/* harmony export */ });
/* harmony import */ var _Profile__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Profile */ 2796);


class ERegion {
    constructor() {
        this.profile = new _Profile__WEBPACK_IMPORTED_MODULE_0__["default"]()

        this.init()
    }

    init() {
        this.eRegionalProfile = document.createElement("div")
        this.eRegionalProfile.className = "region"

        this.eRegionalTitle = document.createElement("h3")
        this.eRegionalTitle.className = "regionTitle"
        this.eRegionalTitle.innerHTML = "GrayLand"
        this.eRegionalProfile.appendChild(this.eRegionalTitle)

        this.eRegionalDescription = document.createElement("p")
        this.eRegionalDescription.className = "regionDescription"
        this.eRegionalDescription.innerHTML =
            "But the coin slipped through the slot, and she picked it up again, just like last time."
        this.eRegionalProfile.appendChild(this.eRegionalDescription)

        this.eDiscover = document.createElement("a")
        this.eDiscover.className = "discover"
        this.eDiscover.href = ""
        this.eDiscover.innerHTML = "Discover..."
        this.eRegionalProfile.appendChild(this.eDiscover)

        document.body.appendChild(this.eRegionalProfile)
    }

    rayClick(obj, model) {
        // id = model.name != content folder name
        // id is equall to current model clicked, data may not refresh when clicked
        
        this.id = model.name;
        console.log("click from: " + this.id + " in eRegion")
        try{
            this.data = __webpack_require__(2428)("./" + this.id + "/main.json")
        }catch(err){
            console.log("no content about " +this.id)
        }

        //refresh the eRegion
        if (this.data) {
            this.eRegionalTitle.innerHTML = this.data.title
            this.eRegionalDescription.innerHTML = this.data.description
            this.eDiscover.href = "/explore?place=" + this.data.id
            console.log(this.eDiscover.href)
        }
    }
}


/***/ }),

/***/ 4762:
/*!******************************!*\
  !*** ./src/Profile/ETemp.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ETemp)
/* harmony export */ });

class ETemp{
    constructor() {

        this.data = __webpack_require__(/*! ../../../static/content/temp.json */ 1199)

        this.element = document.createElement("div")

        this.currentLanguage = 0

        this.initLanguage()

        this.initIntroduce()

        this.switchIntroduce()

        document.body.appendChild(this.element)
    }

    initLanguage() {
        this.eLanguage = document
            .createElement("div")
        this.eLanguage.id = "language"
        this.eLanguage.innerHTML = this.data.language

        this.element.appendChild(this.eLanguage)
    }

    initIntroduce() {
        this.eIntroduce = document.createElement("div")
        this.eIntroduce.className = "text"
        this.putIntroduce()
        this.element.appendChild(this.eIntroduce)
    }

    switchIntroduce() {
        this.eLanguage.addEventListener("click", () => {
            if (this.currentLanguage != 0) {
                this.currentLanguage = 0
            } else {
                this.currentLanguage = 1
            }
            this.putIntroduce();
        })
    }

    putIntroduce() {
        if (this.currentLanguage == 0) {
            this.sIntroduce = this.wordLine(this.data.chinese)
        } else {
            this.sIntroduce = this.wordLine(this.data.english)
        }
        this.eIntroduce.innerHTML = this.sIntroduce
    }

    wordLine(language) {
        let i,
            word = "<li>"
        for (i in language.word) {
            word += language.word[i] + "</li>"
            word += "<li>"
        }
        return word
    }
}


/***/ }),

/***/ 2796:
/*!********************************!*\
  !*** ./src/Profile/Profile.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Profile)
/* harmony export */ });
/* harmony import */ var _ETemp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ETemp */ 4762);
/* harmony import */ var _ERegion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ERegion */ 7355);
/* harmony import */ var _ECanvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ECanvas */ 6221);




let instance = null

class Profile {
    constructor() {
        if (instance) {
            return instance
        }
        instance = this

        window.profile = this

        this.temp = new _ETemp__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.region = new _ERegion__WEBPACK_IMPORTED_MODULE_1__["default"]()
        
        //create this finally
        this.canvas = new _ECanvas__WEBPACK_IMPORTED_MODULE_2__["default"]()

    }
}


/***/ }),

/***/ 7617:
/*!*****************************!*\
  !*** ./src/Utils/Cursor.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Cursor)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventEmitter.js */ 4841);




class Cursor extends _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super()

        this.coord = new three__WEBPACK_IMPORTED_MODULE_1__.Vector2()

        let drag = false

        window.addEventListener("mousemove", (event) => {
            drag = true

            // calculate pointer position in normalized device coordinates
            // (-1 to +1) for both components

            this.coord.x = (event.clientX / window.innerWidth) * 2 - 1
            this.coord.y = -(event.clientY / window.innerHeight) * 2 + 1

            this.trigger("move")
        })

        window.addEventListener("mousedown", () => (drag = false))

        window.addEventListener("mouseup", () => {
            if (!drag) this.trigger("click")
        })

        window.onscroll = () => {
            if (window.pageYOffset > 0) {
                this.trigger("scroll")
            }
        }
    }
}


/***/ }),

/***/ 3859:
/*!****************************!*\
  !*** ./src/Utils/Debug.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Debug)
/* harmony export */ });
/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ 4376);


class Debug{
    constructor(){
        this.active = window.location.hash ==='#debug'
        console.log("DebugMode:"+this.active)
        if (this.active) {
            this.ui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__.GUI()
        }       
    }
}

/***/ }),

/***/ 4841:
/*!***********************************!*\
  !*** ./src/Utils/EventEmitter.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EventEmitter)
/* harmony export */ });
class EventEmitter
{
    constructor()
    {
        this.callbacks = {}
        this.callbacks.base = {}
    }

    on(_names, callback)
    {
        // Errors
        if(typeof _names === 'undefined' || _names === '')
        {
            console.warn('wrong names')
            return false
        }

        if(typeof callback === 'undefined')
        {
            console.warn('wrong callback')
            return false
        }

        // Resolve names
        const names = this.resolveNames(_names)

        // Each name
        names.forEach((_name) =>
        {
            // Resolve name
            const name = this.resolveName(_name)

            // Create namespace if not exist
            if(!(this.callbacks[ name.namespace ] instanceof Object))
                this.callbacks[ name.namespace ] = {}

            // Create callback if not exist
            if(!(this.callbacks[ name.namespace ][ name.value ] instanceof Array))
                this.callbacks[ name.namespace ][ name.value ] = []

            // Add callback
            this.callbacks[ name.namespace ][ name.value ].push(callback)
        })

        return this
    }

    off(_names)
    {
        // Errors
        if(typeof _names === 'undefined' || _names === '')
        {
            console.warn('wrong name')
            return false
        }

        // Resolve names
        const names = this.resolveNames(_names)

        // Each name
        names.forEach((_name) =>
        {
            // Resolve name
            const name = this.resolveName(_name)

            // Remove namespace
            if(name.namespace !== 'base' && name.value === '')
            {
                delete this.callbacks[ name.namespace ]
            }

            // Remove specific callback in namespace
            else
            {
                // Default
                if(name.namespace === 'base')
                {
                    // Try to remove from each namespace
                    for(const namespace in this.callbacks)
                    {
                        if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)
                        {
                            delete this.callbacks[ namespace ][ name.value ]

                            // Remove namespace if empty
                            if(Object.keys(this.callbacks[ namespace ]).length === 0)
                                delete this.callbacks[ namespace ]
                        }
                    }
                }

                // Specified namespace
                else if(this.callbacks[ name.namespace ] instanceof Object && this.callbacks[ name.namespace ][ name.value ] instanceof Array)
                {
                    delete this.callbacks[ name.namespace ][ name.value ]

                    // Remove namespace if empty
                    if(Object.keys(this.callbacks[ name.namespace ]).length === 0)
                        delete this.callbacks[ name.namespace ]
                }
            }
        })

        return this
    }

    trigger(_name, _args)
    {
        // Errors
        if(typeof _name === 'undefined' || _name === '')
        {
            console.warn('wrong name')
            return false
        }

        let finalResult = null
        let result = null

        // Default args
        const args = !(_args instanceof Array) ? [] : _args

        // Resolve names (should on have one event)
        let name = this.resolveNames(_name)

        // Resolve name
        name = this.resolveName(name[ 0 ])

        // Default namespace
        if(name.namespace === 'base')
        {
            // Try to find callback in each namespace
            for(const namespace in this.callbacks)
            {
                if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)
                {
                    this.callbacks[ namespace ][ name.value ].forEach(function(callback)
                    {
                        result = callback.apply(this, args)

                        if(typeof finalResult === 'undefined')
                        {
                            finalResult = result
                        }
                    })
                }
            }
        }

        // Specified namespace
        else if(this.callbacks[ name.namespace ] instanceof Object)
        {
            if(name.value === '')
            {
                console.warn('wrong name')
                return this
            }

            this.callbacks[ name.namespace ][ name.value ].forEach(function(callback)
            {
                result = callback.apply(this, args)

                if(typeof finalResult === 'undefined')
                    finalResult = result
            })
        }

        return finalResult
    }

    resolveNames(_names)
    {
        let names = _names
        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '')
        names = names.replace(/[,/]+/g, ' ')
        names = names.split(' ')

        return names
    }

    resolveName(name)
    {
        const newName = {}
        const parts = name.split('.')

        newName.original  = name
        newName.value     = parts[ 0 ]
        newName.namespace = 'base' // Base namespace

        // Specified namespace
        if(parts.length > 1 && parts[ 1 ] !== '')
        {
            newName.namespace = parts[ 1 ]
        }

        return newName
    }
}

/***/ }),

/***/ 4920:
/*!*****************************!*\
  !*** ./src/Utils/Helper.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Helper)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Experience/Experience */ 9387);




class Helper {
    constructor() {
        this.experience = new _Experience_Experience__WEBPACK_IMPORTED_MODULE_0__["default"]()
        this.scene = this.experience.scene
        this.resources = this.experience.resources
        this.time = this.experience.time
        this.debug = this.experience.debug
        this.camera = this.experience.camera

        if(this.debug.active){
        
            const cameraHelper = new three__WEBPACK_IMPORTED_MODULE_1__.CameraHelper( this.camera.instance );
            this.scene.add(cameraHelper)
    
            const axesHelper = new three__WEBPACK_IMPORTED_MODULE_1__.AxesHelper(10)
            this.scene.add(axesHelper)
    
            if (this.experience.world.environment) {
                this.environment = this.experience.world.environment
    
                const directionalLightHelper = new three__WEBPACK_IMPORTED_MODULE_1__.DirectionalLightHelper(
                    this.environment.sunLight,
                    0.2
                )
                const directionalLightCameraHelper = new three__WEBPACK_IMPORTED_MODULE_1__.CameraHelper(
                    this.environment.sunLight.shadow.camera
                )
                this.scene.add(directionalLightCameraHelper)
                this.scene.add(directionalLightHelper)
            }
        }

    }
}


/***/ }),

/***/ 4449:
/*!********************************!*\
  !*** ./src/Utils/Resources.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Resources)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ 9477);
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ 1217);
/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventEmitter */ 4841);





class Resources extends _EventEmitter__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(sources) {
        super()
        this.sources = sources

        this.items = {}
        this.toLoad = this.sources.length
        this.loaded = 0

        this.setLoaders()
        this.startLoading()
    }

    setLoaders() {
        this.loaders = {}
        this.loaders.gltfLoader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__.GLTFLoader()
        this.loaders.textureLoader = new three__WEBPACK_IMPORTED_MODULE_2__.TextureLoader()
        this.loaders.cubeTextureLoader = new three__WEBPACK_IMPORTED_MODULE_2__.CubeTextureLoader()
    }

    startLoading() {
        for (const source of this.sources) {
            if (source.type === "gltfModel") {
                this.loaders.gltfLoader.load(source.path, (file) => {
                    this.sourceLoaded(source, file)
                })
            }
            if (source.type === "cubeTex") {
                this.loaders.cubeTextureLoader.load(source.path, (file) => {
                    this.sourceLoaded(source, file)
                })
            }
            if (source.type === "tex") {
                this.loaders.textureLoader.load(source.path, (file) => {
                    this.sourceLoaded(source, file)
                })
            }
        }
    }

    sourceLoaded(source, file) {
        this.items[source.name] = file
        console.log(source, file)
        this.loaded++
        if (this.loaded === this.toLoad) {
            this.trigger("ready")
        }
    }
}


/***/ }),

/***/ 5721:
/*!****************************!*\
  !*** ./src/Utils/Sizes.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Sizes)
/* harmony export */ });
/* harmony import */ var _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventEmitter.js */ 4841);


class Sizes extends _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super()
        this.width = window.innerWidth
        this.height = window.innerHeight
        this.pixelRatio = Math.min(window.devicePixelRatio, 2)

        window.addEventListener("resize", () => {
            this.width = window.innerWidth
            this.height = window.innerHeight
            this.pixelRatio = Math.min(window.devicePixelRatio, 2)

            this.trigger("resize")
        })
    }
}


/***/ }),

/***/ 6490:
/*!***************************!*\
  !*** ./src/Utils/Time.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Time)
/* harmony export */ });
/* harmony import */ var _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventEmitter.js */ 4841);


class Time extends _EventEmitter_js__WEBPACK_IMPORTED_MODULE_0__["default"]
{
    constructor()
    {
        super()

        // Setup
        this.start = Date.now()
        this.current = this.start
        this.elapsed = 0
        this.delta = 16

        window.requestAnimationFrame(() =>
        {
            this.tick()
        })
    }

    tick()
    {
        const currentTime = Date.now()
        this.delta = currentTime - this.current
        this.current = currentTime
        this.elapsed = this.current - this.start

        this.trigger('tick')

        window.requestAnimationFrame(() =>
        {
            this.tick()
        })
    }
}

/***/ }),

/***/ 8138:
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _css_style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css/style.css */ 6962);
/* harmony import */ var _Profile_Profile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Profile/Profile */ 2796);
// All rights reserved by Yon
// index.js 
// Manager the HTML Doc





const profile = new _Profile_Profile__WEBPACK_IMPORTED_MODULE_1__["default"]()





/***/ }),

/***/ 2428:
/*!***************************************************!*\
  !*** ./static/content/ sync ^\.\/.*\/main\.json$ ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./Suzanne/main.json": 5349,
	"./fox/main.json": 6091
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 2428;

/***/ }),

/***/ 5349:
/*!******************************************!*\
  !*** ./static/content/Suzanne/main.json ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"id":"Suzanne","title":"Desert","description":"The memory about the scar on somebody\'s face.","background":"desert.webp","block":[{"name":"Desert Killer","description":"I can\'t bear to think of him waiting in the room knowing he\'s going to die.  It\'s fucking horrible.","type":"gallery","src":[{"path":"yuqinyang.webp","name":"yuqinyang","description":"The taoist of the Autumn Pool."},{"path":"xiaojue.webp","name":"xiaojue","description":"The little girl saved from the bandits."},{"path":"desert.webp","name":"desert","description":"The little girl saved from the bandits."}]},{"name":"Hope at least","description":"--the gone of wind","type":"story","src":[{"path":"desert.txt","banner":"xiaojue.webp","name":"Desert","author":"Yon","description":"A man can be destroyed but not defeated"},{"path":"whiteforest.txt","banner":"desert.webp","name":"White Forest","author":"Yon","description":"Slowly, She turned her head and looked under her ass. It seemed to be a corpse, the corpse of someone who was about to die."}]}]}');

/***/ }),

/***/ 6091:
/*!**************************************!*\
  !*** ./static/content/fox/main.json ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"id":"fox","title":"Fox","description":"The memory about the scar on somebody\'s face.","background":"fox.webp","block":[{"name":"Desert Killer","description":"I can\'t bear to think of him waiting in the room knowing he\'s going to die.  It\'s fucking horrible.","type":"gallery","src":[]},{"name":"Hope at least","description":"--the gone of wind","type":"story","src":[]}]}');

/***/ }),

/***/ 1199:
/*!**********************************!*\
  !*** ./static/content/temp.json ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"language":"中文/English","chinese":{"word":["Auther: Yon","2022-04-04","BetaVersion 1.0","# Copyright © 2021-2022 Yiyong Jiang. All rights reserved.","","Project: Gone","","RoadMap:","设计选择地区后的交互模式","移动端交互改为移动","优化图片资源的大小","近处视角下地图分块加载","增加右键相机旋转后松开自动回到默认角度","增加地图周边区域","优化滚轮缩放平滑","优化缩放比例","删去环境反射球,并增加环境球谐","","Done!","Helper移动至Debug.js下","增加地图上区域选择触发"]},"english":{"word":["Need to be improved"]}}');

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors"], () => (__webpack_exec__(8138)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUJBQXVCLDBDQUFPO0FBQzlCLHlCQUF5QiwwQ0FBTztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBDQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDBDQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOENBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrQ0FBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNENBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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REFBbUI7QUFDNUQsNkNBQTZDLG9EQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyRDRDO0FBQzVDO0FBQ2Usb0JBQW9CLHdEQUFZO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2pCNEM7QUFDNUM7QUFDZSxtQkFBbUIsd0RBQVk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dCO0FBQ3hCO0FBQ3dDO0FBQ3hDO0FBQ0Esb0JBQW9CLHdEQUFPO0FBQzNCO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNYQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL2Nzcy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL2Nzcy9zdHlsZS5jc3M/OWZjZCIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9DYW1lcmEuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvQ2FzdGVyLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL0V4cGVyaWVuY2UuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvT3ZlcnJpZGUvT3JiaXRDb250cm9scy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9SZW5kZXJlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9Xb3JsZC9BdGxhcy9BdGxhcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRXhwZXJpZW5jZS9Xb3JsZC9BdGxhcy9Gb3guanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL0V4cGVyaWVuY2UvV29ybGQvQXRsYXMvTW9ua2V5LmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL1dvcmxkL0Vudmlyb25tZW50LmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL1dvcmxkL1dvcmxkLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9FeHBlcmllbmNlL3NvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1Byb2ZpbGUvRUNhbnZhcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvUHJvZmlsZS9FUmVnaW9uLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9Qcm9maWxlL0VUZW1wLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9Qcm9maWxlL1Byb2ZpbGUuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1V0aWxzL0N1cnNvci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvVXRpbHMvRGVidWcuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1V0aWxzL0V2ZW50RW1pdHRlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvVXRpbHMvSGVscGVyLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9VdGlscy9SZXNvdXJjZXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL1V0aWxzL1NpemVzLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9VdGlscy9UaW1lLmpzIiwid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zdGF0aWMvY29udGVudHxzeW5jfC9eLy4qL21haW4vLmpzb24kIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiKiB7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG59XFxyXFxuXFxyXFxuLndlYmdsIHtcXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbmJvZHkge1xcclxcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAvKueBq+eLkCovXFxyXFxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIC8qd2Via2l05rWP6KeI5ZmoKi9cXHJcXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAvKklFMTAqL1xcclxcbiAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIC8q5pep5pyf5rWP6KeI5ZmoKi9cXHJcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi50ZXh0IHtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBjb2xvcjogI2ZmZmZmZjtcXHJcXG4gICAgZm9udC1zaXplOiA2cHg7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4jbGFuZ3VhZ2Uge1xcclxcbiAgICBjb2xvcjogI2ZmZmZmZjtcXHJcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxufVxcclxcblxcclxcbi5yZWdpb24ge1xcclxcbiAgICBiYWNrZ3JvdW5kOiByZ2IoMzUsIDMxLCAzNCk7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXHJcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDEwMHB4KTtcXHJcXG4gICAgaGVpZ2h0OiAxMjBweDtcXHJcXG4gICAgbWF4LXdpZHRoOiAzMDBweDtcXHJcXG4gICAgcGFkZGluZzogMzRweCAzMHB4IDE3cHg7XFxyXFxuXFxyXFxuICAgIGNvbG9yOiAjZmZmZmZmO1xcclxcblxcclxcbiAgICBmb250LWZhbWlseTogXFxcIkx1Y2lkYSBDb25zb2xlXFxcIiwgXFxcIkNvdXJpZXIgTmV3XFxcIiwgbW9ub3NwYWNlO1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuXFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgdG9wOiBhdXRvO1xcclxcbiAgICByaWdodDogYXV0bztcXHJcXG4gICAgYm90dG9tOiAxMCU7XFxyXFxuICAgIGxlZnQ6IDUlO1xcclxcbiAgXFxyXFxufVxcclxcblxcclxcbi5yZWdpb25UaXRsZXtcXHJcXG4gICAgZm9udC1zaXplOiAyNHB4O1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzo4cHg7XFxyXFxufVxcclxcblxcclxcbi5yZWdpb25EZXNjcmlwdGlvbntcXHJcXG4gICAgZm9udC1zaXplOiAxMnB4O1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzoxcHg7XFxyXFxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xcclxcbiAgICBwYWRkaW5nLWJvdHRvbToxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uZGlzY292ZXJ7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiBhdXRvO1xcclxcbiAgICByaWdodDogYXV0bztcXHJcXG4gICAgYm90dG9tOiAxMiU7XFxyXFxuICAgIGxlZnQ6IC0yJTtcXHJcXG5cXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICBjb2xvcjogcmdiKDIxLCAwLCAxNTYpO1xcclxcbiAgICBwYWRkaW5nOiA1cHggM3B4IDNweCAxMHB4O1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOjJweDtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY3NzL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsTUFBTTtJQUNOLE9BQU87SUFDUCxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLEtBQUs7SUFDTCx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLHFCQUFxQjtJQUNyQixPQUFPO0lBQ1Asd0JBQXdCO0lBQ3hCLFFBQVE7SUFDUixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxNQUFNO0lBQ04sT0FBTztJQUNQLGNBQWM7SUFDZCxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLDBCQUEwQjtJQUMxQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSwyQkFBMkI7SUFDM0Isa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLHVCQUF1Qjs7SUFFdkIsY0FBYzs7SUFFZCx1REFBdUQ7SUFDdkQsZUFBZTs7SUFFZixlQUFlO0lBQ2YsU0FBUztJQUNULFdBQVc7SUFDWCxXQUFXO0lBQ1gsUUFBUTs7QUFFWjs7QUFFQTtJQUNJLGVBQWU7SUFDZixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVc7SUFDWCxXQUFXO0lBQ1gsU0FBUzs7SUFFVCx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIioge1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbi53ZWJnbCB7XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLyrngavni5AqL1xcclxcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAvKndlYmtpdOa1j+iniOWZqCovXFxyXFxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLypJRTEwKi9cXHJcXG4gICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAvKuaXqeacn+a1j+iniOWZqCovXFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4udGV4dCB7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgY29sb3I6ICNmZmZmZmY7XFxyXFxuICAgIGZvbnQtc2l6ZTogNnB4O1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcclxcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuI2xhbmd1YWdlIHtcXHJcXG4gICAgY29sb3I6ICNmZmZmZmY7XFxyXFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4ucmVnaW9uIHtcXHJcXG4gICAgYmFja2dyb3VuZDogcmdiKDM1LCAzMSwgMzQpO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMDBweCk7XFxyXFxuICAgIGhlaWdodDogMTIwcHg7XFxyXFxuICAgIG1heC13aWR0aDogMzAwcHg7XFxyXFxuICAgIHBhZGRpbmc6IDM0cHggMzBweCAxN3B4O1xcclxcblxcclxcbiAgICBjb2xvcjogI2ZmZmZmZjtcXHJcXG5cXHJcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJMdWNpZGEgQ29uc29sZVxcXCIsIFxcXCJDb3VyaWVyIE5ld1xcXCIsIG1vbm9zcGFjZTtcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcblxcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHRvcDogYXV0bztcXHJcXG4gICAgcmlnaHQ6IGF1dG87XFxyXFxuICAgIGJvdHRvbTogMTAlO1xcclxcbiAgICBsZWZ0OiA1JTtcXHJcXG4gIFxcclxcbn1cXHJcXG5cXHJcXG4ucmVnaW9uVGl0bGV7XFxyXFxuICAgIGZvbnQtc2l6ZTogMjRweDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6OHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucmVnaW9uRGVzY3JpcHRpb257XFxyXFxuICAgIGZvbnQtc2l6ZTogMTJweDtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6MXB4O1xcclxcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcXHJcXG4gICAgcGFkZGluZy1ib3R0b206MTBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmRpc2NvdmVye1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogYXV0bztcXHJcXG4gICAgcmlnaHQ6IGF1dG87XFxyXFxuICAgIGJvdHRvbTogMTIlO1xcclxcbiAgICBsZWZ0OiAtMiU7XFxyXFxuXFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXHJcXG4gICAgY29sb3I6IHJnYigyMSwgMCwgMTU2KTtcXHJcXG4gICAgcGFkZGluZzogNXB4IDNweCAzcHggMTBweDtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzoycHg7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIENhbWVyYS5qcyBcclxuLy8gTWFuYWdlciB0aGUgY2FtZXJhIGNvbnRyb2xcclxuLy8gaGVyZSB1c2UgdGhlIE9yYml0Q29udHJvbHMgZm9ybSBUSFJFRS5qcyBhbmQgb3ZlcnJpZGUgaXQgd2l0aCB6b29uIHNjYWxlIGN1c3RvbWl6YXRpb25cclxuXHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcblxyXG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSBcIi4vT3ZlcnJpZGUvT3JiaXRDb250cm9sc1wiXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi9FeHBlcmllbmNlXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zaXplcyA9IHRoaXMuZXhwZXJpZW5jZS5zaXplc1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmV4cGVyaWVuY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLmVDYW52YXMgPSB0aGlzLmV4cGVyaWVuY2UuZUNhbnZhc1xyXG5cclxuICAgICAgICB0aGlzLnNldEluc3RhbmNlKClcclxuICAgICAgICB0aGlzLnNldE9yYml0Q29udHJvbCgpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShcclxuICAgICAgICAgICAgNjAsXHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZXMud2lkdGggLyB0aGlzLnNpemVzLmhlaWdodCxcclxuICAgICAgICAgICAgMC4xLFxyXG4gICAgICAgICAgICAxMDAwXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UucG9zaXRpb24uc2V0KDAsIDUxLjk2MTUsIDMwKVxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuaW5zdGFuY2UpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0T3JiaXRDb250cm9sKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyh0aGlzLmluc3RhbmNlLCB0aGlzLmVDYW52YXMpXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5lbmFibGVEYW1waW5nID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IDAuMlxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuc2NyZWVuU3BhY2VQYW5uaW5nID0gZmFsc2VcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5tb3VzZUJ1dHRvbnMgPSB7XHJcbiAgICAgICAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRS5ST1RBVEUsXHJcbiAgICAgICAgICAgIE1JRERMRTogVEhSRUUuTU9VU0UuRE9MTFksXHJcbiAgICAgICAgICAgIExFRlQ6IFRIUkVFLk1PVVNFLlBBTixcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzLm1heERpc3RhbmNlID0gMTIwXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5taW5EaXN0YW5jZSA9IDMwXHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMubWluQXppbXV0aEFuZ2xlID0gLU1hdGguUEkgLyAzXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5tYXhBemltdXRoQW5nbGUgPSBNYXRoLlBJIC8gM1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMubWluUG9sYXJBbmdsZSA9IE1hdGguUEkvMTJcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJLzRcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9scy56b29tU3BlZWQgPSAwLjVcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5taW5QYW5Cb3ggPSBuZXcgVEhSRUUuVmVjdG9yMygtOTUsMCwtNjYpXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5tYXhQYW5Cb3ggPSBuZXcgVEhSRUUuVmVjdG9yMyg5NSwwLDY2KVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMubGltaXRQYW4gPSB0cnVlXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLmFzcGVjdCA9IHRoaXMuc2l6ZXMud2lkdGggLyB0aGlzLnNpemVzLmhlaWdodFxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMudXBkYXRlKClcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLy8gQWxsIHJpZ2h0cyByZXNlcnZlZCBieSBZb25cclxuLy8gQ2FzdGVyLmpzIFxyXG4vLyBNYW5hZ2VyIHRoZSByYXljYXN0ZXIgZnJvbSB0aHJlZVxyXG4vLyByYXljYXN0ZXIgY29udGFpbiB0aGUgbW92ZSBldmVudCBhbmQgY2xpY2sgZXZlbnQsIGNhbGwgZnJvbSBleHBlcmllbmNlXHJcbi8vIHJheU1vdmUvcmF5SW4vcmF5T3V0L3JheUNsaWNrXHJcbi8vIHRoZXkgd2lsbCBrZWVwIHBhc3MgY2FsbCB0byB0aGUgY3VycmVudE9ianQgZXZlbnQgZnVuY3Rpb24gc2FtZSBuYW1lIGFzIHRoZW1zZWx2ZXNcclxuLy8gdGhpcyBjbGFzcyBjYW4gcGFzcyBldmVudCBjYWxsIHRvIHRoZSBjYW52YXNqcywgYW5kIGNhbnZhc2pzIHdpbGwga2VlcCBwYXNzIHRoZXNlIGV2ZW50IGNhbGwgdG8gb3RoZXIgaHRtbCBlbGVtZW50XHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4vRXhwZXJpZW5jZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXN0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gdGhpcy5leHBlcmllbmNlLmNhbnZhcyBcclxuXHJcblxyXG4gICAgICAgIHRoaXMucmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5leHBlcmllbmNlLmNhbWVyYVxyXG4gICAgICAgIHRoaXMuY3Vyc29yID0gdGhpcy5leHBlcmllbmNlLmN1cnNvclxyXG5cclxuICAgICAgICB0aGlzLmNhc3Rlck9iamVjdHMgPSB7fVxyXG4gICAgICAgIHRoaXMuY2FzdGVyTW9kZWxzID0gW11cclxuICAgICAgICAvL2ZpbmFsIEludGVyc2VjdCBTdHJ1Y3QsIGNvbnRhaW4gaW50ZXJzZWN0IGluZm9ybWF0aW9uXHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW50ZXJzZWN0ID0gbnVsbFxyXG4gICAgICAgIC8vZmluYWwgSW50ZXJzZWN0IG1vZGVsLCBvbmx5IGNvbnRhaW4gTWVzaCBpbmZvcm1hdGlvblxyXG4gICAgICAgIHRoaXMuY3VycmVudE1vZGVsID0gbnVsbFxyXG4gICAgICAgIC8vZmluYWwgaW50ZXJzZWN0IGNsYXNzLCBoYXZlIGFsbCBjbGFzcyBpbmZvcm1hdGlvblxyXG4gICAgICAgIHRoaXMuY3VycmVudE9iaiA9IG51bGxcclxuXHJcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSh0aGlzLmN1cnNvci5jb29yZCwgdGhpcy5jYW1lcmEuaW5zdGFuY2UpXHJcbiAgICB9XHJcblxyXG4gICAgcmF5TW92ZSgpIHtcclxuICAgICAgICAvLyB1cGRhdGUgdGhlIHBpY2tpbmcgcmF5IHdpdGggdGhlIGNhbWVyYSBhbmQgcG9pbnRlciBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodGhpcy5jdXJzb3IuY29vcmQsIHRoaXMuY2FtZXJhLmluc3RhbmNlKVxyXG5cclxuICAgICAgICBjb25zdCBpbnRlcnNlY3RzID0gdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLmNhc3Rlck1vZGVscylcclxuXHJcbiAgICAgICAgLy9JbiBPdXQgRXZlbnRcclxuICAgICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1vZGVsICE9IGludGVyc2VjdHNbMF0ub2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJheU91dCgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnRlcnNlY3QgPSBpbnRlcnNlY3RzWzBdXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRNb2RlbCA9IGludGVyc2VjdHNbMF0ub2JqZWN0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPYmogPSB0aGlzLmNhc3Rlck9iamVjdHNbdGhpcy5jdXJyZW50TW9kZWwubmFtZV1cclxuICAgICAgICAgICAgICAgIHRoaXMucmF5SW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheU91dCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW50ZXJzZWN0ID0gbnVsbFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb2RlbCA9IG51bGxcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqID0gbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50T2JqKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibW92ZSBcIiArIHRoaXMuY3VycmVudE1vZGVsLm5hbWUpXHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRPYmoucmF5TW92ZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPYmoucmF5TW92ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmF5SW4oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpbiBcIiArIHRoaXMuY3VycmVudE1vZGVsLm5hbWUpXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE9iai5yYXlJbikge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPYmoucmF5SW4oKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByYXlPdXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvdXQgXCIgKyB0aGlzLmN1cnJlbnRNb2RlbC5uYW1lKVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPYmoucmF5T3V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE9iai5yYXlPdXQoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByYXlDbGljaygpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50T2JqKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2sgXCIgKyB0aGlzLmN1cnJlbnRNb2RlbC5uYW1lKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50T2JqLnJheUNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPYmoucmF5Q2xpY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vRXZlbnQgcGFzcyB0byBjYW52YXMgYW5kIHByb2ZpbGVcclxuICAgICAgICAgICAgaWYodGhpcy5jYW52YXMucmF5Q2xpY2spe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMucmF5Q2xpY2sodGhpcy5jdXJyZW50T2JqLHRoaXMuY3VycmVudE1vZGVsKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyKG9iaikge1xyXG4gICAgICAgIGlmIChvYmoubW9kZWwpIHtcclxuICAgICAgICAgICAgb2JqLm1vZGVsLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdGVyT2JqZWN0c1tjaGlsZC5uYW1lXSA9IG9ialxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FzdGVyTW9kZWxzLnB1c2goY2hpbGQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cob2JqLnR5cGUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIEV4cGVyaWVuY2UuanMgXHJcbi8vIE1hbmFnZXIgYWxsIGNsYXNzZXMgbG9hZCBhbmQgZGlzcG9zZVxyXG4vLyBNYW5hZ2VyIHRpY2sgcmVzaXplIGV2ZW50XHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuaW1wb3J0IENhbWVyYSBmcm9tIFwiLi9DYW1lcmFcIlxyXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4vUmVuZGVyZXJcIlxyXG5pbXBvcnQgQ2FzdGVyIGZyb20gXCIuL0Nhc3RlclwiXHJcblxyXG5pbXBvcnQgV29ybGQgZnJvbSBcIi4vV29ybGQvV29ybGRcIlxyXG5cclxuaW1wb3J0IFNpemVzIGZyb20gXCIuLi9VdGlscy9TaXplc1wiXHJcbmltcG9ydCBUaW1lIGZyb20gXCIuLi9VdGlscy9UaW1lXCJcclxuaW1wb3J0IEN1cnNvciBmcm9tIFwiLi4vVXRpbHMvQ3Vyc29yXCJcclxuaW1wb3J0IERlYnVnIGZyb20gXCIuLi9VdGlscy9EZWJ1Z1wiXHJcbmltcG9ydCBSZXNvdXJjZXMgZnJvbSBcIi4uL1V0aWxzL1Jlc291cmNlc1wiXHJcblxyXG5pbXBvcnQgc291cmNlcyBmcm9tICcuL3NvdXJjZXMnXHJcblxyXG5sZXQgaW5zdGFuY2UgPSBudWxsXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHBlcmllbmNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcykge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluc3RhbmNlID0gdGhpc1xyXG5cclxuICAgICAgICB3aW5kb3cuZXhwZXJpZW5jZSA9IHRoaXNcclxuXHJcbiAgICAgICAgdGhpcy5lQ2FudmFzID0gY2FudmFzLmVDYW52YXNcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xyXG5cclxuICAgICAgICB0aGlzLmRlYnVnID0gbmV3IERlYnVnKClcclxuICAgICAgICB0aGlzLnNpemVzID0gbmV3IFNpemVzKClcclxuICAgICAgICB0aGlzLnRpbWUgPSBuZXcgVGltZSgpXHJcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBuZXcgQ3Vyc29yKClcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSBuZXcgUmVzb3VyY2VzKHNvdXJjZXMpXHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKClcclxuICAgICAgICB0aGlzLmNhc3RlciA9IG5ldyBDYXN0ZXIoKVxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKVxyXG5cclxuICAgICAgICB0aGlzLndvcmxkID0gbmV3IFdvcmxkKClcclxuXHJcbiAgICAgICAgdGhpcy5zaXplcy5vbihcInJlc2l6ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplKClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnRpbWUub24oXCJ0aWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuY3Vyc29yLm9uKFwibW92ZVwiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSgpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5jdXJzb3Iub24oXCJjbGlja1wiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2soKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnJlc2l6ZSgpXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUoKVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoKVxyXG4gICAgICAgIHRoaXMud29ybGQudXBkYXRlKClcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgbW92ZSgpe1xyXG4gICAgICAgIHRoaXMuY2FzdGVyLnJheU1vdmUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrKCl7XHJcbiAgICAgICAgdGhpcy5jYXN0ZXIucmF5Q2xpY2soKVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5zaXplcy5vZmYoJ3Jlc2l6ZScpXHJcbiAgICAgICAgdGhpcy50aW1lLm9mZigndGljaycpXHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoKGNoaWxkKT0+e1xyXG4gICAgICAgICAgICBpZihjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpe1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuZ2VvbWV0cnkuZGlzcG9zZSgpXHJcbiAgICAgICAgICAgICAgICBmb3IoY29uc3Qga2V5IGluIGNoaWxkLm1hdGVyaWFsKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNoaWxkLm1hdGVyaWFsW2tleV1cclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuZGlzcG9zZSA9PT0gJ2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmRpc3Bvc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLmNvbnRyb2xzLmRpc3Bvc2UoKVxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuaW5zdGFuY2UuZGlzcG9zZSgpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuXHRFdmVudERpc3BhdGNoZXIsXHJcblx0TU9VU0UsXHJcblx0UXVhdGVybmlvbixcclxuXHRTcGhlcmljYWwsXHJcblx0VE9VQ0gsXHJcblx0VmVjdG9yMixcclxuXHRWZWN0b3IzXHJcbn0gZnJvbSAndGhyZWUnO1xyXG5cclxuLy8gVGhpcyBzZXQgb2YgY29udHJvbHMgcGVyZm9ybXMgb3JiaXRpbmcsIGRvbGx5aW5nICh6b29taW5nKSwgYW5kIHBhbm5pbmcuXHJcbi8vIFVubGlrZSBUcmFja2JhbGxDb250cm9scywgaXQgbWFpbnRhaW5zIHRoZSBcInVwXCIgZGlyZWN0aW9uIG9iamVjdC51cCAoK1kgYnkgZGVmYXVsdCkuXHJcbi8vXHJcbi8vICAgIE9yYml0IC0gbGVmdCBtb3VzZSAvIHRvdWNoOiBvbmUtZmluZ2VyIG1vdmVcclxuLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28tZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcclxuLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGxlZnQgbW91c2UgKyBjdHJsL21ldGEvc2hpZnRLZXksIG9yIGFycm93IGtleXMgLyB0b3VjaDogdHdvLWZpbmdlciBtb3ZlXHJcblxyXG5jb25zdCBfY2hhbmdlRXZlbnQgPSB7IHR5cGU6ICdjaGFuZ2UnIH07XHJcbmNvbnN0IF9zdGFydEV2ZW50ID0geyB0eXBlOiAnc3RhcnQnIH07XHJcbmNvbnN0IF9lbmRFdmVudCA9IHsgdHlwZTogJ2VuZCcgfTtcclxuXHJcbmNsYXNzIE9yYml0Q29udHJvbHMgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xyXG5cclxuXHRjb25zdHJ1Y3Rvciggb2JqZWN0LCBkb21FbGVtZW50ICkge1xyXG5cclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0aWYgKCBkb21FbGVtZW50ID09PSB1bmRlZmluZWQgKSBjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiBUaGUgc2Vjb25kIHBhcmFtZXRlciBcImRvbUVsZW1lbnRcIiBpcyBub3cgbWFuZGF0b3J5LicgKTtcclxuXHRcdGlmICggZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgKSBjb25zb2xlLmVycm9yKCAnVEhSRUUuT3JiaXRDb250cm9sczogXCJkb2N1bWVudFwiIHNob3VsZCBub3QgYmUgdXNlZCBhcyB0aGUgdGFyZ2V0IFwiZG9tRWxlbWVudFwiLiBQbGVhc2UgdXNlIFwicmVuZGVyZXIuZG9tRWxlbWVudFwiIGluc3RlYWQuJyApO1xyXG5cclxuXHRcdHRoaXMub2JqZWN0ID0gb2JqZWN0O1xyXG5cdFx0dGhpcy5kb21FbGVtZW50ID0gZG9tRWxlbWVudDtcclxuXHRcdHRoaXMuZG9tRWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJzsgLy8gZGlzYWJsZSB0b3VjaCBzY3JvbGxcclxuXHJcblx0XHQvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGlzIGNvbnRyb2xcclxuXHRcdHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0Ly8gXCJ0YXJnZXRcIiBzZXRzIHRoZSBsb2NhdGlvbiBvZiBmb2N1cywgd2hlcmUgdGhlIG9iamVjdCBvcmJpdHMgYXJvdW5kXHJcblx0XHR0aGlzLnRhcmdldCA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG5cdFx0Ly8gSG93IGZhciB5b3UgY2FuIGRvbGx5IGluIGFuZCBvdXQgKCBQZXJzcGVjdGl2ZUNhbWVyYSBvbmx5IClcclxuXHRcdHRoaXMubWluRGlzdGFuY2UgPSAwO1xyXG5cdFx0dGhpcy5tYXhEaXN0YW5jZSA9IEluZmluaXR5O1xyXG5cclxuXHRcdC8vIEhvdyBmYXIgeW91IGNhbiB6b29tIGluIGFuZCBvdXQgKCBPcnRob2dyYXBoaWNDYW1lcmEgb25seSApXHJcblx0XHR0aGlzLm1pblpvb20gPSAwO1xyXG5cdFx0dGhpcy5tYXhab29tID0gSW5maW5pdHk7XHJcblxyXG5cdFx0Ly8gSG93IGZhciB5b3UgY2FuIG9yYml0IHZlcnRpY2FsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXHJcblx0XHQvLyBSYW5nZSBpcyAwIHRvIE1hdGguUEkgcmFkaWFucy5cclxuXHRcdHRoaXMubWluUG9sYXJBbmdsZSA9IDA7IC8vIHJhZGlhbnNcclxuXHRcdHRoaXMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEk7IC8vIHJhZGlhbnNcclxuXHJcblx0XHQvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxyXG5cdFx0Ly8gSWYgc2V0LCB0aGUgaW50ZXJ2YWwgWyBtaW4sIG1heCBdIG11c3QgYmUgYSBzdWItaW50ZXJ2YWwgb2YgWyAtIDIgUEksIDIgUEkgXSwgd2l0aCAoIG1heCAtIG1pbiA8IDIgUEkgKVxyXG5cdFx0dGhpcy5taW5BemltdXRoQW5nbGUgPSAtIEluZmluaXR5OyAvLyByYWRpYW5zXHJcblx0XHR0aGlzLm1heEF6aW11dGhBbmdsZSA9IEluZmluaXR5OyAvLyByYWRpYW5zXHJcblxyXG5cclxuXHRcdC8vIFNldCB0byB0cnVlIHRvIGVuYWJsZSBkYW1waW5nIChpbmVydGlhKVxyXG5cdFx0Ly8gSWYgZGFtcGluZyBpcyBlbmFibGVkLCB5b3UgbXVzdCBjYWxsIGNvbnRyb2xzLnVwZGF0ZSgpIGluIHlvdXIgYW5pbWF0aW9uIGxvb3BcclxuXHRcdHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5kYW1waW5nRmFjdG9yID0gMC4wNTtcclxuXHJcblx0XHQvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxyXG5cdFx0Ly8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgem9vbWluZ1xyXG5cdFx0dGhpcy5lbmFibGVab29tID0gdHJ1ZTtcclxuXHRcdHRoaXMuem9vbVNwZWVkID0gMS4wO1xyXG5cclxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHJvdGF0aW5nXHJcblx0XHR0aGlzLmVuYWJsZVJvdGF0ZSA9IHRydWU7XHJcblx0XHR0aGlzLnJvdGF0ZVNwZWVkID0gMS4wO1xyXG5cclxuXHRcdC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHBhbm5pbmdcclxuXHRcdHRoaXMuZW5hYmxlUGFuID0gdHJ1ZTtcclxuXHRcdHRoaXMucGFuU3BlZWQgPSAxLjA7XHJcblx0XHR0aGlzLnNjcmVlblNwYWNlUGFubmluZyA9IHRydWU7IC8vIGlmIGZhbHNlLCBwYW4gb3J0aG9nb25hbCB0byB3b3JsZC1zcGFjZSBkaXJlY3Rpb24gY2FtZXJhLnVwXHJcblx0XHR0aGlzLmtleVBhblNwZWVkID0gNy4wO1x0Ly8gcGl4ZWxzIG1vdmVkIHBlciBhcnJvdyBrZXkgcHVzaFxyXG5cclxuICAgICAgICAvL3lvbmppYW5nIGFkZCAyMDIyIDAzIDI5XHJcbiAgICAgICAgdGhpcy5saW1pdFBhbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWluUGFuQm94ID0gbmV3IFZlY3RvcjMoIC0gMjAsIC0gMjAsIC0gMjAgKVxyXG4gICAgICAgIHRoaXMubWF4UGFuQm94ID0gbmV3IFZlY3RvcjMoIDIwLCAyMCwgMjAgKVxyXG4gICAgICAgIC8veW9uamlhbmcgZW5kIDIwMjIgMDMgMjlcclxuXHJcblx0XHQvLyBTZXQgdG8gdHJ1ZSB0byBhdXRvbWF0aWNhbGx5IHJvdGF0ZSBhcm91bmQgdGhlIHRhcmdldFxyXG5cdFx0Ly8gSWYgYXV0by1yb3RhdGUgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXHJcblx0XHR0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcclxuXHRcdHRoaXMuYXV0b1JvdGF0ZVNwZWVkID0gMi4wOyAvLyAzMCBzZWNvbmRzIHBlciBvcmJpdCB3aGVuIGZwcyBpcyA2MFxyXG5cclxuXHRcdC8vIFRoZSBmb3VyIGFycm93IGtleXNcclxuXHRcdHRoaXMua2V5cyA9IHsgTEVGVDogJ0Fycm93TGVmdCcsIFVQOiAnQXJyb3dVcCcsIFJJR0hUOiAnQXJyb3dSaWdodCcsIEJPVFRPTTogJ0Fycm93RG93bicgfTtcclxuXHJcblx0XHQvLyBNb3VzZSBidXR0b25zXHJcblx0XHR0aGlzLm1vdXNlQnV0dG9ucyA9IHsgTEVGVDogTU9VU0UuUk9UQVRFLCBNSURETEU6IE1PVVNFLkRPTExZLCBSSUdIVDogTU9VU0UuUEFOIH07XHJcblxyXG5cdFx0Ly8gVG91Y2ggZmluZ2Vyc1xyXG5cdFx0dGhpcy50b3VjaGVzID0geyBPTkU6IFRPVUNILlJPVEFURSwgVFdPOiBUT1VDSC5ET0xMWV9QQU4gfTtcclxuXHJcblx0XHQvLyBmb3IgcmVzZXRcclxuXHRcdHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XHJcblx0XHR0aGlzLnBvc2l0aW9uMCA9IHRoaXMub2JqZWN0LnBvc2l0aW9uLmNsb25lKCk7XHJcblx0XHR0aGlzLnpvb20wID0gdGhpcy5vYmplY3Quem9vbTtcclxuXHJcblx0XHQvLyB0aGUgdGFyZ2V0IERPTSBlbGVtZW50IGZvciBrZXkgZXZlbnRzXHJcblx0XHR0aGlzLl9kb21FbGVtZW50S2V5RXZlbnRzID0gbnVsbDtcclxuXHJcblx0XHQvL1xyXG5cdFx0Ly8gcHVibGljIG1ldGhvZHNcclxuXHRcdC8vXHJcblxyXG5cdFx0dGhpcy5nZXRQb2xhckFuZ2xlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHNwaGVyaWNhbC5waGk7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmdldEF6aW11dGhhbEFuZ2xlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHNwaGVyaWNhbC50aGV0YTtcclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gdGhpcy5vYmplY3QucG9zaXRpb24uZGlzdGFuY2VUbyggdGhpcy50YXJnZXQgKTtcclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMubGlzdGVuVG9LZXlFdmVudHMgPSBmdW5jdGlvbiAoIGRvbUVsZW1lbnQgKSB7XHJcblxyXG5cdFx0XHRkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgb25LZXlEb3duICk7XHJcblx0XHRcdHRoaXMuX2RvbUVsZW1lbnRLZXlFdmVudHMgPSBkb21FbGVtZW50O1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5zYXZlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRzY29wZS50YXJnZXQwLmNvcHkoIHNjb3BlLnRhcmdldCApO1xyXG5cdFx0XHRzY29wZS5wb3NpdGlvbjAuY29weSggc2NvcGUub2JqZWN0LnBvc2l0aW9uICk7XHJcblx0XHRcdHNjb3BlLnpvb20wID0gc2NvcGUub2JqZWN0Lnpvb207XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0c2NvcGUudGFyZ2V0LmNvcHkoIHNjb3BlLnRhcmdldDAgKTtcclxuXHRcdFx0c2NvcGUub2JqZWN0LnBvc2l0aW9uLmNvcHkoIHNjb3BlLnBvc2l0aW9uMCApO1xyXG5cdFx0XHRzY29wZS5vYmplY3Quem9vbSA9IHNjb3BlLnpvb20wO1xyXG5cclxuXHRcdFx0c2NvcGUub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggX2NoYW5nZUV2ZW50ICk7XHJcblxyXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIHRoaXMgbWV0aG9kIGlzIGV4cG9zZWQsIGJ1dCBwZXJoYXBzIGl0IHdvdWxkIGJlIGJldHRlciBpZiB3ZSBjYW4gbWFrZSBpdCBwcml2YXRlLi4uXHJcblx0XHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdGNvbnN0IG9mZnNldCA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG5cdFx0XHQvLyBzbyBjYW1lcmEudXAgaXMgdGhlIG9yYml0IGF4aXNcclxuXHRcdFx0Y29uc3QgcXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RnJvbVVuaXRWZWN0b3JzKCBvYmplY3QudXAsIG5ldyBWZWN0b3IzKCAwLCAxLCAwICkgKTtcclxuXHRcdFx0Y29uc3QgcXVhdEludmVyc2UgPSBxdWF0LmNsb25lKCkuaW52ZXJ0KCk7XHJcblxyXG5cdFx0XHRjb25zdCBsYXN0UG9zaXRpb24gPSBuZXcgVmVjdG9yMygpO1xyXG5cdFx0XHRjb25zdCBsYXN0UXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XHJcblxyXG5cdFx0XHRjb25zdCB0d29QSSA9IDIgKiBNYXRoLlBJO1xyXG5cclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XHJcblxyXG5cdFx0XHRcdG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XHJcblxyXG5cdFx0XHRcdC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxyXG5cdFx0XHRcdG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXQgKTtcclxuXHJcblx0XHRcdFx0Ly8gYW5nbGUgZnJvbSB6LWF4aXMgYXJvdW5kIHktYXhpc1xyXG5cdFx0XHRcdHNwaGVyaWNhbC5zZXRGcm9tVmVjdG9yMyggb2Zmc2V0ICk7XHJcblxyXG5cdFx0XHRcdGlmICggc2NvcGUuYXV0b1JvdGF0ZSAmJiBzdGF0ZSA9PT0gU1RBVEUuTk9ORSApIHtcclxuXHJcblx0XHRcdFx0XHRyb3RhdGVMZWZ0KCBnZXRBdXRvUm90YXRpb25BbmdsZSgpICk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVEYW1waW5nICkge1xyXG5cclxuXHRcdFx0XHRcdHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YSAqIHNjb3BlLmRhbXBpbmdGYWN0b3I7XHJcblx0XHRcdFx0XHRzcGhlcmljYWwucGhpICs9IHNwaGVyaWNhbERlbHRhLnBoaSAqIHNjb3BlLmRhbXBpbmdGYWN0b3I7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0c3BoZXJpY2FsLnRoZXRhICs9IHNwaGVyaWNhbERlbHRhLnRoZXRhO1xyXG5cdFx0XHRcdFx0c3BoZXJpY2FsLnBoaSArPSBzcGhlcmljYWxEZWx0YS5waGk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xyXG5cclxuXHRcdFx0XHRsZXQgbWluID0gc2NvcGUubWluQXppbXV0aEFuZ2xlO1xyXG5cdFx0XHRcdGxldCBtYXggPSBzY29wZS5tYXhBemltdXRoQW5nbGU7XHJcblxyXG5cdFx0XHRcdGlmICggaXNGaW5pdGUoIG1pbiApICYmIGlzRmluaXRlKCBtYXggKSApIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIG1pbiA8IC0gTWF0aC5QSSApIG1pbiArPSB0d29QSTsgZWxzZSBpZiAoIG1pbiA+IE1hdGguUEkgKSBtaW4gLT0gdHdvUEk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBtYXggPCAtIE1hdGguUEkgKSBtYXggKz0gdHdvUEk7IGVsc2UgaWYgKCBtYXggPiBNYXRoLlBJICkgbWF4IC09IHR3b1BJO1xyXG5cclxuXHRcdFx0XHRcdGlmICggbWluIDw9IG1heCApIHtcclxuXHJcblx0XHRcdFx0XHRcdHNwaGVyaWNhbC50aGV0YSA9IE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBtYXgsIHNwaGVyaWNhbC50aGV0YSApICk7XHJcblxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdHNwaGVyaWNhbC50aGV0YSA9ICggc3BoZXJpY2FsLnRoZXRhID4gKCBtaW4gKyBtYXggKSAvIDIgKSA/XHJcblx0XHRcdFx0XHRcdFx0TWF0aC5tYXgoIG1pbiwgc3BoZXJpY2FsLnRoZXRhICkgOlxyXG5cdFx0XHRcdFx0XHRcdE1hdGgubWluKCBtYXgsIHNwaGVyaWNhbC50aGV0YSApO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xyXG5cdFx0XHRcdHNwaGVyaWNhbC5waGkgPSBNYXRoLm1heCggc2NvcGUubWluUG9sYXJBbmdsZSwgTWF0aC5taW4oIHNjb3BlLm1heFBvbGFyQW5nbGUsIHNwaGVyaWNhbC5waGkgKSApO1xyXG5cclxuXHRcdFx0XHRzcGhlcmljYWwubWFrZVNhZmUoKTtcclxuXHJcblxyXG5cdFx0XHRcdHNwaGVyaWNhbC5yYWRpdXMgKj0gc2NhbGU7XHJcblxyXG5cdFx0XHRcdC8vIHJlc3RyaWN0IHJhZGl1cyB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXHJcblx0XHRcdFx0c3BoZXJpY2FsLnJhZGl1cyA9IE1hdGgubWF4KCBzY29wZS5taW5EaXN0YW5jZSwgTWF0aC5taW4oIHNjb3BlLm1heERpc3RhbmNlLCBzcGhlcmljYWwucmFkaXVzICkgKTtcclxuXHJcblx0XHRcdFx0Ly8gbW92ZSB0YXJnZXQgdG8gcGFubmVkIGxvY2F0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG5cclxuXHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZURhbXBpbmcgPT09IHRydWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUudGFyZ2V0LmFkZFNjYWxlZFZlY3RvciggcGFuT2Zmc2V0LCBzY29wZS5kYW1waW5nRmFjdG9yICk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUudGFyZ2V0LmFkZCggcGFuT2Zmc2V0ICk7XHJcblx0XHRcdFx0fVxyXG5cclxuICAgICAgICAgICAgICAgIC8veW9uamlhbmcgYWRkIDIwMjIgMDMgMjlcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubGltaXRQYW4gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBuZXcgVmVjdG9yMygpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LmNvcHkoIHBvc2l0aW9uICkuc3ViKCBzY29wZS50YXJnZXQgKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGxpbWl0U2NhbGUgPSAwXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmKHRoaXMuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdFBhblNjYWxlID0gKHRoaXMubWF4RGlzdGFuY2UtdGFyZ2V0RGlzdGFuY2UpLyh0aGlzLm1heERpc3RhbmNlLXRoaXMubWluRGlzdGFuY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluLmNvcHkodGhpcy5taW5QYW5Cb3gpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXggPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXguY29weSh0aGlzLm1heFBhbkJveClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRhcmdldC5jbGFtcChtaW4ubXVsdGlwbHlTY2FsYXIobGltaXRQYW5TY2FsZSksbWF4Lm11bHRpcGx5U2NhbGFyKGxpbWl0UGFuU2NhbGUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsaW1pdFBhblNjYWxlID0gKHRoaXMubWF4RGlzdGFuY2UtdGFyZ2V0RGlzdGFuY2UpLyh0aGlzLm1heERpc3RhbmNlLXRoaXMubWluRGlzdGFuY2UpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgbWluID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbWluLmNvcHkodGhpcy5taW5QYW5Cb3gpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCBtYXggPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBtYXguY29weSh0aGlzLm1heFBhbkJveClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUudGFyZ2V0LmNsYW1wKG1pbi5tdWx0aXBseVNjYWxhcihsaW1pdFBhblNjYWxlKSxtYXgubXVsdGlwbHlTY2FsYXIobGltaXRQYW5TY2FsZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsaW1pdFBhblNjYWxlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3lvbmppYW5nIGVuZCAyMDIyIDAzIDI5XHJcblxyXG5cdFx0XHRcdG9mZnNldC5zZXRGcm9tU3BoZXJpY2FsKCBzcGhlcmljYWwgKTtcclxuXHJcblx0XHRcdFx0Ly8gcm90YXRlIG9mZnNldCBiYWNrIHRvIFwiY2FtZXJhLXVwLXZlY3Rvci1pcy11cFwiIHNwYWNlXHJcblx0XHRcdFx0b2Zmc2V0LmFwcGx5UXVhdGVybmlvbiggcXVhdEludmVyc2UgKTtcclxuXHJcblx0XHRcdFx0cG9zaXRpb24uY29weSggc2NvcGUudGFyZ2V0ICkuYWRkKCBvZmZzZXQgKTtcclxuXHJcblx0XHRcdFx0c2NvcGUub2JqZWN0Lmxvb2tBdCggc2NvcGUudGFyZ2V0ICk7XHJcblxyXG5cdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSApIHtcclxuXHJcblx0XHRcdFx0XHRzcGhlcmljYWxEZWx0YS50aGV0YSAqPSAoIDEgLSBzY29wZS5kYW1waW5nRmFjdG9yICk7XHJcblx0XHRcdFx0XHRzcGhlcmljYWxEZWx0YS5waGkgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xyXG5cclxuXHRcdFx0XHRcdHBhbk9mZnNldC5tdWx0aXBseVNjYWxhciggMSAtIHNjb3BlLmRhbXBpbmdGYWN0b3IgKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRzcGhlcmljYWxEZWx0YS5zZXQoIDAsIDAsIDAgKTtcclxuXHJcblx0XHRcdFx0XHRwYW5PZmZzZXQuc2V0KCAwLCAwLCAwICk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0c2NhbGUgPSAxO1xyXG5cclxuXHRcdFx0XHQvLyB1cGRhdGUgY29uZGl0aW9uIGlzOlxyXG5cdFx0XHRcdC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xyXG5cdFx0XHRcdC8vIHVzaW5nIHNtYWxsLWFuZ2xlIGFwcHJveGltYXRpb24gY29zKHgvMikgPSAxIC0geF4yIC8gOFxyXG5cclxuXHRcdFx0XHRpZiAoIHpvb21DaGFuZ2VkIHx8XHJcblx0XHRcdFx0XHRsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApID4gRVBTIHx8XHJcblx0XHRcdFx0XHQ4ICogKCAxIC0gbGFzdFF1YXRlcm5pb24uZG90KCBzY29wZS5vYmplY3QucXVhdGVybmlvbiApICkgPiBFUFMgKSB7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggX2NoYW5nZUV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0bGFzdFBvc2l0aW9uLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xyXG5cdFx0XHRcdFx0bGFzdFF1YXRlcm5pb24uY29weSggc2NvcGUub2JqZWN0LnF1YXRlcm5pb24gKTtcclxuXHRcdFx0XHRcdHpvb21DaGFuZ2VkID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHR9KCk7XHJcblxyXG5cdFx0dGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51ICk7XHJcblxyXG5cdFx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24gKTtcclxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcmNhbmNlbCcsIG9uUG9pbnRlckNhbmNlbCApO1xyXG5cdFx0XHRzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd3aGVlbCcsIG9uTW91c2VXaGVlbCApO1xyXG5cclxuXHRcdFx0c2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlICk7XHJcblx0XHRcdHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwICk7XHJcblxyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5fZG9tRWxlbWVudEtleUV2ZW50cyAhPT0gbnVsbCApIHtcclxuXHJcblx0XHRcdFx0c2NvcGUuX2RvbUVsZW1lbnRLZXlFdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbktleURvd24gKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vc2NvcGUuZGlzcGF0Y2hFdmVudCggeyB0eXBlOiAnZGlzcG9zZScgfSApOyAvLyBzaG91bGQgdGhpcyBiZSBhZGRlZCBoZXJlP1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0Ly9cclxuXHRcdC8vIGludGVybmFsc1xyXG5cdFx0Ly9cclxuXHJcblx0XHRjb25zdCBzY29wZSA9IHRoaXM7XHJcblxyXG5cdFx0Y29uc3QgU1RBVEUgPSB7XHJcblx0XHRcdE5PTkU6IC0gMSxcclxuXHRcdFx0Uk9UQVRFOiAwLFxyXG5cdFx0XHRET0xMWTogMSxcclxuXHRcdFx0UEFOOiAyLFxyXG5cdFx0XHRUT1VDSF9ST1RBVEU6IDMsXHJcblx0XHRcdFRPVUNIX1BBTjogNCxcclxuXHRcdFx0VE9VQ0hfRE9MTFlfUEFOOiA1LFxyXG5cdFx0XHRUT1VDSF9ET0xMWV9ST1RBVEU6IDZcclxuXHRcdH07XHJcblxyXG5cdFx0bGV0IHN0YXRlID0gU1RBVEUuTk9ORTtcclxuXHJcblx0XHRjb25zdCBFUFMgPSAwLjAwMDAwMTtcclxuXHJcblx0XHQvLyBjdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlc1xyXG5cdFx0Y29uc3Qgc3BoZXJpY2FsID0gbmV3IFNwaGVyaWNhbCgpO1xyXG5cdFx0Y29uc3Qgc3BoZXJpY2FsRGVsdGEgPSBuZXcgU3BoZXJpY2FsKCk7XHJcblxyXG5cdFx0bGV0IHNjYWxlID0gMTtcclxuXHRcdGNvbnN0IHBhbk9mZnNldCA9IG5ldyBWZWN0b3IzKCk7XHJcblx0XHRsZXQgem9vbUNoYW5nZWQgPSBmYWxzZTtcclxuXHJcblx0XHRjb25zdCByb3RhdGVTdGFydCA9IG5ldyBWZWN0b3IyKCk7XHJcblx0XHRjb25zdCByb3RhdGVFbmQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0Y29uc3Qgcm90YXRlRGVsdGEgPSBuZXcgVmVjdG9yMigpO1xyXG5cclxuXHRcdGNvbnN0IHBhblN0YXJ0ID0gbmV3IFZlY3RvcjIoKTtcclxuXHRcdGNvbnN0IHBhbkVuZCA9IG5ldyBWZWN0b3IyKCk7XHJcblx0XHRjb25zdCBwYW5EZWx0YSA9IG5ldyBWZWN0b3IyKCk7XHJcblxyXG5cdFx0Y29uc3QgZG9sbHlTdGFydCA9IG5ldyBWZWN0b3IyKCk7XHJcblx0XHRjb25zdCBkb2xseUVuZCA9IG5ldyBWZWN0b3IyKCk7XHJcblx0XHRjb25zdCBkb2xseURlbHRhID0gbmV3IFZlY3RvcjIoKTtcclxuXHJcblx0XHRjb25zdCBwb2ludGVycyA9IFtdO1xyXG5cdFx0Y29uc3QgcG9pbnRlclBvc2l0aW9ucyA9IHt9O1xyXG5cclxuICAgICAgICBsZXQgbGltaXRQYW5TY2FsZSA9IDE7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gMiAqIE1hdGguUEkgLyA2MCAvIDYwICogc2NvcGUuYXV0b1JvdGF0ZVNwZWVkO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRab29tU2NhbGUoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gTWF0aC5wb3coIDAuOTUsIHNjb3BlLnpvb21TcGVlZCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByb3RhdGVMZWZ0KCBhbmdsZSApIHtcclxuXHJcblx0XHRcdHNwaGVyaWNhbERlbHRhLnRoZXRhIC09IGFuZ2xlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByb3RhdGVVcCggYW5nbGUgKSB7XHJcblxyXG5cdFx0XHRzcGhlcmljYWxEZWx0YS5waGkgLT0gYW5nbGU7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHBhbkxlZnQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRjb25zdCB2ID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiBwYW5MZWZ0KCBkaXN0YW5jZSwgb2JqZWN0TWF0cml4ICkge1xyXG5cclxuXHRcdFx0XHR2LnNldEZyb21NYXRyaXhDb2x1bW4oIG9iamVjdE1hdHJpeCwgMCApOyAvLyBnZXQgWCBjb2x1bW4gb2Ygb2JqZWN0TWF0cml4XHJcblx0XHRcdFx0di5tdWx0aXBseVNjYWxhciggLSBkaXN0YW5jZSApO1xyXG5cclxuXHRcdFx0XHRwYW5PZmZzZXQuYWRkKCB2ICk7XHJcblxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdH0oKTtcclxuXHJcblx0XHRjb25zdCBwYW5VcCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdGNvbnN0IHYgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHBhblVwKCBkaXN0YW5jZSwgb2JqZWN0TWF0cml4ICkge1xyXG5cclxuXHRcdFx0XHRpZiAoIHNjb3BlLnNjcmVlblNwYWNlUGFubmluZyA9PT0gdHJ1ZSApIHtcclxuXHJcblx0XHRcdFx0XHR2LnNldEZyb21NYXRyaXhDb2x1bW4oIG9iamVjdE1hdHJpeCwgMSApO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdHYuc2V0RnJvbU1hdHJpeENvbHVtbiggb2JqZWN0TWF0cml4LCAwICk7XHJcblx0XHRcdFx0XHR2LmNyb3NzVmVjdG9ycyggc2NvcGUub2JqZWN0LnVwLCB2ICk7XHJcblxyXG5cdFx0XHRcdH1cclxuICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcdHYubXVsdGlwbHlTY2FsYXIoIGRpc3RhbmNlICk7XHJcblx0XHRcdFx0cGFuT2Zmc2V0LmFkZCggdiApO1xyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHR9KCk7XHJcblxyXG5cdFx0Ly8gZGVsdGFYIGFuZCBkZWx0YVkgYXJlIGluIHBpeGVsczsgcmlnaHQgYW5kIGRvd24gYXJlIHBvc2l0aXZlXHJcblx0XHRjb25zdCBwYW4gPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBvZmZzZXQgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHBhbiggZGVsdGFYLCBkZWx0YVkgKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50O1xyXG5cclxuXHRcdFx0XHRpZiAoIHNjb3BlLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIHBlcnNwZWN0aXZlXHJcblx0XHRcdFx0XHRjb25zdCBwb3NpdGlvbiA9IHNjb3BlLm9iamVjdC5wb3NpdGlvbjtcclxuXHRcdFx0XHRcdG9mZnNldC5jb3B5KCBwb3NpdGlvbiApLnN1Yiggc2NvcGUudGFyZ2V0ICk7XHJcblx0XHRcdFx0XHRsZXQgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gaGFsZiBvZiB0aGUgZm92IGlzIGNlbnRlciB0byB0b3Agb2Ygc2NyZWVuXHJcblx0XHRcdFx0XHR0YXJnZXREaXN0YW5jZSAqPSBNYXRoLnRhbiggKCBzY29wZS5vYmplY3QuZm92IC8gMiApICogTWF0aC5QSSAvIDE4MC4wICk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gd2UgdXNlIG9ubHkgY2xpZW50SGVpZ2h0IGhlcmUgc28gYXNwZWN0IHJhdGlvIGRvZXMgbm90IGRpc3RvcnQgc3BlZWRcclxuXHRcdFx0XHRcdHBhbkxlZnQoIDIgKiBkZWx0YVggKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XHJcblx0XHRcdFx0XHRwYW5VcCggMiAqIGRlbHRhWSAqIHRhcmdldERpc3RhbmNlIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsIHNjb3BlLm9iamVjdC5tYXRyaXggKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIG9ydGhvZ3JhcGhpY1xyXG5cdFx0XHRcdFx0cGFuTGVmdCggZGVsdGFYICogKCBzY29wZS5vYmplY3QucmlnaHQgLSBzY29wZS5vYmplY3QubGVmdCApIC8gc2NvcGUub2JqZWN0Lnpvb20gLyBlbGVtZW50LmNsaWVudFdpZHRoLCBzY29wZS5vYmplY3QubWF0cml4ICk7XHJcblx0XHRcdFx0XHRwYW5VcCggZGVsdGFZICogKCBzY29wZS5vYmplY3QudG9wIC0gc2NvcGUub2JqZWN0LmJvdHRvbSApIC8gc2NvcGUub2JqZWN0Lnpvb20gLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdC8vIGNhbWVyYSBuZWl0aGVyIG9ydGhvZ3JhcGhpYyBub3IgcGVyc3BlY3RpdmVcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC4nICk7XHJcblx0XHRcdFx0XHRzY29wZS5lbmFibGVQYW4gPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fTtcclxuXHJcblx0XHR9KCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZG9sbHlPdXQoIGRvbGx5U2NhbGUgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhICkge1xyXG5cclxuXHRcdFx0XHRzY2FsZSAvPSBkb2xseVNjYWxlO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICggc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhICkge1xyXG5cclxuXHRcdFx0XHRzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KCBzY29wZS5taW5ab29tLCBNYXRoLm1pbiggc2NvcGUubWF4Wm9vbSwgc2NvcGUub2JqZWN0Lnpvb20gKiBkb2xseVNjYWxlICkgKTtcclxuXHRcdFx0XHRzY29wZS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG5cdFx0XHRcdHpvb21DaGFuZ2VkID0gdHJ1ZTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJyApO1xyXG5cdFx0XHRcdHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZG9sbHlJbiggZG9sbHlTY2FsZSApIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUub2JqZWN0LmlzUGVyc3BlY3RpdmVDYW1lcmEgKSB7XHJcblxyXG5cdFx0XHRcdHNjYWxlICo9IGRvbGx5U2NhbGU7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmEgKSB7XHJcblxyXG5cdFx0XHRcdHNjb3BlLm9iamVjdC56b29tID0gTWF0aC5tYXgoIHNjb3BlLm1pblpvb20sIE1hdGgubWluKCBzY29wZS5tYXhab29tLCBzY29wZS5vYmplY3Quem9vbSAvIGRvbGx5U2NhbGUgKSApO1xyXG5cdFx0XHRcdHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcblx0XHRcdFx0em9vbUNoYW5nZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Y29uc29sZS53YXJuKCAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC4nICk7XHJcblx0XHRcdFx0c2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHQvL1xyXG5cdFx0Ly8gZXZlbnQgY2FsbGJhY2tzIC0gdXBkYXRlIHRoZSBvYmplY3Qgc3RhdGVcclxuXHRcdC8vXHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUm90YXRlKCBldmVudCApIHtcclxuXHJcblx0XHRcdHJvdGF0ZVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Eb2xseSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRkb2xseVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0cGFuU3RhcnQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVJvdGF0ZSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRyb3RhdGVFbmQuc2V0KCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZICk7XHJcblxyXG5cdFx0XHRyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICkubXVsdGlwbHlTY2FsYXIoIHNjb3BlLnJvdGF0ZVNwZWVkICk7XHJcblxyXG5cdFx0XHRjb25zdCBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudDtcclxuXHJcblx0XHRcdHJvdGF0ZUxlZnQoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICk7IC8vIHllcywgaGVpZ2h0XHJcblxyXG5cdFx0XHRyb3RhdGVVcCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKTtcclxuXHJcblx0XHRcdHJvdGF0ZVN0YXJ0LmNvcHkoIHJvdGF0ZUVuZCApO1xyXG5cclxuXHRcdFx0c2NvcGUudXBkYXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZURvbGx5KCBldmVudCApIHtcclxuXHJcblx0XHRcdGRvbGx5RW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xyXG5cclxuXHRcdFx0ZG9sbHlEZWx0YS5zdWJWZWN0b3JzKCBkb2xseUVuZCwgZG9sbHlTdGFydCApO1xyXG5cclxuXHRcdFx0aWYgKCBkb2xseURlbHRhLnkgPiAwICkge1xyXG5cclxuXHRcdFx0XHRkb2xseU91dCggZ2V0Wm9vbVNjYWxlKCkgKTtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoIGRvbGx5RGVsdGEueSA8IDAgKSB7XHJcblxyXG5cdFx0XHRcdGRvbGx5SW4oIGdldFpvb21TY2FsZSgpICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkb2xseVN0YXJ0LmNvcHkoIGRvbGx5RW5kICk7XHJcblxyXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlUGFuKCBldmVudCApIHtcclxuXHJcblx0XHRcdHBhbkVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcclxuXHJcblx0XHRcdHBhbkRlbHRhLnN1YlZlY3RvcnMoIHBhbkVuZCwgcGFuU3RhcnQgKS5tdWx0aXBseVNjYWxhciggc2NvcGUucGFuU3BlZWQgKTtcclxuXHJcblx0XHRcdHBhbiggcGFuRGVsdGEueCwgcGFuRGVsdGEueSApO1xyXG5cclxuXHRcdFx0cGFuU3RhcnQuY29weSggcGFuRW5kICk7XHJcblxyXG5cdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbCggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIGV2ZW50LmRlbHRhWSA8IDAgKSB7XHJcblxyXG5cdFx0XHRcdGRvbGx5SW4oIGdldFpvb21TY2FsZSgpICk7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKCBldmVudC5kZWx0YVkgPiAwICkge1xyXG5cclxuXHRcdFx0XHRkb2xseU91dCggZ2V0Wm9vbVNjYWxlKCkgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVLZXlEb3duKCBldmVudCApIHtcclxuXHJcblx0XHRcdGxldCBuZWVkc1VwZGF0ZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0c3dpdGNoICggZXZlbnQuY29kZSApIHtcclxuXHJcblx0XHRcdFx0Y2FzZSBzY29wZS5rZXlzLlVQOlxyXG5cdFx0XHRcdFx0cGFuKCAwLCBzY29wZS5rZXlQYW5TcGVlZCApO1xyXG5cdFx0XHRcdFx0bmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XHJcblx0XHRcdFx0XHRwYW4oIDAsIC0gc2NvcGUua2V5UGFuU3BlZWQgKTtcclxuXHRcdFx0XHRcdG5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIHNjb3BlLmtleXMuTEVGVDpcclxuXHRcdFx0XHRcdHBhbiggc2NvcGUua2V5UGFuU3BlZWQsIDAgKTtcclxuXHRcdFx0XHRcdG5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIHNjb3BlLmtleXMuUklHSFQ6XHJcblx0XHRcdFx0XHRwYW4oIC0gc2NvcGUua2V5UGFuU3BlZWQsIDAgKTtcclxuXHRcdFx0XHRcdG5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBuZWVkc1VwZGF0ZSApIHtcclxuXHJcblx0XHRcdFx0Ly8gcHJldmVudCB0aGUgYnJvd3NlciBmcm9tIHNjcm9sbGluZyBvbiBjdXJzb3Iga2V5c1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydFJvdGF0ZSgpIHtcclxuXHJcblx0XHRcdGlmICggcG9pbnRlcnMubGVuZ3RoID09PSAxICkge1xyXG5cclxuXHRcdFx0XHRyb3RhdGVTdGFydC5zZXQoIHBvaW50ZXJzWyAwIF0ucGFnZVgsIHBvaW50ZXJzWyAwIF0ucGFnZVkgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHggPSAwLjUgKiAoIHBvaW50ZXJzWyAwIF0ucGFnZVggKyBwb2ludGVyc1sgMSBdLnBhZ2VYICk7XHJcblx0XHRcdFx0Y29uc3QgeSA9IDAuNSAqICggcG9pbnRlcnNbIDAgXS5wYWdlWSArIHBvaW50ZXJzWyAxIF0ucGFnZVkgKTtcclxuXHJcblx0XHRcdFx0cm90YXRlU3RhcnQuc2V0KCB4LCB5ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRQYW4oKSB7XHJcblxyXG5cdFx0XHRpZiAoIHBvaW50ZXJzLmxlbmd0aCA9PT0gMSApIHtcclxuXHJcblx0XHRcdFx0cGFuU3RhcnQuc2V0KCBwb2ludGVyc1sgMCBdLnBhZ2VYLCBwb2ludGVyc1sgMCBdLnBhZ2VZICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zdCB4ID0gMC41ICogKCBwb2ludGVyc1sgMCBdLnBhZ2VYICsgcG9pbnRlcnNbIDEgXS5wYWdlWCApO1xyXG5cdFx0XHRcdGNvbnN0IHkgPSAwLjUgKiAoIHBvaW50ZXJzWyAwIF0ucGFnZVkgKyBwb2ludGVyc1sgMSBdLnBhZ2VZICk7XHJcblxyXG5cdFx0XHRcdHBhblN0YXJ0LnNldCggeCwgeSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBkeCA9IHBvaW50ZXJzWyAwIF0ucGFnZVggLSBwb2ludGVyc1sgMSBdLnBhZ2VYO1xyXG5cdFx0XHRjb25zdCBkeSA9IHBvaW50ZXJzWyAwIF0ucGFnZVkgLSBwb2ludGVyc1sgMSBdLnBhZ2VZO1xyXG5cclxuXHRcdFx0Y29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoIGR4ICogZHggKyBkeSAqIGR5ICk7XHJcblxyXG5cdFx0XHRkb2xseVN0YXJ0LnNldCggMCwgZGlzdGFuY2UgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5UGFuKCkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tICkgaGFuZGxlVG91Y2hTdGFydERvbGx5KCk7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiApIGhhbmRsZVRvdWNoU3RhcnRQYW4oKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5Um90YXRlKCkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVab29tICkgaGFuZGxlVG91Y2hTdGFydERvbGx5KCk7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSApIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUm90YXRlKCBldmVudCApIHtcclxuXHJcblx0XHRcdGlmICggcG9pbnRlcnMubGVuZ3RoID09IDEgKSB7XHJcblxyXG5cdFx0XHRcdHJvdGF0ZUVuZC5zZXQoIGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSApO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSBnZXRTZWNvbmRQb2ludGVyUG9zaXRpb24oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHggPSAwLjUgKiAoIGV2ZW50LnBhZ2VYICsgcG9zaXRpb24ueCApO1xyXG5cdFx0XHRcdGNvbnN0IHkgPSAwLjUgKiAoIGV2ZW50LnBhZ2VZICsgcG9zaXRpb24ueSApO1xyXG5cclxuXHRcdFx0XHRyb3RhdGVFbmQuc2V0KCB4LCB5ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICkubXVsdGlwbHlTY2FsYXIoIHNjb3BlLnJvdGF0ZVNwZWVkICk7XHJcblxyXG5cdFx0XHRjb25zdCBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudDtcclxuXHJcblx0XHRcdHJvdGF0ZUxlZnQoIDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICk7IC8vIHllcywgaGVpZ2h0XHJcblxyXG5cdFx0XHRyb3RhdGVVcCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKTtcclxuXHJcblx0XHRcdHJvdGF0ZVN0YXJ0LmNvcHkoIHJvdGF0ZUVuZCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVQYW4oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBwb2ludGVycy5sZW5ndGggPT09IDEgKSB7XHJcblxyXG5cdFx0XHRcdHBhbkVuZC5zZXQoIGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSApO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSBnZXRTZWNvbmRQb2ludGVyUG9zaXRpb24oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHggPSAwLjUgKiAoIGV2ZW50LnBhZ2VYICsgcG9zaXRpb24ueCApO1xyXG5cdFx0XHRcdGNvbnN0IHkgPSAwLjUgKiAoIGV2ZW50LnBhZ2VZICsgcG9zaXRpb24ueSApO1xyXG5cclxuXHRcdFx0XHRwYW5FbmQuc2V0KCB4LCB5ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwYW5EZWx0YS5zdWJWZWN0b3JzKCBwYW5FbmQsIHBhblN0YXJ0ICkubXVsdGlwbHlTY2FsYXIoIHNjb3BlLnBhblNwZWVkICk7XHJcblxyXG5cdFx0XHRwYW4oIHBhbkRlbHRhLngsIHBhbkRlbHRhLnkgKTtcclxuXHJcblx0XHRcdHBhblN0YXJ0LmNvcHkoIHBhbkVuZCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRjb25zdCBwb3NpdGlvbiA9IGdldFNlY29uZFBvaW50ZXJQb3NpdGlvbiggZXZlbnQgKTtcclxuXHJcblx0XHRcdGNvbnN0IGR4ID0gZXZlbnQucGFnZVggLSBwb3NpdGlvbi54O1xyXG5cdFx0XHRjb25zdCBkeSA9IGV2ZW50LnBhZ2VZIC0gcG9zaXRpb24ueTtcclxuXHJcblx0XHRcdGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCBkeCAqIGR4ICsgZHkgKiBkeSApO1xyXG5cclxuXHRcdFx0ZG9sbHlFbmQuc2V0KCAwLCBkaXN0YW5jZSApO1xyXG5cclxuXHRcdFx0ZG9sbHlEZWx0YS5zZXQoIDAsIE1hdGgucG93KCBkb2xseUVuZC55IC8gZG9sbHlTdGFydC55LCBzY29wZS56b29tU3BlZWQgKSApO1xyXG5cclxuXHRcdFx0ZG9sbHlPdXQoIGRvbGx5RGVsdGEueSApO1xyXG5cclxuXHRcdFx0ZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseVBhbiggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gKSBoYW5kbGVUb3VjaE1vdmVEb2xseSggZXZlbnQgKTtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlUGFuICkgaGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseVJvdGF0ZSggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gKSBoYW5kbGVUb3VjaE1vdmVEb2xseSggZXZlbnQgKTtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlICkgaGFuZGxlVG91Y2hNb3ZlUm90YXRlKCBldmVudCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHQvL1xyXG5cdFx0Ly8gZXZlbnQgaGFuZGxlcnMgLSBGU006IGxpc3RlbiBmb3IgZXZlbnRzIGFuZCByZXNldCBzdGF0ZVxyXG5cdFx0Ly9cclxuXHJcblx0XHRmdW5jdGlvbiBvblBvaW50ZXJEb3duKCBldmVudCApIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRpZiAoIHBvaW50ZXJzLmxlbmd0aCA9PT0gMCApIHtcclxuXHJcblx0XHRcdFx0c2NvcGUuZG9tRWxlbWVudC5zZXRQb2ludGVyQ2FwdHVyZSggZXZlbnQucG9pbnRlcklkICk7XHJcblxyXG5cdFx0XHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSApO1xyXG5cdFx0XHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL1xyXG5cclxuXHRcdFx0YWRkUG9pbnRlciggZXZlbnQgKTtcclxuXHJcblx0XHRcdGlmICggZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgKSB7XHJcblxyXG5cdFx0XHRcdG9uVG91Y2hTdGFydCggZXZlbnQgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdG9uTW91c2VEb3duKCBldmVudCApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvblBvaW50ZXJNb3ZlKCBldmVudCApIHtcclxuXHJcblx0XHRcdGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRpZiAoIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnICkge1xyXG5cclxuXHRcdFx0XHRvblRvdWNoTW92ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdG9uTW91c2VNb3ZlKCBldmVudCApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvblBvaW50ZXJVcCggZXZlbnQgKSB7XHJcblxyXG5cdFx0ICAgIHJlbW92ZVBvaW50ZXIoIGV2ZW50ICk7XHJcblxyXG5cdFx0ICAgIGlmICggcG9pbnRlcnMubGVuZ3RoID09PSAwICkge1xyXG5cclxuXHRcdCAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoIGV2ZW50LnBvaW50ZXJJZCApO1xyXG5cclxuXHRcdCAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlICk7XHJcblx0XHQgICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwICk7XHJcblxyXG5cdFx0ICAgIH1cclxuXHJcblx0XHQgICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggX2VuZEV2ZW50ICk7XHJcblxyXG5cdFx0ICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsKCBldmVudCApIHtcclxuXHJcblx0XHRcdHJlbW92ZVBvaW50ZXIoIGV2ZW50ICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uTW91c2VEb3duKCBldmVudCApIHtcclxuXHJcblx0XHRcdGxldCBtb3VzZUFjdGlvbjtcclxuXHJcblx0XHRcdHN3aXRjaCAoIGV2ZW50LmJ1dHRvbiApIHtcclxuXHJcblx0XHRcdFx0Y2FzZSAwOlxyXG5cclxuXHRcdFx0XHRcdG1vdXNlQWN0aW9uID0gc2NvcGUubW91c2VCdXR0b25zLkxFRlQ7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAxOlxyXG5cclxuXHRcdFx0XHRcdG1vdXNlQWN0aW9uID0gc2NvcGUubW91c2VCdXR0b25zLk1JRERMRTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIDI6XHJcblxyXG5cdFx0XHRcdFx0bW91c2VBY3Rpb24gPSBzY29wZS5tb3VzZUJ1dHRvbnMuUklHSFQ7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHJcblx0XHRcdFx0XHRtb3VzZUFjdGlvbiA9IC0gMTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHN3aXRjaCAoIG1vdXNlQWN0aW9uICkge1xyXG5cclxuXHRcdFx0XHRjYXNlIE1PVVNFLkRPTExZOlxyXG5cclxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlTW91c2VEb3duRG9sbHkoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5ET0xMWTtcclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBNT1VTRS5ST1RBVEU6XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlBBTjtcclxuXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0aGFuZGxlTW91c2VEb3duUm90YXRlKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5ST1RBVEU7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIE1PVVNFLlBBTjpcclxuXHJcblx0XHRcdFx0XHRpZiAoIGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSApIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdGhhbmRsZU1vdXNlRG93blJvdGF0ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuUk9UQVRFO1xyXG5cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlBBTjtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblxyXG5cdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSApIHtcclxuXHJcblx0XHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggX3N0YXJ0RXZlbnQgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gb25Nb3VzZU1vdmUoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdHN3aXRjaCAoIHN0YXRlICkge1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLlJPVEFURTpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlTW91c2VNb3ZlUm90YXRlKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLkRPTExZOlxyXG5cclxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlTW91c2VNb3ZlRG9sbHkoIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgU1RBVEUuUEFOOlxyXG5cclxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRoYW5kbGVNb3VzZU1vdmVQYW4oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uTW91c2VXaGVlbCggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlIHx8IHN0YXRlICE9PSBTVEFURS5OT05FICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9zdGFydEV2ZW50ICk7XHJcblxyXG5cdFx0XHRoYW5kbGVNb3VzZVdoZWVsKCBldmVudCApO1xyXG5cclxuXHRcdFx0c2NvcGUuZGlzcGF0Y2hFdmVudCggX2VuZEV2ZW50ICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uS2V5RG93biggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRoYW5kbGVLZXlEb3duKCBldmVudCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvblRvdWNoU3RhcnQoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0dHJhY2tQb2ludGVyKCBldmVudCApO1xyXG5cclxuXHRcdFx0c3dpdGNoICggcG9pbnRlcnMubGVuZ3RoICkge1xyXG5cclxuXHRcdFx0XHRjYXNlIDE6XHJcblxyXG5cdFx0XHRcdFx0c3dpdGNoICggc2NvcGUudG91Y2hlcy5PTkUgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRjYXNlIFRPVUNILlJPVEFURTpcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfUk9UQVRFO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgVE9VQ0guUEFOOlxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRcdGhhbmRsZVRvdWNoU3RhcnRQYW4oKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XHJcblxyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHJcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTVEFURS5OT05FO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAyOlxyXG5cclxuXHRcdFx0XHRcdHN3aXRjaCAoIHNjb3BlLnRvdWNoZXMuVFdPICkge1xyXG5cclxuXHRcdFx0XHRcdFx0Y2FzZSBUT1VDSC5ET0xMWV9QQU46XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgJiYgc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRcdFx0aGFuZGxlVG91Y2hTdGFydERvbGx5UGFuKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuVE9VQ0hfRE9MTFlfUEFOO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgVE9VQ0guRE9MTFlfUk9UQVRFOlxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRcdGhhbmRsZVRvdWNoU3RhcnREb2xseVJvdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLlRPVUNIX0RPTExZX1JPVEFURTtcclxuXHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cclxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cclxuXHRcdFx0XHRcdHN0YXRlID0gU1RBVEUuTk9ORTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XHJcblxyXG5cdFx0XHRcdHNjb3BlLmRpc3BhdGNoRXZlbnQoIF9zdGFydEV2ZW50ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKCBldmVudCApIHtcclxuXHJcblx0XHRcdHRyYWNrUG9pbnRlciggZXZlbnQgKTtcclxuXHJcblx0XHRcdHN3aXRjaCAoIHN0YXRlICkge1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLlRPVUNIX1JPVEFURTpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlUm90YXRlKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLlRPVUNIX1BBTjpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApO1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLnVwZGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFNUQVRFLlRPVUNIX0RPTExZX1BBTjpcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0aGFuZGxlVG91Y2hNb3ZlRG9sbHlQYW4oIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUudXBkYXRlKCk7XHJcblxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgU1RBVEUuVE9VQ0hfRE9MTFlfUk9UQVRFOlxyXG5cclxuXHRcdFx0XHRcdGlmICggc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgJiYgc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRoYW5kbGVUb3VjaE1vdmVEb2xseVJvdGF0ZSggZXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRzY29wZS51cGRhdGUoKTtcclxuXHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHJcblx0XHRcdFx0XHRzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0aWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFkZFBvaW50ZXIoIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0cG9pbnRlcnMucHVzaCggZXZlbnQgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlUG9pbnRlciggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRkZWxldGUgcG9pbnRlclBvc2l0aW9uc1sgZXZlbnQucG9pbnRlcklkIF07XHJcblxyXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRcdGlmICggcG9pbnRlcnNbIGkgXS5wb2ludGVySWQgPT0gZXZlbnQucG9pbnRlcklkICkge1xyXG5cclxuXHRcdFx0XHRcdHBvaW50ZXJzLnNwbGljZSggaSwgMSApO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRyYWNrUG9pbnRlciggZXZlbnQgKSB7XHJcblxyXG5cdFx0XHRsZXQgcG9zaXRpb24gPSBwb2ludGVyUG9zaXRpb25zWyBldmVudC5wb2ludGVySWQgXTtcclxuXHJcblx0XHRcdGlmICggcG9zaXRpb24gPT09IHVuZGVmaW5lZCApIHtcclxuXHJcblx0XHRcdFx0cG9zaXRpb24gPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0XHRcdHBvaW50ZXJQb3NpdGlvbnNbIGV2ZW50LnBvaW50ZXJJZCBdID0gcG9zaXRpb247XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwb3NpdGlvbi5zZXQoIGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRTZWNvbmRQb2ludGVyUG9zaXRpb24oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0Y29uc3QgcG9pbnRlciA9ICggZXZlbnQucG9pbnRlcklkID09PSBwb2ludGVyc1sgMCBdLnBvaW50ZXJJZCApID8gcG9pbnRlcnNbIDEgXSA6IHBvaW50ZXJzWyAwIF07XHJcblxyXG5cdFx0XHRyZXR1cm4gcG9pbnRlclBvc2l0aW9uc1sgcG9pbnRlci5wb2ludGVySWQgXTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly9cclxuXHJcblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUgKTtcclxuXHJcblx0XHRzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24gKTtcclxuXHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJjYW5jZWwnLCBvblBvaW50ZXJDYW5jZWwgKTtcclxuXHRcdHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3doZWVsJywgb25Nb3VzZVdoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0gKTtcclxuXHJcblx0XHQvLyBmb3JjZSBhbiB1cGRhdGUgYXQgc3RhcnRcclxuXHJcblx0XHR0aGlzLnVwZGF0ZSgpO1xyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5cclxuLy8gVGhpcyBzZXQgb2YgY29udHJvbHMgcGVyZm9ybXMgb3JiaXRpbmcsIGRvbGx5aW5nICh6b29taW5nKSwgYW5kIHBhbm5pbmcuXHJcbi8vIFVubGlrZSBUcmFja2JhbGxDb250cm9scywgaXQgbWFpbnRhaW5zIHRoZSBcInVwXCIgZGlyZWN0aW9uIG9iamVjdC51cCAoK1kgYnkgZGVmYXVsdCkuXHJcbi8vIFRoaXMgaXMgdmVyeSBzaW1pbGFyIHRvIE9yYml0Q29udHJvbHMsIGFub3RoZXIgc2V0IG9mIHRvdWNoIGJlaGF2aW9yXHJcbi8vXHJcbi8vICAgIE9yYml0IC0gcmlnaHQgbW91c2UsIG9yIGxlZnQgbW91c2UgKyBjdHJsL21ldGEvc2hpZnRLZXkgLyB0b3VjaDogdHdvLWZpbmdlciByb3RhdGVcclxuLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28tZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcclxuLy8gICAgUGFuIC0gbGVmdCBtb3VzZSwgb3IgYXJyb3cga2V5cyAvIHRvdWNoOiBvbmUtZmluZ2VyIG1vdmVcclxuXHJcbmNsYXNzIE1hcENvbnRyb2xzIGV4dGVuZHMgT3JiaXRDb250cm9scyB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCBvYmplY3QsIGRvbUVsZW1lbnQgKSB7XHJcblxyXG5cdFx0c3VwZXIoIG9iamVjdCwgZG9tRWxlbWVudCApO1xyXG5cclxuXHRcdHRoaXMuc2NyZWVuU3BhY2VQYW5uaW5nID0gZmFsc2U7IC8vIHBhbiBvcnRob2dvbmFsIHRvIHdvcmxkLXNwYWNlIGRpcmVjdGlvbiBjYW1lcmEudXBcclxuXHJcblx0XHR0aGlzLm1vdXNlQnV0dG9ucy5MRUZUID0gTU9VU0UuUEFOO1xyXG5cdFx0dGhpcy5tb3VzZUJ1dHRvbnMuUklHSFQgPSBNT1VTRS5ST1RBVEU7XHJcblxyXG5cdFx0dGhpcy50b3VjaGVzLk9ORSA9IFRPVUNILlBBTjtcclxuXHRcdHRoaXMudG91Y2hlcy5UV08gPSBUT1VDSC5ET0xMWV9ST1RBVEU7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IE9yYml0Q29udHJvbHMsIE1hcENvbnRyb2xzIH07XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIFJlbmRlcmVyLmpzIFxyXG4vLyBNYW5hZ2VyIHRoZSBUSEVFLkpTIFJlbmRlcmVyIENyZWF0ZVxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4vRXhwZXJpZW5jZVwiXHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zaXplcyA9IHRoaXMuZXhwZXJpZW5jZS5zaXplc1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmV4cGVyaWVuY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLmVDYW52YXMgPSB0aGlzLmV4cGVyaWVuY2UuZUNhbnZhc1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5leHBlcmllbmNlLmNhbWVyYVxyXG5cclxuICAgICAgICB0aGlzLnNldEluc3RhbmNlKClcclxuICAgIH1cclxuXHJcbiAgICBzZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xyXG4gICAgICAgICAgICBjYW52YXM6IHRoaXMuZUNhbnZhcyxcclxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5vdXRwdXRFbmNvZGluZyA9IFRIUkVFLnNSR0JFbmNvZGluZztcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnRvbmVNYXBwaW5nID0gVEhSRUUuUmVpbmhhcmRUb25lTWFwcGluZztcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnNldENsZWFyQ29sb3IoJyMyMTFkMjAnKVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0U2l6ZSh0aGlzLnNpemVzLndpZHRoLHRoaXMuc2l6ZXMuaGVpZ2h0KVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2Uuc2V0UGl4ZWxSYXRpbyh0aGlzLnNpemVzLnBpeGVsUmF0aW8pXHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplKCl7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXRTaXplKHRoaXMuc2l6ZXMud2lkdGgsdGhpcy5zaXplcy5oZWlnaHQpXHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXRQaXhlbFJhdGlvKHRoaXMuc2l6ZXMucGl4ZWxSYXRpbylcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICB0aGlzLmluc3RhbmNlLnJlbmRlcih0aGlzLnNjZW5lLHRoaXMuY2FtZXJhLmluc3RhbmNlKVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIEF0bGFzLmpzXHJcbi8vIE1hbmFnZXIgdGhlIGJhc2ljIGF0bGFzIHJlbmRlcmVyXHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcInRocmVlXCJcclxuXHJcbmltcG9ydCBFeHBlcmllbmNlIGZyb20gXCIuLi8uLi9FeHBlcmllbmNlXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0bGFzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKClcclxuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcy5leHBlcmllbmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB0aGlzLmV4cGVyaWVuY2UucmVzb3VyY2VzXHJcbiAgICAgICAgdGhpcy50aW1lID0gdGhpcy5leHBlcmllbmNlLnRpbWVcclxuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5leHBlcmllbmNlLmRlYnVnXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIgPSB0aGlzLmV4cGVyaWVuY2UuY2FzdGVyXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRlYnVnLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyID0gdGhpcy5kZWJ1Zy51aS5hZGRGb2xkZXIoXCJBdGxhc1wiKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRHZW9tZXRyeSgpXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0dXJlcygpXHJcbiAgICAgICAgdGhpcy5zZXRNYXRlcmlhbCgpXHJcbiAgICAgICAgdGhpcy5zZXRNZXNoKClcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhc3Rlci5yZWdpc3Rlcih0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHNldEdlb21ldHJ5KCkge1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSgxOTEuNiwgMTMyLjksIDI1NiwgMTI4KVxyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy51djIgPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXZcclxuICAgIH1cclxuICAgIHNldFRleHR1cmVzKCkge1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fVxyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmVzLmF0bGFzID0gdGhpcy5yZXNvdXJjZXMuaXRlbXMuYXRsYXNcclxuICAgICAgICB0aGlzLnRleHR1cmVzLmF0bGFzLmVuY29kaW5nID0gVEhSRUUuc1JHQkVuY29kaW5nXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5hdGxhcy5yZXBlYXQuc2V0KDEsIDEpXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5hdGxhcy53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5hdGxhcy53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcblxyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsID0gdGhpcy5yZXNvdXJjZXMuaXRlbXMuYXRsYXNOb3JtYWxcclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbC5lbmNvZGluZyA9IFRIUkVFLkxpbmVhckVuY29kaW5nXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5ub3JtYWwud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5kaXNwbGFjZW1lbnQgPSB0aGlzLnJlc291cmNlcy5pdGVtcy5hdGxhc0Rpc3BsYWNlbWVudFxyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbC53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcblxyXG4gICAgICAgIHRoaXMudGV4dHVyZXMub2NjbHVzaW9uID0gdGhpcy5yZXNvdXJjZXMuaXRlbXMuYXRsYXNPY2NsdXNpb25cclxuICAgICAgICB0aGlzLnRleHR1cmVzLm5vcm1hbC53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5ub3JtYWwud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmVzLnJvdWdobmVzcyA9IHRoaXMucmVzb3VyY2VzLml0ZW1zLmF0bGFzUm91Z2huZXNzXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5ub3JtYWwud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZXMubm9ybWFsLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmdcclxuICAgIH1cclxuICAgIHNldE1hdGVyaWFsKCkge1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBtYXA6IHRoaXMudGV4dHVyZXMuYXRsYXMsXHJcbiAgICAgICAgICAgIG5vcm1hbE1hcDogdGhpcy50ZXh0dXJlcy5ub3JtYWwsXHJcbiAgICAgICAgICAgIGFvTWFwOiB0aGlzLnRleHR1cmVzLm9jY2x1c2lvbixcclxuICAgICAgICAgICAgZGlzcGxhY2VtZW50TWFwOiB0aGlzLnRleHR1cmVzLmRpc3BsYWNlbWVudCxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwuYW9NYXBJbnRlbnNpdHkgPSAzNVxyXG4gICAgICAgIHRoaXMubWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGUgPSAxLjVcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLm5vcm1hbFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjIoMC4zLCAwLjMpXHJcbiAgICB9XHJcbiAgICBzZXRNZXNoKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKVxyXG4gICAgICAgIHRoaXMubW9kZWwubmFtZSA9IFwiYXRsYXNcIlxyXG5cclxuICAgICAgICB0aGlzLm1vZGVsLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAqIDAuNVxyXG4gICAgICAgIHRoaXMubW9kZWwucmVjZWl2ZVNoYWRvdyA9IHRydWVcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1vZGVsKVxyXG4gICAgfVxyXG5cclxuICAgIGNsaWNrKCl7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHt9XHJcbn1cclxuIiwiLy8gQWxsIHJpZ2h0cyByZXNlcnZlZCBieSBZb25cclxuLy8gRm94LmpzIFxyXG4vLyBNYW5hZ2VyIHRoZSBGb3ggUmVzb3VyY2VzXHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4uLy4uL0V4cGVyaWVuY2VcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm94IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKClcclxuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcy5leHBlcmllbmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB0aGlzLmV4cGVyaWVuY2UucmVzb3VyY2VzXHJcbiAgICAgICAgdGhpcy50aW1lID0gdGhpcy5leHBlcmllbmNlLnRpbWVcclxuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5leHBlcmllbmNlLmRlYnVnXHJcbiAgICAgICAgdGhpcy5jYXN0ZXIgPSB0aGlzLmV4cGVyaWVuY2UuY2FzdGVyXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRlYnVnLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyID0gdGhpcy5kZWJ1Zy51aS5hZGRGb2xkZXIoXCJmb3hcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSB0aGlzLnJlc291cmNlcy5pdGVtcy5mb3hcclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2V0TW9kZWwoKVxyXG4gICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKClcclxuICAgICAgICB0aGlzLmNhc3Rlci5yZWdpc3Rlcih0aGlzKVxyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZWwoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IHRoaXMucmVzb3VyY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLm1vZGVsLm5hbWUgPSBcImZveFwiXHJcbiAgICAgICAgdGhpcy5tb2RlbC5zY2FsZS5zZXQoMC4wMiwgMC4wMiwgMC4wMilcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1vZGVsKVxyXG5cclxuICAgICAgICB0aGlzLm1vZGVsLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2V0QW5pbWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0ge31cclxuXHJcbiAgICAgICAgLy8gTWl4ZXJcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcih0aGlzLm1vZGVsKVxyXG5cclxuICAgICAgICAvLyBBY3Rpb25zXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWN0aW9ucyA9IHt9XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFjdGlvbnMuaWRsZSA9IHRoaXMuYW5pbWF0aW9uLm1peGVyLmNsaXBBY3Rpb24oXHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuYW5pbWF0aW9uc1swXVxyXG4gICAgICAgIClcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hY3Rpb25zLndhbGtpbmcgPSB0aGlzLmFuaW1hdGlvbi5taXhlci5jbGlwQWN0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLmFuaW1hdGlvbnNbMV1cclxuICAgICAgICApXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWN0aW9ucy5ydW5uaW5nID0gdGhpcy5hbmltYXRpb24ubWl4ZXIuY2xpcEFjdGlvbihcclxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5hbmltYXRpb25zWzJdXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hY3Rpb25zLmN1cnJlbnQgPSB0aGlzLmFuaW1hdGlvbi5hY3Rpb25zLndhbGtpbmdcclxuXHJcbiAgICAgICAgLy8gdGhpcy5hbmltYXRpb24uYWN0aW9ucy5jdXJyZW50LnBsYXkoKVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5ID0gKG5hbWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3QWN0aW9uID0gdGhpcy5hbmltYXRpb24uYWN0aW9uc1tuYW1lXVxyXG4gICAgICAgICAgICBjb25zdCBvbGRBY3Rpb24gPSB0aGlzLmFuaW1hdGlvbi5hY3Rpb25zLmN1cnJlbnRcclxuICAgICAgICAgICAgbmV3QWN0aW9uLnJlc2V0KClcclxuICAgICAgICAgICAgbmV3QWN0aW9uLnBsYXkoKVxyXG4gICAgICAgICAgICBuZXdBY3Rpb24uY3Jvc3NGYWRlRnJvbShvbGRBY3Rpb24sIDEpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5hY3Rpb25zLmN1cnJlbnQgPSBuZXdBY3Rpb25cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRlYnVnLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWJ1Z09iamVjdCA9IHtcclxuICAgICAgICAgICAgICAgIHBsYXlJZGxlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheShcImlkbGVcIilcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwbGF5V2Fsa2luZzogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnBsYXkoXCJ3YWxraW5nXCIpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcGxheVJ1bm5pbmc6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5KFwicnVubmluZ1wiKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyLmFkZChkZWJ1Z09iamVjdCwgXCJwbGF5SWRsZVwiKVxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyLmFkZChkZWJ1Z09iamVjdCwgXCJwbGF5V2Fsa2luZ1wiKVxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyLmFkZChkZWJ1Z09iamVjdCwncGxheVJ1bm5pbmcnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5taXhlci51cGRhdGUodGhpcy50aW1lLmRlbHRhICogMC4wMDEpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuXHJcbmltcG9ydCBFeHBlcmllbmNlIGZyb20gXCIuLi8uLi9FeHBlcmllbmNlXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbmtleSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHRoaXMuZXhwZXJpZW5jZS5zY2VuZVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gdGhpcy5leHBlcmllbmNlLnJlc291cmNlc1xyXG4gICAgICAgIHRoaXMudGltZSA9IHRoaXMuZXhwZXJpZW5jZS50aW1lXHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuZXhwZXJpZW5jZS5kZWJ1Z1xyXG5cclxuICAgICAgICB0aGlzLnJlc291cmNlID0gdGhpcy5yZXNvdXJjZXMuaXRlbXMubW9ua2V5XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TW9kZWwoKVxyXG5cclxuICAgICAgICB0aGlzLmNhc3RlciA9IHRoaXMuZXhwZXJpZW5jZS5jYXN0ZXJcclxuICAgICAgICB0aGlzLmNhc3Rlci5yZWdpc3Rlcih0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHNldE1vZGVsKCkge1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLnJlc291cmNlLnNjZW5lXHJcbiAgICAgICAgdGhpcy5tb2RlbC5zY2FsZS5zZXQoMiwgMiwgMilcclxuICAgICAgICB0aGlzLm1vZGVsLnBvc2l0aW9uLnNldCgtMjUsIDIsIDMwKVxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubW9kZWwpXHJcbiAgICAgICAgdGhpcy5tb2RlbC50cmF2ZXJzZSgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY3Vyc29yQ2xpY2soKSB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuIiwiLy8gQWxsIHJpZ2h0cyByZXNlcnZlZCBieSBZb25cclxuLy8gRW52aXJvbm1lbnQuanMgXHJcbi8vIE1hbmFnZXIgdGhlIEVudmlyb25tZW50XHJcbi8vIEluY2x1ZGUgbGlnaHQsIGVudmlyTWFwXHJcbi8vIEluY2x1ZGUgaG93IGVudmlyTWFwIGVmZmVjdCB0aGUgbWF0ZXJpYWwsIGl0IGhhcyBhIGxvb3Agc2V0IGZvciBldmVyeSBvYmplY3QgaW4gc2NlbmVcclxuXHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcblxyXG5pbXBvcnQgRXhwZXJpZW5jZSBmcm9tIFwiLi4vRXhwZXJpZW5jZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnZpcm9ubWVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSgpXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHRoaXMuZXhwZXJpZW5jZS5zY2VuZVxyXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0gdGhpcy5leHBlcmllbmNlLnJlc291cmNlc1xyXG4gICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLmV4cGVyaWVuY2UuZGVidWdcclxuXHJcbiAgICAgICAgaWYodGhpcy5kZWJ1Zy5hY3RpdmUpe1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyID0gdGhpcy5kZWJ1Zy51aS5hZGRGb2xkZXIoXCJlbnZpcm9ubWVudFwiKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdW5MaWdodCgpXHJcbiAgICAgICAgdGhpcy5zZXRFbnZpcm9ubWVudE1hcCgpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3VuTGlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodEludGVuc2l0eSA9IDEwXHJcbiAgICAgICAgdGhpcy5zdW5MaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KFxyXG4gICAgICAgICAgICAweGZmZmZmZixcclxuICAgICAgICAgICAgZGlyZWN0aW9uYWxMaWdodEludGVuc2l0eVxyXG4gICAgICAgIClcclxuICAgICAgICB0aGlzLnN1bkxpZ2h0LnBvc2l0aW9uLnNldCgtNDAsIDQwLCA0MClcclxuICAgICAgICB0aGlzLnN1bkxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlXHJcbiAgICAgICAgLy8gdGhpcy5zdW5MaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IDE1XHJcbiAgICAgICAgLy8gdGhpcy5zdW5MaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDUxMlxyXG4gICAgICAgIC8vIHRoaXMuc3VuTGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gNTEyXHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuc3VuTGlnaHQpXHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGVidWcuYWN0aXZlKXtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQodGhpcy5zdW5MaWdodCxcImludGVuc2l0eVwiKS5uYW1lKCdzdW5MaWdodEludGVuc2l0eScpLm1pbigwKS5tYXgoMTApLnN0ZXAoMC4wMDEpXHJcbiAgICAgICAgICAgIHRoaXMuZGVidWdGb2xkZXIuYWRkKHRoaXMuc3VuTGlnaHQucG9zaXRpb24sXCJ4XCIpLm5hbWUoJ3N1bkxpZ2h0SW50ZW5zaXR5JykubWluKC01KS5tYXgoNSkuc3RlcCgwLjAwMSlcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQodGhpcy5zdW5MaWdodC5wb3NpdGlvbixcInlcIikubmFtZSgnc3VuTGlnaHRJbnRlbnNpdHknKS5taW4oLTUpLm1heCg1KS5zdGVwKDAuMDAxKVxyXG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9sZGVyLmFkZCh0aGlzLnN1bkxpZ2h0LnBvc2l0aW9uLFwielwiKS5uYW1lKCdzdW5MaWdodEludGVuc2l0eScpLm1pbigtNSkubWF4KDUpLnN0ZXAoMC4wMDEpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRFbnZpcm9ubWVudE1hcCgpIHtcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50TWFwID0ge31cclxuICAgICAgICB0aGlzLmVudmlyb25tZW50TWFwLmludGVuc2l0eSA9IDAuM1xyXG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRNYXAudGV4dHVyZSA9IHRoaXMucmVzb3VyY2VzLml0ZW1zLmVudmlyb25tZW50TWFwVGV4dHVyZVxyXG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRNYXAudGV4dHVyZS5lbmNvZGluZyA9IFRIUkVFLnNSR0JFbmNvZGluZ1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLmVudmlyb25tZW50ID0gdGhpcy5lbnZpcm9ubWVudE1hcC50ZXh0dXJlXHJcblxyXG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRNYXAudXBkYXRlTWF0ZXJpYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwgaW5zdGFuY2VvZiBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbFxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuZW52TWFwID0gdGhpcy5lbnZpcm9ubWVudE1hcC50ZXh0dXJlXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuZW52TWFwSW50ZW5zaXR5ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudE1hcC5pbnRlbnNpdHlcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudE1hcC51cGRhdGVNYXRlcmlhbCgpXHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGVidWcuYWN0aXZlKXtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0ZvbGRlci5hZGQodGhpcy5lbnZpcm9ubWVudE1hcCxcImludGVuc2l0eVwiKS5uYW1lKCdlbnZNYXBJbnRlbnNpdHknKS5taW4oMCkubWF4KDQpLnN0ZXAoMC4wMDEpLm9uQ2hhbmdlKHRoaXMuZW52aXJvbm1lbnRNYXAudXBkYXRlTWF0ZXJpYWwpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIHdvcmQuanNcclxuLy8gTWFuYWdlciB0aGUgcmVuZGVyIHdvcmxkIG91dGxpbmVcclxuXHJcbmltcG9ydCBFeHBlcmllbmNlIGZyb20gXCIuLi9FeHBlcmllbmNlXCJcclxuaW1wb3J0IEVudmlyb25tZW50IGZyb20gXCIuL0Vudmlyb25tZW50XCJcclxuaW1wb3J0IEhlbHBlciBmcm9tIFwiLi4vLi4vVXRpbHMvSGVscGVyXCJcclxuXHJcbmltcG9ydCBGb3ggZnJvbSBcIi4vQXRsYXMvRm94XCJcclxuaW1wb3J0IE1vbmtleSBmcm9tIFwiLi9BdGxhcy9Nb25rZXlcIlxyXG5pbXBvcnQgQXRsYXMgZnJvbSBcIi4vQXRsYXMvQXRsYXNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmV4cGVyaWVuY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHRoaXMuZXhwZXJpZW5jZS5yZXNvdXJjZXNcclxuICAgICAgICB0aGlzLmNhc3RlciA9IHRoaXMuZXhwZXJpZW5jZS5jYXN0ZXJcclxuXHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMub24oXCJyZWFkeVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzb3VyY2VzIGFyZSByZWFkeVwiKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3ggPSBuZXcgRm94KClcclxuICAgICAgICAgICAgdGhpcy5tb25rZXkgPSBuZXcgTW9ua2V5KClcclxuICAgICAgICAgICAgdGhpcy5hdGxhcyA9IG5ldyBBdGxhcygpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gbmV3IEVudmlyb25tZW50KClcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGVscGVyID0gbmV3IEhlbHBlcigpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZm94KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm94LnVwZGF0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgYnkgWW9uXHJcbi8vIHNvdXJjZXMuanMgXHJcbi8vIE1hbmFnZXIgdGhlIGFydCByZXNvdXJjZXMgbG9hZCBwYXRoIGFuZCB0eXBlIGluZm9ybWF0aW9uXHJcbi8vIHN1cHBvcnQgKnRleCAqZ2x0Zk1vZGVsICpjdWJlVGV4XHJcbi8vIE1hbmFnZXIgQnkgUmVzb3VyY2VzLmpzXHJcblxyXG5leHBvcnQgZGVmYXVsdCBbXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJlbnZpcm9ubWVudE1hcFRleHR1cmVcIixcclxuICAgICAgICB0eXBlOiBcImN1YmVUZXhcIixcclxuICAgICAgICBwYXRoOiBbXHJcbiAgICAgICAgICAgIFwidGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvcHguanBnXCIsXHJcbiAgICAgICAgICAgIFwidGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvbnguanBnXCIsXHJcbiAgICAgICAgICAgIFwidGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvcHkuanBnXCIsXHJcbiAgICAgICAgICAgIFwidGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvbnkuanBnXCIsXHJcbiAgICAgICAgICAgIFwidGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvcHouanBnXCIsXHJcbiAgICAgICAgICAgIFwidGV4dHVyZXMvZW52aXJvbm1lbnRNYXBzLzAvbnouanBnXCIsXHJcbiAgICAgICAgXSxcclxuICAgIH0sXHJcblxyXG5cclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcImZveFwiLFxyXG4gICAgICAgIHR5cGU6IFwiZ2x0Zk1vZGVsXCIsXHJcbiAgICAgICAgcGF0aDogXCJtb2RlbHMvRm94L2dsVEYvRm94LmdsdGZcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJtb25rZXlcIixcclxuICAgICAgICB0eXBlOiBcImdsdGZNb2RlbFwiLFxyXG4gICAgICAgIHBhdGg6IFwibW9kZWxzL01vbmtleS9Nb25rZXkuZ2x0ZlwiLFxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJhdGxhc1wiLFxyXG4gICAgICAgIHR5cGU6XCJ0ZXhcIixcclxuICAgICAgICBwYXRoOiBcInRleHR1cmVzL2F0bGFzL2F0bGFzTWV0YS5wbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcImF0bGFzTm9ybWFsXCIsXHJcbiAgICAgICAgdHlwZTogXCJ0ZXhcIixcclxuICAgICAgICBwYXRoOiBcInRleHR1cmVzL2F0bGFzL25vcm1hbC5wbmdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogXCJhdGxhc0Rpc3BsYWNlbWVudFwiLFxyXG4gICAgICAgIHR5cGU6IFwidGV4XCIsXHJcbiAgICAgICAgcGF0aDogXCJ0ZXh0dXJlcy9hdGxhcy9kaXNwbGFjZW1lbnQucG5nXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6IFwiYXRsYXNPY2NsdXNpb25cIixcclxuICAgICAgICB0eXBlOiBcInRleFwiLFxyXG4gICAgICAgIHBhdGg6IFwidGV4dHVyZXMvYXRsYXMvb2NjbHVzaW9uLnBuZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiBcImF0bGFzUm91Z2huZXNzXCIsXHJcbiAgICAgICAgdHlwZTogXCJ0ZXhcIixcclxuICAgICAgICBwYXRoOiBcInRleHR1cmVzL2F0bGFzL3JvdWdobmVzcy5wbmdcIixcclxuICAgIH1cclxuXVxyXG4iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBDYW52YXMuanNcclxuLy8gTWFuYWdlciB0aGUgVEhSRUUuanMgUmVuZGVyZXJcclxuLy8gTWFuYWdlciB0aGUgZXZlbnQgZnJvbSBSZW5kZXJlclxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4uL0V4cGVyaWVuY2UvRXhwZXJpZW5jZVwiO1xyXG5pbXBvcnQgUHJvZmlsZSBmcm9tIFwiLi9Qcm9maWxlXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRUNhbnZhcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluaXQoKVxyXG4gICAgICAgIHRoaXMucHJvZmlsZSA9IG5ldyBQcm9maWxlKClcclxuICAgICAgICB0aGlzLnJlZ2lvbiA9IHRoaXMucHJvZmlsZS5yZWdpb25cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlZ2lvbilcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5lQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKVxyXG4gICAgICAgIHRoaXMuZUNhbnZhcy5jbGFzc05hbWUgPSBcIndlYmdsXCJcclxuICAgICAgICB0aGlzLmV4cGVyaWVuY2UgPSBuZXcgRXhwZXJpZW5jZSh0aGlzKVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRoaXMuZUNhbnZhcywgZG9jdW1lbnQuYm9keS5jaGlsZHJlblswXSlcclxuICAgIH1cclxuXHJcbiAgICAvL2NhbGwgaW4gZXhwZXJpZW5jZVxyXG4gICAgcmF5Q2xpY2sob2JqLG1vZGVsKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrIGZyb206IFwiKyBtb2RlbC5uYW1lKyBcIiBpbiBlY2FudmFzXCIpXHJcbiAgICAgICAgaWYodGhpcy5yZWdpb24ucmF5Q2xpY2spe1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lvbi5yYXlDbGljayhvYmosbW9kZWwpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQcm9maWxlIGZyb20gXCIuL1Byb2ZpbGVcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRVJlZ2lvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnByb2ZpbGUgPSBuZXcgUHJvZmlsZSgpXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmVSZWdpb25hbFByb2ZpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxQcm9maWxlLmNsYXNzTmFtZSA9IFwicmVnaW9uXCJcclxuXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKVxyXG4gICAgICAgIHRoaXMuZVJlZ2lvbmFsVGl0bGUuY2xhc3NOYW1lID0gXCJyZWdpb25UaXRsZVwiXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxUaXRsZS5pbm5lckhUTUwgPSBcIkdyYXlMYW5kXCJcclxuICAgICAgICB0aGlzLmVSZWdpb25hbFByb2ZpbGUuYXBwZW5kQ2hpbGQodGhpcy5lUmVnaW9uYWxUaXRsZSlcclxuXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxEZXNjcmlwdGlvbi5jbGFzc05hbWUgPSBcInJlZ2lvbkRlc2NyaXB0aW9uXCJcclxuICAgICAgICB0aGlzLmVSZWdpb25hbERlc2NyaXB0aW9uLmlubmVySFRNTCA9XHJcbiAgICAgICAgICAgIFwiQnV0IHRoZSBjb2luIHNsaXBwZWQgdGhyb3VnaCB0aGUgc2xvdCwgYW5kIHNoZSBwaWNrZWQgaXQgdXAgYWdhaW4sIGp1c3QgbGlrZSBsYXN0IHRpbWUuXCJcclxuICAgICAgICB0aGlzLmVSZWdpb25hbFByb2ZpbGUuYXBwZW5kQ2hpbGQodGhpcy5lUmVnaW9uYWxEZXNjcmlwdGlvbilcclxuXHJcbiAgICAgICAgdGhpcy5lRGlzY292ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKVxyXG4gICAgICAgIHRoaXMuZURpc2NvdmVyLmNsYXNzTmFtZSA9IFwiZGlzY292ZXJcIlxyXG4gICAgICAgIHRoaXMuZURpc2NvdmVyLmhyZWYgPSBcIlwiXHJcbiAgICAgICAgdGhpcy5lRGlzY292ZXIuaW5uZXJIVE1MID0gXCJEaXNjb3Zlci4uLlwiXHJcbiAgICAgICAgdGhpcy5lUmVnaW9uYWxQcm9maWxlLmFwcGVuZENoaWxkKHRoaXMuZURpc2NvdmVyKVxyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZVJlZ2lvbmFsUHJvZmlsZSlcclxuICAgIH1cclxuXHJcbiAgICByYXlDbGljayhvYmosIG1vZGVsKSB7XHJcbiAgICAgICAgLy8gaWQgPSBtb2RlbC5uYW1lICE9IGNvbnRlbnQgZm9sZGVyIG5hbWVcclxuICAgICAgICAvLyBpZCBpcyBlcXVhbGwgdG8gY3VycmVudCBtb2RlbCBjbGlja2VkLCBkYXRhIG1heSBub3QgcmVmcmVzaCB3aGVuIGNsaWNrZWRcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlkID0gbW9kZWwubmFtZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrIGZyb206IFwiICsgdGhpcy5pZCArIFwiIGluIGVSZWdpb25cIilcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcXVpcmUoXCIvc3RhdGljL2NvbnRlbnQvXCIgKyB0aGlzLmlkICsgXCIvbWFpbi5qc29uXCIpXHJcbiAgICAgICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gY29udGVudCBhYm91dCBcIiArdGhpcy5pZClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVmcmVzaCB0aGUgZVJlZ2lvblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5lUmVnaW9uYWxUaXRsZS5pbm5lckhUTUwgPSB0aGlzLmRhdGEudGl0bGVcclxuICAgICAgICAgICAgdGhpcy5lUmVnaW9uYWxEZXNjcmlwdGlvbi5pbm5lckhUTUwgPSB0aGlzLmRhdGEuZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgdGhpcy5lRGlzY292ZXIuaHJlZiA9IFwiL2V4cGxvcmU/cGxhY2U9XCIgKyB0aGlzLmRhdGEuaWRcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5lRGlzY292ZXIuaHJlZilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVUZW1we1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IHJlcXVpcmUoXCIvc3RhdGljL2NvbnRlbnQvdGVtcC5qc29uXCIpXHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGFuZ3VhZ2UgPSAwXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdExhbmd1YWdlKClcclxuXHJcbiAgICAgICAgdGhpcy5pbml0SW50cm9kdWNlKClcclxuXHJcbiAgICAgICAgdGhpcy5zd2l0Y2hJbnRyb2R1Y2UoKVxyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudClcclxuICAgIH1cclxuXHJcbiAgICBpbml0TGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5lTGFuZ3VhZ2UgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgIHRoaXMuZUxhbmd1YWdlLmlkID0gXCJsYW5ndWFnZVwiXHJcbiAgICAgICAgdGhpcy5lTGFuZ3VhZ2UuaW5uZXJIVE1MID0gdGhpcy5kYXRhLmxhbmd1YWdlXHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVMYW5ndWFnZSlcclxuICAgIH1cclxuXHJcbiAgICBpbml0SW50cm9kdWNlKCkge1xyXG4gICAgICAgIHRoaXMuZUludHJvZHVjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICB0aGlzLmVJbnRyb2R1Y2UuY2xhc3NOYW1lID0gXCJ0ZXh0XCJcclxuICAgICAgICB0aGlzLnB1dEludHJvZHVjZSgpXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZUludHJvZHVjZSlcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2hJbnRyb2R1Y2UoKSB7XHJcbiAgICAgICAgdGhpcy5lTGFuZ3VhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExhbmd1YWdlICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExhbmd1YWdlID0gMFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGFuZ3VhZ2UgPSAxXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wdXRJbnRyb2R1Y2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1dEludHJvZHVjZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50TGFuZ3VhZ2UgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNJbnRyb2R1Y2UgPSB0aGlzLndvcmRMaW5lKHRoaXMuZGF0YS5jaGluZXNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc0ludHJvZHVjZSA9IHRoaXMud29yZExpbmUodGhpcy5kYXRhLmVuZ2xpc2gpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZUludHJvZHVjZS5pbm5lckhUTUwgPSB0aGlzLnNJbnRyb2R1Y2VcclxuICAgIH1cclxuXHJcbiAgICB3b3JkTGluZShsYW5ndWFnZSkge1xyXG4gICAgICAgIGxldCBpLFxyXG4gICAgICAgICAgICB3b3JkID0gXCI8bGk+XCJcclxuICAgICAgICBmb3IgKGkgaW4gbGFuZ3VhZ2Uud29yZCkge1xyXG4gICAgICAgICAgICB3b3JkICs9IGxhbmd1YWdlLndvcmRbaV0gKyBcIjwvbGk+XCJcclxuICAgICAgICAgICAgd29yZCArPSBcIjxsaT5cIlxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd29yZFxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBUZW1wIGZyb20gXCIuL0VUZW1wXCJcclxuaW1wb3J0IFJlZ2lvbiBmcm9tIFwiLi9FUmVnaW9uXCJcclxuaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9FQ2FudmFzXCJcclxuXHJcbmxldCBpbnN0YW5jZSA9IG51bGxcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2ZpbGUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbnN0YW5jZSA9IHRoaXNcclxuXHJcbiAgICAgICAgd2luZG93LnByb2ZpbGUgPSB0aGlzXHJcblxyXG4gICAgICAgIHRoaXMudGVtcCA9IG5ldyBUZW1wKClcclxuICAgICAgICB0aGlzLnJlZ2lvbiA9IG5ldyBSZWdpb24oKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vY3JlYXRlIHRoaXMgZmluYWxseVxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcygpXHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiXHJcblxyXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCIuL0V2ZW50RW1pdHRlci5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXJzb3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgICAgICB0aGlzLmNvb3JkID0gbmV3IFRIUkVFLlZlY3RvcjIoKVxyXG5cclxuICAgICAgICBsZXQgZHJhZyA9IGZhbHNlXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBkcmFnID0gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHBvaW50ZXIgcG9zaXRpb24gaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgLy8gKC0xIHRvICsxKSBmb3IgYm90aCBjb21wb25lbnRzXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvb3JkLnggPSAoZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDIgLSAxXHJcbiAgICAgICAgICAgIHRoaXMuY29vcmQueSA9IC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMVxyXG5cclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwibW92ZVwiKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IChkcmFnID0gZmFsc2UpKVxyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRyYWcpIHRoaXMudHJpZ2dlcihcImNsaWNrXCIpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgd2luZG93Lm9uc2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwic2Nyb2xsXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgZGF0IGZyb20gJ2RhdC5ndWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWJ1Z3tcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0nI2RlYnVnJ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGVidWdNb2RlOlwiK3RoaXMuYWN0aXZlKVxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnVpID0gbmV3IGRhdC5HVUkoKVxyXG4gICAgICAgIH0gICAgICAgXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEVtaXR0ZXJcclxue1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge31cclxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5iYXNlID0ge31cclxuICAgIH1cclxuXHJcbiAgICBvbihfbmFtZXMsIGNhbGxiYWNrKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEVycm9yc1xyXG4gICAgICAgIGlmKHR5cGVvZiBfbmFtZXMgPT09ICd1bmRlZmluZWQnIHx8IF9uYW1lcyA9PT0gJycpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3dyb25nIG5hbWVzJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCd3cm9uZyBjYWxsYmFjaycpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVzb2x2ZSBuYW1lc1xyXG4gICAgICAgIGNvbnN0IG5hbWVzID0gdGhpcy5yZXNvbHZlTmFtZXMoX25hbWVzKVxyXG5cclxuICAgICAgICAvLyBFYWNoIG5hbWVcclxuICAgICAgICBuYW1lcy5mb3JFYWNoKChfbmFtZSkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFJlc29sdmUgbmFtZVxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5yZXNvbHZlTmFtZShfbmFtZSlcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBuYW1lc3BhY2UgaWYgbm90IGV4aXN0XHJcbiAgICAgICAgICAgIGlmKCEodGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF0gaW5zdGFuY2VvZiBPYmplY3QpKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF0gPSB7fVxyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNhbGxiYWNrIGlmIG5vdCBleGlzdFxyXG4gICAgICAgICAgICBpZighKHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0gaW5zdGFuY2VvZiBBcnJheSkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdID0gW11cclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBjYWxsYmFja1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdLnB1c2goY2FsbGJhY2spXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBvZmYoX25hbWVzKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEVycm9yc1xyXG4gICAgICAgIGlmKHR5cGVvZiBfbmFtZXMgPT09ICd1bmRlZmluZWQnIHx8IF9uYW1lcyA9PT0gJycpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3dyb25nIG5hbWUnKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlc29sdmUgbmFtZXNcclxuICAgICAgICBjb25zdCBuYW1lcyA9IHRoaXMucmVzb2x2ZU5hbWVzKF9uYW1lcylcclxuXHJcbiAgICAgICAgLy8gRWFjaCBuYW1lXHJcbiAgICAgICAgbmFtZXMuZm9yRWFjaCgoX25hbWUpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBSZXNvbHZlIG5hbWVcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMucmVzb2x2ZU5hbWUoX25hbWUpXHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgbmFtZXNwYWNlXHJcbiAgICAgICAgICAgIGlmKG5hbWUubmFtZXNwYWNlICE9PSAnYmFzZScgJiYgbmFtZS52YWx1ZSA9PT0gJycpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgc3BlY2lmaWMgY2FsbGJhY2sgaW4gbmFtZXNwYWNlXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgaWYobmFtZS5uYW1lc3BhY2UgPT09ICdiYXNlJylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gcmVtb3ZlIGZyb20gZWFjaCBuYW1lc3BhY2VcclxuICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3QgbmFtZXNwYWNlIGluIHRoaXMuY2FsbGJhY2tzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jYWxsYmFja3NbIG5hbWVzcGFjZSBdIGluc3RhbmNlb2YgT2JqZWN0ICYmIHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdIGluc3RhbmNlb2YgQXJyYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1sgbmFtZXNwYWNlIF1bIG5hbWUudmFsdWUgXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBuYW1lc3BhY2UgaWYgZW1wdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXSkubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1sgbmFtZXNwYWNlIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTcGVjaWZpZWQgbmFtZXNwYWNlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdIGluc3RhbmNlb2YgT2JqZWN0ICYmIHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdWyBuYW1lLnZhbHVlIF0gaW5zdGFuY2VvZiBBcnJheSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF1bIG5hbWUudmFsdWUgXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgbmFtZXNwYWNlIGlmIGVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoT2JqZWN0LmtleXModGhpcy5jYWxsYmFja3NbIG5hbWUubmFtZXNwYWNlIF0pLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoX25hbWUsIF9hcmdzKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEVycm9yc1xyXG4gICAgICAgIGlmKHR5cGVvZiBfbmFtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgX25hbWUgPT09ICcnKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCd3cm9uZyBuYW1lJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZmluYWxSZXN1bHQgPSBudWxsXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGxcclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdCBhcmdzXHJcbiAgICAgICAgY29uc3QgYXJncyA9ICEoX2FyZ3MgaW5zdGFuY2VvZiBBcnJheSkgPyBbXSA6IF9hcmdzXHJcblxyXG4gICAgICAgIC8vIFJlc29sdmUgbmFtZXMgKHNob3VsZCBvbiBoYXZlIG9uZSBldmVudClcclxuICAgICAgICBsZXQgbmFtZSA9IHRoaXMucmVzb2x2ZU5hbWVzKF9uYW1lKVxyXG5cclxuICAgICAgICAvLyBSZXNvbHZlIG5hbWVcclxuICAgICAgICBuYW1lID0gdGhpcy5yZXNvbHZlTmFtZShuYW1lWyAwIF0pXHJcblxyXG4gICAgICAgIC8vIERlZmF1bHQgbmFtZXNwYWNlXHJcbiAgICAgICAgaWYobmFtZS5uYW1lc3BhY2UgPT09ICdiYXNlJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGNhbGxiYWNrIGluIGVhY2ggbmFtZXNwYWNlXHJcbiAgICAgICAgICAgIGZvcihjb25zdCBuYW1lc3BhY2UgaW4gdGhpcy5jYWxsYmFja3MpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXSBpbnN0YW5jZW9mIE9iamVjdCAmJiB0aGlzLmNhbGxiYWNrc1sgbmFtZXNwYWNlIF1bIG5hbWUudmFsdWUgXSBpbnN0YW5jZW9mIEFycmF5KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzWyBuYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGZpbmFsUmVzdWx0ID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxSZXN1bHQgPSByZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNwZWNpZmllZCBuYW1lc3BhY2VcclxuICAgICAgICBlbHNlIGlmKHRoaXMuY2FsbGJhY2tzWyBuYW1lLm5hbWVzcGFjZSBdIGluc3RhbmNlb2YgT2JqZWN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYobmFtZS52YWx1ZSA9PT0gJycpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybignd3JvbmcgbmFtZScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrc1sgbmFtZS5uYW1lc3BhY2UgXVsgbmFtZS52YWx1ZSBdLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGZpbmFsUmVzdWx0ID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgICAgICAgICBmaW5hbFJlc3VsdCA9IHJlc3VsdFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0XHJcbiAgICB9XHJcblxyXG4gICAgcmVzb2x2ZU5hbWVzKF9uYW1lcylcclxuICAgIHtcclxuICAgICAgICBsZXQgbmFtZXMgPSBfbmFtZXNcclxuICAgICAgICBuYW1lcyA9IG5hbWVzLnJlcGxhY2UoL1teYS16QS1aMC05ICwvLl0vZywgJycpXHJcbiAgICAgICAgbmFtZXMgPSBuYW1lcy5yZXBsYWNlKC9bLC9dKy9nLCAnICcpXHJcbiAgICAgICAgbmFtZXMgPSBuYW1lcy5zcGxpdCgnICcpXHJcblxyXG4gICAgICAgIHJldHVybiBuYW1lc1xyXG4gICAgfVxyXG5cclxuICAgIHJlc29sdmVOYW1lKG5hbWUpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IHt9XHJcbiAgICAgICAgY29uc3QgcGFydHMgPSBuYW1lLnNwbGl0KCcuJylcclxuXHJcbiAgICAgICAgbmV3TmFtZS5vcmlnaW5hbCAgPSBuYW1lXHJcbiAgICAgICAgbmV3TmFtZS52YWx1ZSAgICAgPSBwYXJ0c1sgMCBdXHJcbiAgICAgICAgbmV3TmFtZS5uYW1lc3BhY2UgPSAnYmFzZScgLy8gQmFzZSBuYW1lc3BhY2VcclxuXHJcbiAgICAgICAgLy8gU3BlY2lmaWVkIG5hbWVzcGFjZVxyXG4gICAgICAgIGlmKHBhcnRzLmxlbmd0aCA+IDEgJiYgcGFydHNbIDEgXSAhPT0gJycpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuZXdOYW1lLm5hbWVzcGFjZSA9IHBhcnRzWyAxIF1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXdOYW1lXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5cclxuaW1wb3J0IEV4cGVyaWVuY2UgZnJvbSBcIi4uL0V4cGVyaWVuY2UvRXhwZXJpZW5jZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWxwZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoKVxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmV4cGVyaWVuY2Uuc2NlbmVcclxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHRoaXMuZXhwZXJpZW5jZS5yZXNvdXJjZXNcclxuICAgICAgICB0aGlzLnRpbWUgPSB0aGlzLmV4cGVyaWVuY2UudGltZVxyXG4gICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLmV4cGVyaWVuY2UuZGVidWdcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuZXhwZXJpZW5jZS5jYW1lcmFcclxuXHJcbiAgICAgICAgaWYodGhpcy5kZWJ1Zy5hY3RpdmUpe1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1lcmFIZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCB0aGlzLmNhbWVyYS5pbnN0YW5jZSApO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChjYW1lcmFIZWxwZXIpXHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgYXhlc0hlbHBlciA9IG5ldyBUSFJFRS5BeGVzSGVscGVyKDEwKVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChheGVzSGVscGVyKVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGVyaWVuY2Uud29ybGQuZW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSB0aGlzLmV4cGVyaWVuY2Uud29ybGQuZW52aXJvbm1lbnRcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0SGVscGVyKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnQuc3VuTGlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgMC4yXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0Q2FtZXJhSGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlcihcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudmlyb25tZW50LnN1bkxpZ2h0LnNoYWRvdy5jYW1lcmFcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHRDYW1lcmFIZWxwZXIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0SGVscGVyKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXJcIlxyXG5cclxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiLi9FdmVudEVtaXR0ZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VzIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZXMpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5zb3VyY2VzID0gc291cmNlc1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1zID0ge31cclxuICAgICAgICB0aGlzLnRvTG9hZCA9IHRoaXMuc291cmNlcy5sZW5ndGhcclxuICAgICAgICB0aGlzLmxvYWRlZCA9IDBcclxuXHJcbiAgICAgICAgdGhpcy5zZXRMb2FkZXJzKClcclxuICAgICAgICB0aGlzLnN0YXJ0TG9hZGluZygpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0TG9hZGVycygpIHtcclxuICAgICAgICB0aGlzLmxvYWRlcnMgPSB7fVxyXG4gICAgICAgIHRoaXMubG9hZGVycy5nbHRmTG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKVxyXG4gICAgICAgIHRoaXMubG9hZGVycy50ZXh0dXJlTG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKVxyXG4gICAgICAgIHRoaXMubG9hZGVycy5jdWJlVGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5DdWJlVGV4dHVyZUxvYWRlcigpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRMb2FkaW5nKCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc291cmNlIG9mIHRoaXMuc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoc291cmNlLnR5cGUgPT09IFwiZ2x0Zk1vZGVsXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVycy5nbHRmTG9hZGVyLmxvYWQoc291cmNlLnBhdGgsIChmaWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VMb2FkZWQoc291cmNlLCBmaWxlKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc291cmNlLnR5cGUgPT09IFwiY3ViZVRleFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlcnMuY3ViZVRleHR1cmVMb2FkZXIubG9hZChzb3VyY2UucGF0aCwgKGZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUxvYWRlZChzb3VyY2UsIGZpbGUpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UudHlwZSA9PT0gXCJ0ZXhcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZXJzLnRleHR1cmVMb2FkZXIubG9hZChzb3VyY2UucGF0aCwgKGZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUxvYWRlZChzb3VyY2UsIGZpbGUpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNvdXJjZUxvYWRlZChzb3VyY2UsIGZpbGUpIHtcclxuICAgICAgICB0aGlzLml0ZW1zW3NvdXJjZS5uYW1lXSA9IGZpbGVcclxuICAgICAgICBjb25zb2xlLmxvZyhzb3VyY2UsIGZpbGUpXHJcbiAgICAgICAgdGhpcy5sb2FkZWQrK1xyXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCA9PT0gdGhpcy50b0xvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwicmVhZHlcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiLi9FdmVudEVtaXR0ZXIuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2l6ZXMgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgdGhpcy5waXhlbFJhdGlvID0gTWF0aC5taW4od2luZG93LmRldmljZVBpeGVsUmF0aW8sIDIpXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgICAgIHRoaXMucGl4ZWxSYXRpbyA9IE1hdGgubWluKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCAyKVxyXG5cclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwicmVzaXplXCIpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4vRXZlbnRFbWl0dGVyLmpzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZSBleHRlbmRzIEV2ZW50RW1pdHRlclxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgICAgICAvLyBTZXR1cFxyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBEYXRlLm5vdygpXHJcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5zdGFydFxyXG4gICAgICAgIHRoaXMuZWxhcHNlZCA9IDBcclxuICAgICAgICB0aGlzLmRlbHRhID0gMTZcclxuXHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy50aWNrKClcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHRpY2soKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKVxyXG4gICAgICAgIHRoaXMuZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuY3VycmVudFxyXG4gICAgICAgIHRoaXMuY3VycmVudCA9IGN1cnJlbnRUaW1lXHJcbiAgICAgICAgdGhpcy5lbGFwc2VkID0gdGhpcy5jdXJyZW50IC0gdGhpcy5zdGFydFxyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3RpY2snKVxyXG5cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRpY2soKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCIvLyBBbGwgcmlnaHRzIHJlc2VydmVkIGJ5IFlvblxyXG4vLyBpbmRleC5qcyBcclxuLy8gTWFuYWdlciB0aGUgSFRNTCBEb2NcclxuXHJcbmltcG9ydCBcIi4vY3NzL3N0eWxlLmNzc1wiXHJcblxyXG5pbXBvcnQgUHJvZmlsZSBmcm9tIFwiLi9Qcm9maWxlL1Byb2ZpbGVcIjtcclxuXHJcbmNvbnN0IHByb2ZpbGUgPSBuZXcgUHJvZmlsZSgpXHJcblxyXG5cclxuXHJcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9TdXphbm5lL21haW4uanNvblwiOiA1MzQ5LFxuXHRcIi4vZm94L21haW4uanNvblwiOiA2MDkxXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMjQyODsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=